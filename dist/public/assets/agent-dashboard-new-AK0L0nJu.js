import{r as d,j as e}from"./ui-DbSH5uIw.js";import{u,z as j,aJ as f,y as N,N as b,c as l,ar as v,C as t,a1 as p,ah as w,O as x,o as y,V as o,K as A}from"./index-C3yA2dmm.js";import"./vendor-15WF5uYg.js";import"./query-C11-Me4M.js";import"./charts-DfbWf95P.js";function D(){const{user:c,logout:m,isLoggedIn:g}=u(),[,a]=j(),{properties:h}=f();d.useMemo(()=>{N({title:"Agent Dashboard - Choice Properties",description:"Manage your assigned properties and applications",image:"https://choiceproperties.com/og-image.png",url:"https://choiceproperties.com/agent-dashboard"})},[]);const i=h.filter(s=>s.listingAgentId===c?.id),n=d.useMemo(()=>({assignedProperties:i.length,activeListings:i.filter(s=>s.status==="active").length,totalApplications:i.reduce((s,r)=>s+(r.applicationsCount||0),0),pendingApps:i.reduce((s,r)=>s+(r.pendingApplicationsCount||0),0)}),[i]);return!g||!c?(a("/login"),null):e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(b,{}),e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-12",children:e.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Agent Dashboard"}),e.jsx("p",{className:"text-purple-100 mt-2",children:"Manage your assigned properties and applications"})]}),e.jsxs(l,{onClick:()=>{m(),a("/")},variant:"ghost",className:"text-white hover:bg-white/20","data-testid":"button-logout",children:[e.jsx(v,{className:"h-5 w-5 mr-2"}),"Sign Out"]})]})}),e.jsx("div",{className:"container mx-auto px-4 -mt-8 relative z-10 pb-12",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(t,{className:"p-6","data-testid":"stat-assigned-properties",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"Assigned Properties"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 mt-2",children:n.assignedProperties})]}),e.jsx(p,{className:"h-8 w-8 text-purple-500 opacity-20"})]})}),e.jsx(t,{className:"p-6","data-testid":"stat-active-listings",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"Active Listings"}),e.jsx("p",{className:"text-3xl font-bold text-indigo-600 dark:text-indigo-400 mt-2",children:n.activeListings})]}),e.jsx(w,{className:"h-8 w-8 text-indigo-500 opacity-20"})]})}),e.jsx(t,{className:"p-6","data-testid":"stat-total-applications",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"Total Applications"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mt-2",children:n.totalApplications})]}),e.jsx(x,{className:"h-8 w-8 text-green-500 opacity-20"})]})}),e.jsx(t,{className:"p-6","data-testid":"stat-pending",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"Pending Review"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400 mt-2",children:n.pendingApps})]}),e.jsx(y,{className:"h-8 w-8 text-yellow-500 opacity-20"})]})})]})}),e.jsx("div",{className:"container mx-auto px-4 flex-1 pb-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(t,{className:"p-8","data-testid":"section-quick-actions",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(l,{onClick:()=>a("/agent-properties"),className:"w-full justify-between bg-purple-600 hover:bg-purple-700","data-testid":"button-manage-properties",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4"}),"Manage Properties"]}),e.jsx(o,{className:"h-4 w-4"})]}),e.jsxs(l,{onClick:()=>a("/agent-applications"),className:"w-full justify-between bg-indigo-600 hover:bg-indigo-700","data-testid":"button-view-applications",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4"}),"View Applications"]}),e.jsx(o,{className:"h-4 w-4"})]}),e.jsxs(l,{onClick:()=>a("/agent-profile"),variant:"outline",className:"w-full justify-between","data-testid":"button-profile",children:[e.jsx("span",{children:"My Profile & Commission"}),e.jsx(o,{className:"h-4 w-4"})]})]})]}),e.jsxs(t,{className:"p-8","data-testid":"section-overview",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Overview"}),e.jsxs("div",{className:"space-y-4 text-sm text-muted-foreground",children:[e.jsx("p",{children:"Welcome to your agent dashboard! From here you can manage all your assigned properties, review tenant applications, and track your commission."}),e.jsx("p",{children:"• View and manage assigned properties • Review tenant applications • Track commission earnings • Update your profile and license information"}),e.jsxs("p",{className:"text-xs text-muted-foreground italic mt-4",children:["Last updated: ",new Date().toLocaleDateString()]})]})]})]})}),e.jsx(A,{})]})}export{D as default};
