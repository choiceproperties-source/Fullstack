import{r as c,j as e}from"./ui-DbSH5uIw.js";import{u as m,z as x,aJ as h,y as g,N as u,c as i,aF as j,C as r,a1 as N,B as f,at as p,au as b,av as v,Z as w,V as A,K as P}from"./index-C3yA2dmm.js";import{A as B}from"./arrow-left-DiT6yHBU.js";import"./vendor-15WF5uYg.js";import"./query-C11-Me4M.js";import"./charts-DfbWf95P.js";function D(){const{user:d,isLoggedIn:l}=m(),[,t]=x(),{properties:n,loading:o}=h();c.useMemo(()=>{g({title:"My Properties - Agent Dashboard",description:"View and manage your assigned rental properties"})},[]);const a=n.filter(s=>s.listingAgentId===d?.id);return l?e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(u,{}),e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"flex items-center gap-2 mb-4",children:e.jsx(i,{variant:"ghost",className:"text-white hover:bg-white/20 p-0 h-auto",onClick:()=>t("/agent-dashboard"),"data-testid":"button-back",children:e.jsx(B,{className:"h-5 w-5"})})}),e.jsx("h1",{className:"text-3xl font-bold",children:"My Assigned Properties"}),e.jsxs("p",{className:"text-purple-100 mt-2",children:[a.length," properties"]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-12 flex-1",children:o?e.jsx(j,{}):a.length===0?e.jsxs(r,{className:"p-12 text-center","data-testid":"empty-state",children:[e.jsx(N,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No Assigned Properties"}),e.jsx("p",{className:"text-muted-foreground",children:"You don't have any assigned properties yet."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>e.jsxs(r,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer","data-testid":`card-property-${s.id}`,onClick:()=>t(`/property/${s.id}`),children:[s.images&&s.images[0]&&e.jsxs("div",{className:"h-48 bg-gradient-to-br from-purple-400 to-indigo-600 relative overflow-hidden",children:[e.jsx("img",{src:s.images[0],alt:s.title,className:"w-full h-full object-cover"}),e.jsx(f,{className:"absolute top-4 right-4","data-testid":`badge-status-${s.id}`,children:s.status==="active"?"Active":"Inactive"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg text-foreground mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-4",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[s.city,", ",s.state]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 py-4 border-y",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(b,{className:"h-4 w-4 text-muted-foreground mx-auto mb-1"}),e.jsx("span",{className:"text-sm font-semibold",children:s.bedrooms}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Beds"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(v,{className:"h-4 w-4 text-muted-foreground mx-auto mb-1"}),e.jsx("span",{className:"text-sm font-semibold",children:s.bathrooms}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Baths"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(w,{className:"h-4 w-4 text-muted-foreground mx-auto mb-1"}),e.jsxs("span",{className:"text-sm font-semibold",children:["$",parseInt(s.price).toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Month"})]})]}),e.jsxs(i,{variant:"outline",className:"w-full justify-between","data-testid":`button-view-${s.id}`,children:[e.jsx("span",{children:"View Details"}),e.jsx(A,{className:"h-4 w-4"})]})]})]},s.id))})}),e.jsx(P,{})]}):(t("/login"),null)}export{D as default};
