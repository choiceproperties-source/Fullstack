import{r as h,j as e}from"./ui-DbSH5uIw.js";import{y as b,a as f,N,a4 as y,C as S,F as C,G as F,A as p,l as v,c as j,I as m,Q as w,L as M,K as P,a5 as k,r as T}from"./index-C3yA2dmm.js";import{u as E}from"./forms-DE5E1-IR.js";import{t as I,o as L,s as r}from"./types-CF7YDNpg.js";import{F as R,a as n,b as i,c as o,d as c,e as l}from"./form-Dx3lF8C4.js";import{a as W}from"./query-C11-Me4M.js";import"./vendor-15WF5uYg.js";import"./charts-DfbWf95P.js";const q=L({name:r().min(2,"Name must be at least 2 characters"),email:r().email("Please enter a valid email address"),subject:r().min(3,"Subject must be at least 3 characters"),message:r().min(10,"Message must be at least 10 characters")});function Q(){h.useEffect(()=>{b({title:"Contact Us - Choice Properties",description:"Get in touch with Choice Properties. Fill out our contact form and we'll be in touch soon.",image:"https://choiceproperties.com/og-image.png",url:"https://choiceproperties.com/contact"})},[]);const{toast:x}=f(),[d,u]=h.useState("idle"),a=E({resolver:I(q),defaultValues:{name:"",email:"",subject:"",message:""}}),t=W({mutationFn:async s=>(await T("POST","/api/contact",s)).json(),onSuccess:()=>{k("contact",!0),u("success"),a.reset(),x({title:"Message Sent!",description:"We'll get back to you as soon as possible."})},onError:s=>{x({title:"Failed to send message",description:s.message||"Please try again later.",variant:"destructive"})}}),g=s=>{t.mutate(s)};return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(N,{}),e.jsx(y,{items:[{label:"Contact"}]}),e.jsxs("div",{className:"bg-primary py-16 text-center",children:[e.jsx("h1",{className:"font-heading text-4xl font-bold text-white mb-4","data-aos":"zoom-in",children:"Contact Us"}),e.jsx("p",{className:"text-primary-foreground/80 max-w-xl mx-auto px-4","data-aos":"fade-up","data-aos-delay":"200",children:"We're here to help. Reach out to us for any inquiries or support."})]}),e.jsx("div",{className:"container mx-auto px-4 py-16 max-w-2xl",children:e.jsx("div",{className:"space-y-8","data-aos":"fade-up",children:e.jsxs(S,{className:d==="success"?"border-green-200 bg-green-50 dark:bg-green-950/20 dark:border-green-800":"",children:[e.jsx(C,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{children:"Send us a Message"}),d==="success"&&e.jsx(p,{className:"h-5 w-5 text-green-600"})]})}),e.jsx(v,{children:d==="success"?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(p,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-green-900 dark:text-green-100 mb-2",children:"Message Sent Successfully!"}),e.jsx("p",{className:"text-green-800 dark:text-green-200 mb-4",children:"Thank you for contacting us. We'll respond within 24 hours."}),e.jsx(j,{onClick:()=>u("idle"),variant:"outline","data-testid":"button-send-another",children:"Send Another Message"})]}):e.jsx(R,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(g),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{control:a.control,name:"name",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{children:"Name"}),e.jsx(c,{children:e.jsx(m,{placeholder:"Your Name",disabled:t.isPending,"data-testid":"input-name",...s})}),e.jsx(l,{})]})}),e.jsx(n,{control:a.control,name:"email",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{children:"Email"}),e.jsx(c,{children:e.jsx(m,{type:"email",placeholder:"your@email.com",disabled:t.isPending,"data-testid":"input-email",...s})}),e.jsx(l,{})]})})]}),e.jsx(n,{control:a.control,name:"subject",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{children:"Subject"}),e.jsx(c,{children:e.jsx(m,{placeholder:"How can we help?",disabled:t.isPending,"data-testid":"input-subject",...s})}),e.jsx(l,{})]})}),e.jsx(n,{control:a.control,name:"message",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{children:"Message"}),e.jsx(c,{children:e.jsx(w,{placeholder:"Your message...",className:"min-h-[150px]",disabled:t.isPending,"data-testid":"input-message",...s})}),e.jsx(l,{})]})}),e.jsx(j,{type:"submit",className:"w-full bg-primary text-white font-bold h-12 hover:bg-primary/90",disabled:t.isPending,"data-testid":"button-submit",children:t.isPending?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Message"})]})})})]})})}),e.jsx(P,{})]})}export{Q as default};
