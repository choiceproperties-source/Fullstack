import{r as d,j as e}from"./ui-DbSH5uIw.js";import{u as v,z as w,y as C,N as y,c as l,C as n,ay as A,az as k,aA as S,B as c,ar as E,I as x,M as P,P as I,Q as L,Z as F,a2 as M,K as _}from"./index-C3yA2dmm.js";import{A as z}from"./arrow-left-DiT6yHBU.js";import{S as B}from"./save-7LlveasV.js";import{P as T}from"./pen-BEjIonrQ.js";import"./vendor-15WF5uYg.js";import"./query-C11-Me4M.js";import"./charts-DfbWf95P.js";function $(){const{user:s,logout:h,isLoggedIn:u}=v(),[,o]=w(),[t,m]=d.useState(!1),[a,f]=d.useState({fullName:s?.full_name||"",email:s?.email||"",phone:s?.phone||"",bio:s?.bio||""});d.useMemo(()=>{C({title:"Agent Profile - Choice Properties",description:"View and edit your agent profile"})},[]);const i=r=>{const{name:j,value:N}=r.target;f(b=>({...b,[j]:N}))},p=()=>{m(!1)};if(!u||!s)return o("/login"),null;const g=(s.full_name||s.email||"").split(" ").slice(0,2).map(r=>r[0]).join("").toUpperCase();return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(y,{}),e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"flex items-center gap-2 mb-4",children:e.jsx(l,{variant:"ghost",className:"text-white hover:bg-white/20 p-0 h-auto",onClick:()=>o("/agent-dashboard"),"data-testid":"button-back",children:e.jsx(z,{className:"h-5 w-5"})})}),e.jsx("h1",{className:"text-3xl font-bold",children:"Agent Profile"}),e.jsx("p",{className:"text-purple-100 mt-2",children:"Manage your profile and commission information"})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-12 flex-1",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(n,{className:"lg:col-span-1 p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(A,{className:"h-24 w-24 mx-auto mb-4","data-testid":"avatar-profile",children:[e.jsx(k,{src:s.profile_image||"",alt:s.full_name||""}),e.jsx(S,{children:g})]}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:s.full_name||"Agent"}),e.jsx(c,{className:"mt-2","data-testid":"badge-role",children:s.role})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Account"}),e.jsxs(l,{onClick:()=>{h(),o("/")},variant:"outline",className:"w-full justify-start","data-testid":"button-logout",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]}),e.jsxs(n,{className:"lg:col-span-2 p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Profile Information"}),e.jsx(l,{variant:"outline",size:"sm",onClick:()=>m(!t),"data-testid":"button-edit-profile",children:t?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Save"]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Edit"]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Full Name"}),t?e.jsx(x,{name:"fullName",value:a.fullName,onChange:i,placeholder:"Enter full name","data-testid":"input-fullname"}):e.jsx("p",{className:"text-muted-foreground",children:a.fullName||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("p",{children:a.email})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Phone"}),t?e.jsx(x,{name:"phone",value:a.phone,onChange:i,placeholder:"Enter phone number","data-testid":"input-phone"}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:a.phone||"Not provided"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:["Bio (",a.bio.length,"/500)"]}),t?e.jsx(L,{name:"bio",value:a.bio,onChange:i,placeholder:"Tell us about yourself",maxLength:500,className:"resize-none","data-testid":"textarea-bio"}):e.jsx("p",{className:"text-muted-foreground",children:a.bio||"No bio provided"})]}),t&&e.jsx(l,{onClick:p,className:"w-full bg-purple-600 hover:bg-purple-700","data-testid":"button-save-profile",children:"Save Changes"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8",children:[e.jsxs(n,{className:"p-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-foreground mb-6 flex items-center gap-2",children:[e.jsx(F,{className:"h-6 w-6"}),"Commission Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"Commission Rate"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:"3-5%"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"Total Earned"}),e.jsx("p",{className:"text-2xl font-bold text-foreground mt-1",children:"$0.00"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Commission earned this year"})]})]})]}),e.jsxs(n,{className:"p-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-foreground mb-6 flex items-center gap-2",children:[e.jsx(M,{className:"h-6 w-6"}),"License Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"License Number"}),e.jsx("p",{className:"text-foreground mt-1",children:"Not provided"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"License State"}),e.jsx("p",{className:"text-foreground mt-1",children:"Not provided"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"License Status"}),e.jsx(c,{className:"mt-1","data-testid":"badge-license-status",children:"Unverified"})]})]})]})]})]}),e.jsx(_,{})]})}export{$ as default};
