import{r as n,j as e}from"./ui-DbSH5uIw.js";import{u as g,N as m,C as d,n as p,c as a,Y as o,K as c,M as b,I as j}from"./index-C3yA2dmm.js";import{u as y}from"./forms-DE5E1-IR.js";import{t as w,o as N,s as k}from"./types-CF7YDNpg.js";import{F as v,a as F,b as S,c as C,d as E,e as L}from"./form-Dx3lF8C4.js";import{A as P}from"./arrow-left-DiT6yHBU.js";import"./vendor-15WF5uYg.js";import"./query-C11-Me4M.js";import"./charts-DfbWf95P.js";const A=N({email:k().email("Please enter a valid email address")});function W(){const{resetPassword:x}=g(),[r,l]=n.useState(!1),[u,i]=n.useState(!1),s=y({resolver:w(A),defaultValues:{email:""}}),f=async t=>{l(!0);try{await x(t.email),i(!0)}catch(h){s.setError("root",{message:h.message||"Failed to send reset email"})}finally{l(!1)}};return u?e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(m,{}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-4 bg-gradient-to-br from-primary/5 to-secondary/5",children:e.jsxs(d,{className:"max-w-md w-full p-8 shadow-xl border-t-4 border-t-green-500 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(p,{className:"h-8 w-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Check Your Email"}),e.jsxs("p",{className:"text-muted-foreground mb-6",children:["We've sent password reset instructions to ",e.jsx("strong",{children:s.getValues("email")}),". Please check your inbox and follow the link to reset your password."]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Didn't receive the email? Check your spam folder or wait a few minutes before trying again."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{variant:"outline",className:"w-full",onClick:()=>i(!1),"data-testid":"button-try-again",children:"Try Different Email"}),e.jsx(o,{href:"/login",children:e.jsx(a,{className:"w-full","data-testid":"button-back-to-login",children:"Back to Login"})})]})]})}),e.jsx(c,{})]}):e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(m,{}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-4 bg-gradient-to-br from-primary/5 to-secondary/5",children:e.jsxs(d,{className:"max-w-md w-full p-8 shadow-xl border-t-4 border-t-primary",children:[e.jsx(o,{href:"/login",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground cursor-pointer mb-4",children:[e.jsx(P,{className:"h-4 w-4"})," Back to login"]})}),e.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Forgot Password?"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"No worries! Enter your email address and we'll send you instructions to reset your password."}),e.jsx(v,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(f),className:"space-y-4",children:[e.jsx(F,{control:s.control,name:"email",render:({field:t})=>e.jsxs(S,{children:[e.jsxs(C,{className:"font-semibold text-sm flex items-center gap-2",children:[e.jsx(b,{className:"h-4 w-4"})," Email Address"]}),e.jsx(E,{children:e.jsx(j,{type:"email",placeholder:"you@example.com",disabled:r,"data-testid":"input-email",...t})}),e.jsx(L,{})]})}),s.formState.errors.root&&e.jsx("p",{className:"text-red-600 text-sm bg-red-50 dark:bg-red-950/50 p-3 rounded","data-testid":"text-error",children:s.formState.errors.root.message}),e.jsx(a,{type:"submit",className:"w-full",disabled:r,"data-testid":"button-submit",children:r?"Sending...":"Send Reset Link"})]})}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Remember your password?"," ",e.jsx(o,{href:"/login",children:e.jsx("span",{className:"text-primary font-semibold cursor-pointer hover:underline","data-testid":"link-login",children:"Sign in"})})]})]})}),e.jsx(c,{})]})}export{W as default};
