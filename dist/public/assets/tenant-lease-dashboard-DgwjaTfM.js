import{r as v,j as e}from"./ui-DbSH5uIw.js";import{y as f,u as N,z as b,a as p,N as i,K as r,C as l,O as d,Y as c,c as a,o as y,a1 as I,n as o}from"./index-C3yA2dmm.js";import{u as A}from"./query-C11-Me4M.js";import{T as k}from"./timeline-dBNn61u8.js";import{D as m}from"./download-B0ydaUeF.js";import"./vendor-15WF5uYg.js";import"./charts-DfbWf95P.js";function B(){v.useEffect(()=>{f({title:"Lease Dashboard - Choice Properties",description:"Track your lease status, review documents, and prepare for move-in.",url:"https://choiceproperties.com/tenant-lease-dashboard"})},[]);const{user:w,isLoggedIn:x}=N(),[,u]=b();if(p(),!x)return u("/login"),null;const{data:h,isLoading:g}=A({queryKey:["/api/applications/tenant"]}),j=s=>[{id:"lease_preparation",label:"Lease Preparation",description:"Landlord is preparing your lease",status:"completed"},{id:"lease_sent",label:"Lease Sent",description:s.leaseSentAt?"Lease document received":"Waiting for lease...",date:s.leaseSentAt?new Date(s.leaseSentAt):null,status:s.leaseSentAt?"completed":"pending"},{id:"lease_accepted",label:"Lease Accepted",description:s.leaseAcceptedAt?"You accepted the lease":"Review and accept lease",date:s.leaseAcceptedAt?new Date(s.leaseAcceptedAt):null,status:s.leaseAcceptedAt?"completed":s.leaseSentAt?"current":"pending"},{id:"lease_signed",label:"Signed by Both Parties",description:s.leaseSignedAt?"Lease fully executed":"Signatures pending",date:s.leaseSignedAt?new Date(s.leaseSignedAt):null,status:s.leaseSignedAt?"completed":s.leaseAcceptedAt?"current":"pending"},{id:"move_in_ready",label:"Move-In Ready",description:s.moveInDate?`Move-in on ${new Date(s.moveInDate).toLocaleDateString()}`:"Preparing move-in details",date:s.moveInDate?new Date(s.moveInDate):null,status:s.moveInDate?"completed":"pending"}];if(g)return e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading your leases..."})}),e.jsx(r,{})]});const n=h?.filter(s=>["lease_sent","lease_accepted","lease_signed","move_in_ready"].includes(s.leaseStatus))||[];return e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("main",{className:"min-h-screen bg-background py-12",children:e.jsxs("div",{className:"container max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Lease Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Track your lease status and prepare for move-in"})]}),n.length===0?e.jsxs(l,{className:"p-8 text-center",children:[e.jsx(d,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No Active Leases"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have any active leases yet. Browse properties and apply to get started."}),e.jsx(c,{href:"/properties",children:e.jsx(a,{children:"Browse Properties"})})]}):e.jsx("div",{className:"space-y-8",children:n.map(s=>e.jsxs(l,{className:"p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:s.property.title}),e.jsxs("p",{className:"text-muted-foreground",children:[s.property.address,", ",s.property.city,", ",s.property.state]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-400 rounded-full text-sm font-medium",children:[e.jsx(y,{className:"w-4 h-4"}),s.leaseStatus.replace("_"," ").toUpperCase()]})})]})}),e.jsxs("div",{className:"mb-8 py-6 border-t border-b",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lease Timeline"}),e.jsx(k,{steps:j(s)})]}),e.jsxs("div",{className:"space-y-4",children:[s.leaseSentAt&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Documents"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(a,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(m,{className:"w-4 h-4"}),"Download Lease"]}),s.leaseSignedAt&&e.jsxs(a,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(m,{className:"w-4 h-4"}),"Download Signed Lease"]})]})]}),s.moveInInstructions&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Move-In Readiness"}),e.jsxs("div",{className:"space-y-2",children:[s.moveInInstructions.keyPickup&&e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted rounded",children:[e.jsx(I,{className:"w-5 h-5 text-muted-foreground flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Key Pickup"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.moveInInstructions.keyPickup.location," at"," ",s.moveInInstructions.keyPickup.time]})]})]}),s.moveInInstructions.accessDetails&&e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted rounded",children:[e.jsx(o,{className:"w-5 h-5 text-muted-foreground flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Access Details"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:[s.moveInInstructions.accessDetails.gateCode&&"Gate Code",s.moveInInstructions.accessDetails.keypadCode&&"Keypad Code",s.moveInInstructions.accessDetails.smartLockCode&&"Smart Lock"].filter(Boolean).join(", ")})]})]}),s.moveInInstructions.checklistItems&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Move-In Checklist"}),e.jsx("div",{className:"space-y-1",children:s.moveInInstructions.checklistItems.map(t=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${t.completed?"bg-green-100 dark:bg-green-900 border-green-300 dark:border-green-700":"border-muted-foreground"}`,children:t.completed&&e.jsx(o,{className:"w-3 h-3 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:t.completed?"line-through text-muted-foreground":"",children:t.item})]},t.id))})]})]})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t",children:e.jsx(c,{href:`/applications/${s.id}`,children:e.jsxs(a,{variant:"outline",className:"w-full gap-2",children:[e.jsx(d,{className:"w-4 h-4"}),"View Full Application"]})})})]},s.id))})]})}),e.jsx(r,{})]})}export{B as default};
