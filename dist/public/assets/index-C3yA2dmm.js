const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/apply-BP_n_D-6.js","assets/ui-DbSH5uIw.js","assets/vendor-15WF5uYg.js","assets/checkbox-DOjwYwUo.js","assets/forms-DE5E1-IR.js","assets/types-CF7YDNpg.js","assets/form-Dx3lF8C4.js","assets/payment-form-3Jnm-XG2.js","assets/eye-off-Bubmbnfp.js","assets/user-plus-BnoYiih0.js","assets/send-Cf7U_e2v.js","assets/file-check-Dbb_BHol.js","assets/arrow-left-DiT6yHBU.js","assets/upload-BKlhm6vz.js","assets/query-C11-Me4M.js","assets/charts-DfbWf95P.js","assets/about-DhFvM7Uf.js","assets/contact-DnMr5sZJ.js","assets/privacy-B-dq-alk.js","assets/terms-CUN70F5-.js","assets/faq-z4kUuX8e.js","assets/success-stories-C2Bf5VX5.js","assets/login-CfFpxBv7.js","assets/schema-CGOlytRX.js","assets/proxy-BJuH2pIT.js","assets/signup-rxjWApAe.js","assets/index-BQMeD4bJ.js","assets/briefcase-EFKpiKWl.js","assets/forgot-password-DCGaBZ9Y.js","assets/reset-password-oPApywgz.js","assets/auth-callback-DVkAwnXn.js","assets/verify-email-DQsjXkRu.js","assets/select-role-BhtTtGQv.js","assets/applications-CQO5nZcq.js","assets/alert-dialog-D8ssqHVu.js","assets/application-detail-DeO-qs4L.js","assets/progress-BHXBwQCL.js","assets/renter-dashboard-i73Y4nrO.js","assets/dashboard-skeleton-qKk3-62f.js","assets/tenant-profile-wHf9H4od.js","assets/tenant-lease-dashboard-DgwjaTfM.js","assets/timeline-dBNn61u8.js","assets/download-B0ydaUeF.js","assets/tenant-payments-dashboard-BI4qjf1X.js","assets/landlord-dashboard-BtgMg7M9.js","assets/use-owned-properties-DTz-5PDv.js","assets/use-property-applications-CwVe8zV7.js","assets/landlord-properties-e0iVbh_4.js","assets/pen-BEjIonrQ.js","assets/landlord-applications-udjgU7GY.js","assets/landlord-profile-Xd8Qe5vY.js","assets/landlord-lease-dashboard-DO8Fm4j3.js","assets/landlord-payments-verification-BXt6i_8Z.js","assets/landlord-payment-history-Bj9dytnf.js","assets/agent-dashboard-new-AK0L0nJu.js","assets/agent-properties-g6iorhUw.js","assets/agent-applications-F2FbZiwO.js","assets/agent-profile-BjQTRTgR.js","assets/save-7LlveasV.js","assets/admin-0ra1Wcrj.js","assets/admin-storage-monitor-D3jfDPXE.js","assets/messages-DZe8TATi.js","assets/owner-profile-cg_mkz5k.js","assets/property-requirements-7rWioqT9.js"])))=>i.map(i=>d[i]);
import{r as m,a as bc,j as t,P as Bf,C as wc,b as Ff,c as Kn,d as $i,u as $e,B as Hf,e as Re,f as ms,g as xs,h as we,i as Pt,V as _c,k as na,l as Vf,m as jc,n as $f,o as Ct,R as A,p as Wf,q as Nc,O as er,s as Wi,t as tr,v as Zi,T as nr,D as sr,w as qi,x as kc,S as Sc,y as Pc,z as Zf,A as Cc,I as Tc,E as Ec,F as Mc,G as Lc,L as Ac,H as Rc,J as qf,K as Uf,M as sa,N as Ic,Q as Yf,U as Ui,W as Kf,X as Gf,Y as Xf,Z as Jf,_ as Qf,$ as ep,a0 as tp,a1 as np,a2 as sp,a3 as Yi,a4 as Oc,a5 as Dc,a6 as zc,a7 as rp,a8 as Bc,a9 as ap,aa as ip}from"./ui-DbSH5uIw.js";import{a as op,r as lp,g as Fc}from"./vendor-15WF5uYg.js";import{Q as cp,u as $n,a as xn,b as dp}from"./query-C11-Me4M.js";import{c as Hc}from"./charts-DfbWf95P.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function r(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(l){if(l.ep)return;l.ep=!0;const d=r(l);fetch(l.href,d)}})();var Mr={},jl;function up(){if(jl)return Mr;jl=1;var n=op();return Mr.createRoot=n.createRoot,Mr.hydrateRoot=n.hydrateRoot,Mr}var hp=up();const mp="modulepreload",fp=function(n){return"/"+n},Nl={},Me=function(a,r,o){let l=Promise.resolve();if(r&&r.length>0){let g=function(x){return Promise.all(x.map(y=>Promise.resolve(y).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),p=u?.nonce||u?.getAttribute("nonce");l=g(r.map(x=>{if(x=fp(x),x in Nl)return;Nl[x]=!0;const y=x.endsWith(".css"),h=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${h}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":mp,y||(b.as="script"),b.crossOrigin="",b.href=x,p&&b.setAttribute("nonce",p),document.head.appendChild(b),y)return new Promise((_,S)=>{b.addEventListener("load",_),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${x}`)))})}))}function d(u){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=u,window.dispatchEvent(p),!p.defaultPrevented)throw u}return l.then(u=>{for(const p of u||[])p.status==="rejected"&&d(p.reason);return a().catch(d)})};function pp(n,a){if(n instanceof RegExp)return{keys:!1,pattern:n};var r,o,l,d,u=[],p="",g=n.split("/");for(g[0]||g.shift();l=g.shift();)r=l[0],r==="*"?(u.push(r),p+=l[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(o=l.indexOf("?",1),d=l.indexOf(".",1),u.push(l.substring(1,~o?o:~d?d:l.length)),p+=~o&&!~d?"(?:/([^/]+?))?":"/([^/]+?)",~d&&(p+=(~o?"?":"")+"\\"+l.substring(d))):p+="/"+l;return{keys:u,pattern:new RegExp("^"+p+(a?"(?=$|/)":"/?$"),"i")}}var ei={exports:{}},ti={};var kl;function gp(){if(kl)return ti;kl=1;var n=lp();function a(h,b){return h===b&&(h!==0||1/h===1/b)||h!==h&&b!==b}var r=typeof Object.is=="function"?Object.is:a,o=n.useState,l=n.useEffect,d=n.useLayoutEffect,u=n.useDebugValue;function p(h,b){var _=b(),S=o({inst:{value:_,getSnapshot:b}}),j=S[0].inst,w=S[1];return d(function(){j.value=_,j.getSnapshot=b,g(j)&&w({inst:j})},[h,_,b]),l(function(){return g(j)&&w({inst:j}),h(function(){g(j)&&w({inst:j})})},[h]),u(_),_}function g(h){var b=h.getSnapshot;h=h.value;try{var _=b();return!r(h,_)}catch{return!0}}function x(h,b){return b()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x:p;return ti.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,ti}var Sl;function xp(){return Sl||(Sl=1,ei.exports=gp()),ei.exports}var Vc=xp();const vp=bc.useInsertionEffect,yp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$c=yp?m.useLayoutEffect:m.useEffect,bp=vp||$c,Ki=n=>{const a=m.useRef([n,(...r)=>a[0](...r)]).current;return bp(()=>{a[0]=n}),a[1]},wp="popstate",Gi="pushState",Xi="replaceState",_p="hashchange",Pl=[wp,Gi,Xi,_p],jp=n=>{for(const a of Pl)addEventListener(a,n);return()=>{for(const a of Pl)removeEventListener(a,n)}},Wc=(n,a)=>Vc.useSyncExternalStore(jp,n,a),Cl=()=>location.search,Np=({ssrSearch:n}={})=>Wc(Cl,n!=null?()=>n:Cl),Tl=()=>location.pathname,kp=({ssrPath:n}={})=>Wc(Tl,n!=null?()=>n:Tl),Sp=(n,{replace:a=!1,state:r=null}={})=>history[a?Xi:Gi](r,"",n),Pp=(n={})=>[kp(n),Sp],El=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[El]>"u"){for(const n of[Gi,Xi]){const a=history[n];history[n]=function(){const r=a.apply(this,arguments),o=new Event(n);return o.arguments=arguments,dispatchEvent(o),r}}Object.defineProperty(window,El,{value:!0})}const Cp=(n,a)=>a.toLowerCase().indexOf(n.toLowerCase())?"~"+a:a.slice(n.length)||"/",Zc=(n="")=>n==="/"?"":n,Tp=(n,a)=>n[0]==="~"?n.slice(1):Zc(a)+n,Ep=(n="",a)=>Cp(Ml(Zc(n)),Ml(a)),Ml=n=>{try{return decodeURI(n)}catch{return n}},qc={hook:Pp,searchHook:Np,parser:pp,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:n=>n},Uc=m.createContext(qc),Gn=()=>m.useContext(Uc),Yc={},Kc=m.createContext(Yc),Mp=()=>m.useContext(Kc),rr=n=>{const[a,r]=n.hook(n);return[Ep(n.base,a),Ki((o,l)=>r(Tp(o,n.base),l))]},Ji=()=>rr(Gn()),Qi=(n,a,r,o)=>{const{pattern:l,keys:d}=a instanceof RegExp?{keys:!1,pattern:a}:n(a||"*",o),u=l.exec(r)||[],[p,...g]=u;return p!==void 0?[!0,(()=>{const x=d!==!1?Object.fromEntries(d.map((h,b)=>[h,g[b]])):u.groups;let y={...g};return x&&Object.assign(y,x),y})(),...o?[p]:[]]:[!1,null]},Lp=n=>Qi(Gn().parser,n,Ji()[0]),Ap=({children:n,...a})=>{const r=Gn(),o=a.hook?qc:r;let l=o;const[d,u=a.ssrSearch??""]=a.ssrPath?.split("?")??[];d&&(a.ssrSearch=u,a.ssrPath=d),a.hrefs=a.hrefs??a.hook?.hrefs,a.searchHook=a.searchHook??a.hook?.searchHook;let p=m.useRef({}),g=p.current,x=g;for(let y in o){const h=y==="base"?o[y]+(a[y]??""):a[y]??o[y];g===x&&h!==x[y]&&(p.current=x={...x}),x[y]=h,(h!==o[y]||h!==l[y])&&(l=x)}return m.createElement(Uc.Provider,{value:l,children:n})},Ll=({children:n,component:a},r)=>a?m.createElement(a,{params:r}):typeof n=="function"?n(r):n,Rp=n=>{let a=m.useRef(Yc);const r=a.current;return a.current=Object.keys(n).length!==Object.keys(r).length||Object.entries(n).some(([o,l])=>l!==r[o])?n:r},ke=({path:n,nest:a,match:r,...o})=>{const l=Gn(),[d]=rr(l),[u,p,g]=r??Qi(l.parser,n,d,a),x=Rp({...Mp(),...p});if(!u)return null;const y=g?m.createElement(Ap,{base:g},Ll(o,x)):Ll(o,x);return m.createElement(Kc.Provider,{value:x,children:y})},Ae=m.forwardRef((n,a)=>{const r=Gn(),[o,l]=rr(r),{to:d="",href:u=d,onClick:p,asChild:g,children:x,className:y,replace:h,state:b,..._}=n,S=Ki(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(p?.(w),w.defaultPrevented||(w.preventDefault(),l(u,n)))}),j=r.hrefs(u[0]==="~"?u.slice(1):r.base+u,r);return g&&m.isValidElement(x)?m.cloneElement(x,{onClick:S,href:j}):m.createElement("a",{..._,onClick:S,href:j,className:y?.call?y(o===u):y,children:x,ref:a})}),Gc=n=>Array.isArray(n)?n.flatMap(a=>Gc(a&&a.type===m.Fragment?a.props.children:a)):[n],Ip=({children:n,location:a})=>{const r=Gn(),[o]=rr(r);for(const l of Gc(n)){let d=0;if(m.isValidElement(l)&&(d=Qi(r.parser,l.props.path,a||o,l.props.nest))[0])return m.cloneElement(l,{match:d})}return null},Lr=n=>{const{to:a,href:r=a}=n,o=Gn(),[,l]=rr(o),d=Ki(()=>l(a||r,n)),{ssrContext:u}=o;return $c(()=>{d()},[]),u&&(u.redirectTo=a),null};let Rt=null;{const n=[];n.push("VITE_SUPABASE_URL"),n.push("VITE_SUPABASE_ANON_KEY"),console.error(`[SUPABASE] Configuration incomplete. Missing: ${n.join(", ")}
Authentication and database features will not work.
Add these variables to Replit Secrets. See SETUP.md for instructions.`)}const Xc=m.createContext(void 0),Op=n=>n==="buyer"?"renter":n||"renter";function Dp({children:n}){const[a,r]=m.useState(null),[o,l]=m.useState(!1),[d,u]=m.useState(!1);m.useRef(!0),m.useEffect(()=>{{l(!0);return}},[]);const p=async(_,S,j=!0)=>{const{data:w,error:k}=await Rt.auth.signInWithPassword({email:_,password:S,options:{shouldCreateUser:!1}});if(k)throw k;return j||await Rt.auth.refreshSession(),Op(w.user?.user_metadata?.role)},g=async(_,S,j,w,k="renter")=>{const T=window.location.origin,{data:P,error:z}=await Rt.auth.signUp({email:_,password:j,options:{emailRedirectTo:`${T}/auth/callback`,data:{full_name:S,phone:w,role:k}}});if(z)throw z;return P.user&&await Rt.from("users").upsert({id:P.user.id,email:_,full_name:S,phone:w,role:k}),k},x=async _=>{if(!a)throw new Error("No user");await Rt.auth.updateUser({data:{role:_}}),await Rt.from("users").upsert({id:a.id,email:a.email,full_name:a.full_name,role:_}),r({...a,role:_,needs_role_selection:!1})},y=async()=>{await Rt.auth.signOut(),r(null),u(!1)},h=async _=>{const S=window.location.origin;await Rt.auth.resetPasswordForEmail(_,{redirectTo:`${S}/reset-password`})},b=async()=>{if(!a?.email)throw new Error("No email");const _=window.location.origin;await Rt.auth.resend({type:"signup",email:a.email,options:{emailRedirectTo:`${_}/auth/callback`}})};return t.jsx(Xc.Provider,{value:{user:a,login:p,signup:g,logout:y,updateUserRole:x,resetPassword:h,resendVerificationEmail:b,isLoggedIn:!!a,isLoading:!o,isEmailVerified:d},children:n})}function vs(){const n=m.useContext(Xc);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}async function Jc(){const{data:{session:n}}=await Rt.auth.getSession();return n?.access_token||null}async function Qc(n){if(!n.ok){const a=await n.text()||n.statusText;throw new Error(`${n.status}: ${a}`)}}async function vn(n,a,r){const o=await Jc(),l=r?{"Content-Type":"application/json"}:{};o&&(l.Authorization=`Bearer ${o}`);const d=await fetch(a,{method:n,headers:l,body:r?JSON.stringify(r):void 0,credentials:"include"});return await Qc(d),d}const zp=({on401:n})=>async({queryKey:a})=>{const r=await Jc(),o={};r&&(o.Authorization=`Bearer ${r}`);const l=await fetch(a.join("/"),{headers:o,credentials:"include"});return await Qc(l),await l.json()},Bp={PROPERTIES:120*1e3},Fn=new cp({defaultOptions:{queries:{queryFn:zp({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:Bp.PROPERTIES,gcTime:600*1e3,retry:1,retryDelay:1e3},mutations:{retry:!1}}});const Fp=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hp=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,o)=>o?o.toUpperCase():r.toLowerCase()),Al=n=>{const a=Hp(n);return a.charAt(0).toUpperCase()+a.slice(1)},ed=(...n)=>n.filter((a,r,o)=>!!a&&a.trim()!==""&&o.indexOf(a)===r).join(" ").trim(),Vp=n=>{for(const a in n)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var $p={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wp=m.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:l="",children:d,iconNode:u,...p},g)=>m.createElement("svg",{ref:g,...$p,width:a,height:a,stroke:n,strokeWidth:o?Number(r)*24/Number(a):r,className:ed("lucide",l),...!d&&!Vp(p)&&{"aria-hidden":"true"},...p},[...u.map(([x,y])=>m.createElement(x,y)),...Array.isArray(d)?d:[d]]));const ee=(n,a)=>{const r=m.forwardRef(({className:o,...l},d)=>m.createElement(Wp,{ref:d,iconNode:a,className:ed(`lucide-${Fp(Al(n))}`,`lucide-${n}`,o),...l}));return r.displayName=Al(n),r};const Zp=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],qp=ee("armchair",Zp);const Up=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gi=ee("arrow-right",Up);const Yp=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],td=ee("award",Yp);const Kp=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],ra=ee("bath",Kp);const Gp=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],ar=ee("bed",Gp);const Xp=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ni=ee("bell",Xp);const Jp=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],si=ee("bookmark",Jp);const Qp=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],eo=ee("building-2",Qp);const eg=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],tg=ee("bus",eg);const ng=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],sg=ee("calculator",ng);const rg=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wn=ee("calendar",rg);const ag=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],ig=ee("car",ag);const og=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vr=ee("check",og);const lg=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bn=ee("chevron-down",lg);const cg=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$r=ee("chevron-left",cg);const dg=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fs=ee("chevron-right",dg);const ug=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Hn=ee("chevron-up",ug);const hg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xi=ee("circle-alert",hg);const mg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rn=ee("circle-check",mg);const fg=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zn=ee("circle-check-big",fg);const pg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Rl=ee("circle-x",pg);const gg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nd=ee("circle",gg);const xg=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ys=ee("clock",xg);const vg=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],yg=ee("coffee",vg);const bg=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],Il=ee("dog",bg);const wg=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ks=ee("dollar-sign",wg);const _g=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],jg=ee("dumbbell",_g);const Ng=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],to=ee("eye",Ng);const kg=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Sg=ee("facebook",kg);const Pg=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],no=ee("file-text",Pg);const Cg=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Tg=ee("flame",Cg);const Eg=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],sd=ee("funnel",Eg);const Mg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Lg=ee("globe",Mg);const Ag=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Rg=ee("graduation-cap",Ag);const Ig=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Og=ee("grid-3x3",Ig);const Dg=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],qn=ee("heart",Dg);const zg=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ir=ee("house",zg);const Bg=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Wr=ee("image",Bg);const Fg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Hg=ee("info",Fg);const Vg=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],$g=ee("instagram",Vg);const Wg=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Zg=ee("layout-grid",Wg);const qg=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ug=ee("list",qg);const Yg=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ol=ee("loader-circle",Yg);const Kg=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dl=ee("log-out",Kg);const Gg=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zl=ee("lock",Gg);const Xg=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],aa=ee("mail",Xg);const Jg=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Tt=ee("map-pin",Jg);const Qg=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ex=ee("map",Qg);const tx=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],ia=ee("maximize",tx);const nx=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],rd=ee("menu",nx);const sx=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],rx=ee("message-circle",sx);const ax=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ad=ee("message-square",ax);const ix=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],id=ee("package",ix);const ox=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],so=ee("paw-print",ox);const lx=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],oa=ee("phone",lx);const cx=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Bl=ee("pin",cx);const dx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ux=ee("plus",dx);const hx=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],mx=ee("refresh-cw",hx);const fx=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],px=ee("scale",fx);const gx=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],xx=ee("school",gx);const vx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wn=ee("search",vx);const yx=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],od=ee("settings",yx);const bx=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],la=ee("share-2",bx);const wx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_x=ee("shield-check",wx);const jx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Gs=ee("shield",jx);const Nx=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],kx=ee("shopping-bag",Nx);const Sx=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Px=ee("shopping-cart",Sx);const Cx=[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]],vi=ee("sofa",Cx);const Tx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ex=ee("sparkles",Tx);const Mx=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lx=ee("square-check-big",Mx);const Ax=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ln=ee("star",Ax);const Rx=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],Ix=ee("sticky-note",Rx);const Ox=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],Dx=ee("tram-front",Ox);const zx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bx=ee("trash-2",zx);const Fx=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],ld=ee("trees",Fx);const Hx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],cd=ee("trending-up",Hx);const Vx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$x=ee("triangle-alert",Vx);const Wx=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Zx=ee("twitter",Wx);const qx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zr=ee("users",qx);const Ux=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dd=ee("user",Ux);const Yx=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],ud=ee("utensils-crossed",Yx);const Kx=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Gx=ee("utensils",Kx);const Xx=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],yi=ee("video",Xx);const Jx=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Qx=ee("warehouse",Jx);const ev=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],Fl=ee("wind",ev);const tv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cn=ee("x",tv);const nv=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Xs=ee("zap",nv);function st({children:n,requiredRoles:a,redirectTo:r="/login",requireEmailVerification:o=!1}){const{user:l,isLoading:d,isEmailVerified:u}=vs();return d?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(Ol,{className:"h-8 w-8 animate-spin text-primary"})}):l?l.role?l.needs_role_selection?t.jsx(Lr,{to:"/select-role"}):o&&!u?t.jsx(Lr,{to:"/verify-email"}):a&&!a.includes(l.role)?t.jsx(Lr,{to:"/"}):t.jsx(t.Fragment,{children:n}):t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(Ol,{className:"h-8 w-8 animate-spin text-primary"})}):t.jsx(Lr,{to:r})}const sv=(n,a)=>{const r=new Array(n.length+a.length);for(let o=0;o<n.length;o++)r[o]=n[o];for(let o=0;o<a.length;o++)r[n.length+o]=a[o];return r},rv=(n,a)=>({classGroupId:n,validator:a}),hd=(n=new Map,a=null,r)=>({nextPart:n,validators:a,classGroupId:r}),qr="-",Hl=[],av="arbitrary..",iv=n=>{const a=lv(n),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return ov(u);const p=u.split(qr),g=p[0]===""&&p.length>1?1:0;return md(p,g,a)},getConflictingClassGroupIds:(u,p)=>{if(p){const g=o[u],x=r[u];return g?x?sv(x,g):g:x||Hl}return r[u]||Hl}}},md=(n,a,r)=>{if(n.length-a===0)return r.classGroupId;const l=n[a],d=r.nextPart.get(l);if(d){const x=md(n,a+1,d);if(x)return x}const u=r.validators;if(u===null)return;const p=a===0?n.join(qr):n.slice(a).join(qr),g=u.length;for(let x=0;x<g;x++){const y=u[x];if(y.validator(p))return y.classGroupId}},ov=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const a=n.slice(1,-1),r=a.indexOf(":"),o=a.slice(0,r);return o?av+o:void 0})(),lv=n=>{const{theme:a,classGroups:r}=n;return cv(r,a)},cv=(n,a)=>{const r=hd();for(const o in n){const l=n[o];ro(l,r,o,a)}return r},ro=(n,a,r,o)=>{const l=n.length;for(let d=0;d<l;d++){const u=n[d];dv(u,a,r,o)}},dv=(n,a,r,o)=>{if(typeof n=="string"){uv(n,a,r);return}if(typeof n=="function"){hv(n,a,r,o);return}mv(n,a,r,o)},uv=(n,a,r)=>{const o=n===""?a:fd(a,n);o.classGroupId=r},hv=(n,a,r,o)=>{if(fv(n)){ro(n(o),a,r,o);return}a.validators===null&&(a.validators=[]),a.validators.push(rv(r,n))},mv=(n,a,r,o)=>{const l=Object.entries(n),d=l.length;for(let u=0;u<d;u++){const[p,g]=l[u];ro(g,fd(a,p),r,o)}},fd=(n,a)=>{let r=n;const o=a.split(qr),l=o.length;for(let d=0;d<l;d++){const u=o[d];let p=r.nextPart.get(u);p||(p=hd(),r.nextPart.set(u,p)),r=p}return r},fv=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,pv=n=>{if(n<1)return{get:()=>{},set:()=>{}};let a=0,r=Object.create(null),o=Object.create(null);const l=(d,u)=>{r[d]=u,a++,a>n&&(a=0,o=r,r=Object.create(null))};return{get(d){let u=r[d];if(u!==void 0)return u;if((u=o[d])!==void 0)return l(d,u),u},set(d,u){d in r?r[d]=u:l(d,u)}}},bi="!",Vl=":",gv=[],$l=(n,a,r,o,l)=>({modifiers:n,hasImportantModifier:a,baseClassName:r,maybePostfixModifierPosition:o,isExternal:l}),xv=n=>{const{prefix:a,experimentalParseClassName:r}=n;let o=l=>{const d=[];let u=0,p=0,g=0,x;const y=l.length;for(let j=0;j<y;j++){const w=l[j];if(u===0&&p===0){if(w===Vl){d.push(l.slice(g,j)),g=j+1;continue}if(w==="/"){x=j;continue}}w==="["?u++:w==="]"?u--:w==="("?p++:w===")"&&p--}const h=d.length===0?l:l.slice(g);let b=h,_=!1;h.endsWith(bi)?(b=h.slice(0,-1),_=!0):h.startsWith(bi)&&(b=h.slice(1),_=!0);const S=x&&x>g?x-g:void 0;return $l(d,_,b,S)};if(a){const l=a+Vl,d=o;o=u=>u.startsWith(l)?d(u.slice(l.length)):$l(gv,!1,u,void 0,!0)}if(r){const l=o;o=d=>r({className:d,parseClassName:l})}return o},vv=n=>{const a=new Map;return n.orderSensitiveModifiers.forEach((r,o)=>{a.set(r,1e6+o)}),r=>{const o=[];let l=[];for(let d=0;d<r.length;d++){const u=r[d],p=u[0]==="[",g=a.has(u);p||g?(l.length>0&&(l.sort(),o.push(...l),l=[]),o.push(u)):l.push(u)}return l.length>0&&(l.sort(),o.push(...l)),o}},yv=n=>({cache:pv(n.cacheSize),parseClassName:xv(n),sortModifiers:vv(n),...iv(n)}),bv=/\s+/,wv=(n,a)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:l,sortModifiers:d}=a,u=[],p=n.trim().split(bv);let g="";for(let x=p.length-1;x>=0;x-=1){const y=p[x],{isExternal:h,modifiers:b,hasImportantModifier:_,baseClassName:S,maybePostfixModifierPosition:j}=r(y);if(h){g=y+(g.length>0?" "+g:g);continue}let w=!!j,k=o(w?S.substring(0,j):S);if(!k){if(!w){g=y+(g.length>0?" "+g:g);continue}if(k=o(S),!k){g=y+(g.length>0?" "+g:g);continue}w=!1}const T=b.length===0?"":b.length===1?b[0]:d(b).join(":"),P=_?T+bi:T,z=P+k;if(u.indexOf(z)>-1)continue;u.push(z);const Q=l(k,w);for(let B=0;B<Q.length;++B){const H=Q[B];u.push(P+H)}g=y+(g.length>0?" "+g:g)}return g},_v=(...n)=>{let a=0,r,o,l="";for(;a<n.length;)(r=n[a++])&&(o=pd(r))&&(l&&(l+=" "),l+=o);return l},pd=n=>{if(typeof n=="string")return n;let a,r="";for(let o=0;o<n.length;o++)n[o]&&(a=pd(n[o]))&&(r&&(r+=" "),r+=a);return r},jv=(n,...a)=>{let r,o,l,d;const u=g=>{const x=a.reduce((y,h)=>h(y),n());return r=yv(x),o=r.cache.get,l=r.cache.set,d=p,p(g)},p=g=>{const x=o(g);if(x)return x;const y=wv(g,r);return l(g,y),y};return d=u,(...g)=>d(_v(...g))},Nv=[],at=n=>{const a=r=>r[n]||Nv;return a.isThemeGetter=!0,a},gd=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xd=/^\((?:(\w[\w-]*):)?(.+)\)$/i,kv=/^\d+\/\d+$/,Sv=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Pv=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cv=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Tv=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ev=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ds=n=>kv.test(n),Pe=n=>!!n&&!Number.isNaN(Number(n)),fn=n=>!!n&&Number.isInteger(Number(n)),ri=n=>n.endsWith("%")&&Pe(n.slice(0,-1)),sn=n=>Sv.test(n),Mv=()=>!0,Lv=n=>Pv.test(n)&&!Cv.test(n),vd=()=>!1,Av=n=>Tv.test(n),Rv=n=>Ev.test(n),Iv=n=>!le(n)&&!ce(n),Ov=n=>ys(n,wd,vd),le=n=>gd.test(n),Dn=n=>ys(n,_d,Lv),ai=n=>ys(n,Hv,Pe),Wl=n=>ys(n,yd,vd),Dv=n=>ys(n,bd,Rv),Ar=n=>ys(n,jd,Av),ce=n=>xd.test(n),Os=n=>bs(n,_d),zv=n=>bs(n,Vv),Zl=n=>bs(n,yd),Bv=n=>bs(n,wd),Fv=n=>bs(n,bd),Rr=n=>bs(n,jd,!0),ys=(n,a,r)=>{const o=gd.exec(n);return o?o[1]?a(o[1]):r(o[2]):!1},bs=(n,a,r=!1)=>{const o=xd.exec(n);return o?o[1]?a(o[1]):r:!1},yd=n=>n==="position"||n==="percentage",bd=n=>n==="image"||n==="url",wd=n=>n==="length"||n==="size"||n==="bg-size",_d=n=>n==="length",Hv=n=>n==="number",Vv=n=>n==="family-name",jd=n=>n==="shadow",$v=()=>{const n=at("color"),a=at("font"),r=at("text"),o=at("font-weight"),l=at("tracking"),d=at("leading"),u=at("breakpoint"),p=at("container"),g=at("spacing"),x=at("radius"),y=at("shadow"),h=at("inset-shadow"),b=at("text-shadow"),_=at("drop-shadow"),S=at("blur"),j=at("perspective"),w=at("aspect"),k=at("ease"),T=at("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Q=()=>[...z(),ce,le],B=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto","contain","none"],R=()=>[ce,le,g],W=()=>[ds,"full","auto",...R()],K=()=>[fn,"none","subgrid",ce,le],F=()=>["auto",{span:["full",fn,ce,le]},fn,ce,le],C=()=>[fn,"auto",ce,le],V=()=>["auto","min","max","fr",ce,le],D=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...R()],te=()=>[ds,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],I=()=>[n,ce,le],G=()=>[...z(),Zl,Wl,{position:[ce,le]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ue=()=>["auto","cover","contain",Bv,Ov,{size:[ce,le]}],ye=()=>[ri,Os,Dn],E=()=>["","none","full",x,ce,le],X=()=>["",Pe,Os,Dn],J=()=>["solid","dashed","dotted","double"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>[Pe,ri,Zl,Wl],ne=()=>["","none",S,ce,le],be=()=>["none",Pe,ce,le],pe=()=>["none",Pe,ce,le],fe=()=>[Pe,ce,le],xe=()=>[ds,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[sn],breakpoint:[sn],color:[Mv],container:[sn],"drop-shadow":[sn],ease:["in","out","in-out"],font:[Iv],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[sn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[sn],shadow:[sn],spacing:["px",Pe],text:[sn],"text-shadow":[sn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ds,le,ce,w]}],container:["container"],columns:[{columns:[Pe,le,ce,p]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Q()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[fn,"auto",ce,le]}],basis:[{basis:[ds,"full","auto",p,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,ds,"auto","initial","none",le]}],grow:[{grow:["",Pe,ce,le]}],shrink:[{shrink:["",Pe,ce,le]}],order:[{order:[fn,"first","last","none",ce,le]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[p,"screen",...te()]}],"min-w":[{"min-w":[p,"screen","none",...te()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[u]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",r,Os,Dn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,ce,ai]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ri,le]}],"font-family":[{font:[zv,le,a]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,ce,le]}],"line-clamp":[{"line-clamp":[Pe,"none",ce,ai]}],leading:[{leading:[d,...R()]}],"list-image":[{"list-image":["none",ce,le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",ce,Dn]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Pe,"auto",ce,le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:ue()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fn,ce,le],radial:["",ce,le],conic:[fn,ce,le]},Fv,Dv]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:ye()}],"gradient-via-pos":[{via:ye()}],"gradient-to-pos":[{to:ye()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:E()}],"rounded-s":[{"rounded-s":E()}],"rounded-e":[{"rounded-e":E()}],"rounded-t":[{"rounded-t":E()}],"rounded-r":[{"rounded-r":E()}],"rounded-b":[{"rounded-b":E()}],"rounded-l":[{"rounded-l":E()}],"rounded-ss":[{"rounded-ss":E()}],"rounded-se":[{"rounded-se":E()}],"rounded-ee":[{"rounded-ee":E()}],"rounded-es":[{"rounded-es":E()}],"rounded-tl":[{"rounded-tl":E()}],"rounded-tr":[{"rounded-tr":E()}],"rounded-br":[{"rounded-br":E()}],"rounded-bl":[{"rounded-bl":E()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,ce,le]}],"outline-w":[{outline:["",Pe,Os,Dn]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",y,Rr,Ar]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",h,Rr,Ar]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Pe,Dn]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",b,Rr,Ar]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Pe,ce,le]}],"mix-blend":[{"mix-blend":[...Y(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Y()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":$()}],"mask-image-linear-to-pos":[{"mask-linear-to":$()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":$()}],"mask-image-t-to-pos":[{"mask-t-to":$()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":$()}],"mask-image-r-to-pos":[{"mask-r-to":$()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":$()}],"mask-image-b-to-pos":[{"mask-b-to":$()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":$()}],"mask-image-l-to-pos":[{"mask-l-to":$()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":$()}],"mask-image-x-to-pos":[{"mask-x-to":$()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":$()}],"mask-image-y-to-pos":[{"mask-y-to":$()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[ce,le]}],"mask-image-radial-from-pos":[{"mask-radial-from":$()}],"mask-image-radial-to-pos":[{"mask-radial-to":$()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":$()}],"mask-image-conic-to-pos":[{"mask-conic-to":$()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:ue()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,le]}],filter:[{filter:["","none",ce,le]}],blur:[{blur:ne()}],brightness:[{brightness:[Pe,ce,le]}],contrast:[{contrast:[Pe,ce,le]}],"drop-shadow":[{"drop-shadow":["","none",_,Rr,Ar]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Pe,ce,le]}],"hue-rotate":[{"hue-rotate":[Pe,ce,le]}],invert:[{invert:["",Pe,ce,le]}],saturate:[{saturate:[Pe,ce,le]}],sepia:[{sepia:["",Pe,ce,le]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,le]}],"backdrop-blur":[{"backdrop-blur":ne()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,ce,le]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,ce,le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,ce,le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,ce,le]}],"backdrop-invert":[{"backdrop-invert":["",Pe,ce,le]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,ce,le]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,ce,le]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,ce,le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",ce,le]}],ease:[{ease:["linear","initial",k,ce,le]}],delay:[{delay:[Pe,ce,le]}],animate:[{animate:["none",T,ce,le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,ce,le]}],"perspective-origin":[{"perspective-origin":Q()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[ce,le,"","none","gpu","cpu"]}],"transform-origin":[{origin:Q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,le]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Pe,Os,Dn,ai]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Wv=jv($v);function de(...n){return Wv(Hc(n))}const Zv=Ff,qv=m.forwardRef(({className:n,sideOffset:a=4,...r},o)=>t.jsx(Bf,{children:t.jsx(wc,{ref:o,sideOffset:a,className:de("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...r})}));qv.displayName=wc.displayName;const Uv=1,Yv=1e6;let ii=0;function Kv(){return ii=(ii+1)%Number.MAX_SAFE_INTEGER,ii.toString()}const oi=new Map,ql=n=>{if(oi.has(n))return;const a=setTimeout(()=>{oi.delete(n),Us({type:"REMOVE_TOAST",toastId:n})},Yv);oi.set(n,a)},Gv=(n,a)=>{switch(a.type){case"ADD_TOAST":return{...n,toasts:[a.toast,...n.toasts].slice(0,Uv)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(r=>r.id===a.toast.id?{...r,...a.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=a;return r?ql(r):n.toasts.forEach(o=>{ql(o.id)}),{...n,toasts:n.toasts.map(o=>o.id===r||r===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return a.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(r=>r.id!==a.toastId)}}},Br=[];let Fr={toasts:[]};function Us(n){Fr=Gv(Fr,n),Br.forEach(a=>{a(Fr)})}function Xv({...n}){const a=Kv(),r=l=>Us({type:"UPDATE_TOAST",toast:{...l,id:a}}),o=()=>Us({type:"DISMISS_TOAST",toastId:a});return Us({type:"ADD_TOAST",toast:{...n,id:a,open:!0,onOpenChange:l=>{l||o()}}}),{id:a,dismiss:o,update:r}}function ao(){const[n,a]=m.useState(Fr);return m.useEffect(()=>(Br.push(a),()=>{const r=Br.indexOf(a);r>-1&&Br.splice(r,1)}),[n]),{...n,toast:Xv,dismiss:r=>Us({type:"DISMISS_TOAST",toastId:r})}}var io="ToastProvider",[oo,Jv,Qv]=$i("Toast"),[Nd]=Kn("Toast",[Qv]),[e0,ca]=Nd(io),kd=n=>{const{__scopeToast:a,label:r="Notification",duration:o=5e3,swipeDirection:l="right",swipeThreshold:d=50,children:u}=n,[p,g]=m.useState(null),[x,y]=m.useState(0),h=m.useRef(!1),b=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${io}\`. Expected non-empty \`string\`.`),t.jsx(oo.Provider,{scope:a,children:t.jsx(e0,{scope:a,label:r,duration:o,swipeDirection:l,swipeThreshold:d,toastCount:x,viewport:p,onViewportChange:g,onToastAdd:m.useCallback(()=>y(_=>_+1),[]),onToastRemove:m.useCallback(()=>y(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:b,children:u})})};kd.displayName=io;var Sd="ToastViewport",t0=["F8"],wi="toast.viewportPause",_i="toast.viewportResume",Pd=m.forwardRef((n,a)=>{const{__scopeToast:r,hotkey:o=t0,label:l="Notifications ({hotkey})",...d}=n,u=ca(Sd,r),p=Jv(r),g=m.useRef(null),x=m.useRef(null),y=m.useRef(null),h=m.useRef(null),b=$e(a,h,u.onViewportChange),_=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=u.toastCount>0;m.useEffect(()=>{const w=k=>{o.length!==0&&o.every(P=>k[P]||k.code===P)&&h.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[o]),m.useEffect(()=>{const w=g.current,k=h.current;if(S&&w&&k){const T=()=>{if(!u.isClosePausedRef.current){const B=new CustomEvent(wi);k.dispatchEvent(B),u.isClosePausedRef.current=!0}},P=()=>{if(u.isClosePausedRef.current){const B=new CustomEvent(_i);k.dispatchEvent(B),u.isClosePausedRef.current=!1}},z=B=>{!w.contains(B.relatedTarget)&&P()},Q=()=>{w.contains(document.activeElement)||P()};return w.addEventListener("focusin",T),w.addEventListener("focusout",z),w.addEventListener("pointermove",T),w.addEventListener("pointerleave",Q),window.addEventListener("blur",T),window.addEventListener("focus",P),()=>{w.removeEventListener("focusin",T),w.removeEventListener("focusout",z),w.removeEventListener("pointermove",T),w.removeEventListener("pointerleave",Q),window.removeEventListener("blur",T),window.removeEventListener("focus",P)}}},[S,u.isClosePausedRef]);const j=m.useCallback(({tabbingDirection:w})=>{const T=p().map(P=>{const z=P.ref.current,Q=[z,...f0(z)];return w==="forwards"?Q:Q.reverse()});return(w==="forwards"?T.reverse():T).flat()},[p]);return m.useEffect(()=>{const w=h.current;if(w){const k=T=>{const P=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!P){const Q=document.activeElement,B=T.shiftKey;if(T.target===w&&B){x.current?.focus();return}const W=j({tabbingDirection:B?"backwards":"forwards"}),K=W.findIndex(F=>F===Q);li(W.slice(K+1))?T.preventDefault():B?x.current?.focus():y.current?.focus()}};return w.addEventListener("keydown",k),()=>w.removeEventListener("keydown",k)}},[p,j]),t.jsxs(Hf,{ref:g,role:"region","aria-label":l.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&t.jsx(ji,{ref:x,onFocusFromOutsideViewport:()=>{const w=j({tabbingDirection:"forwards"});li(w)}}),t.jsx(oo.Slot,{scope:r,children:t.jsx(Re.ol,{tabIndex:-1,...d,ref:b})}),S&&t.jsx(ji,{ref:y,onFocusFromOutsideViewport:()=>{const w=j({tabbingDirection:"backwards"});li(w)}})]})});Pd.displayName=Sd;var Cd="ToastFocusProxy",ji=m.forwardRef((n,a)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...l}=n,d=ca(Cd,r);return t.jsx(_c,{tabIndex:0,...l,ref:a,style:{position:"fixed"},onFocus:u=>{const p=u.relatedTarget;!d.viewport?.contains(p)&&o()}})});ji.displayName=Cd;var or="Toast",n0="toast.swipeStart",s0="toast.swipeMove",r0="toast.swipeCancel",a0="toast.swipeEnd",Td=m.forwardRef((n,a)=>{const{forceMount:r,open:o,defaultOpen:l,onOpenChange:d,...u}=n,[p,g]=ms({prop:o,defaultProp:l??!0,onChange:d,caller:or});return t.jsx(xs,{present:r||p,children:t.jsx(l0,{open:p,...u,ref:a,onClose:()=>g(!1),onPause:Pt(n.onPause),onResume:Pt(n.onResume),onSwipeStart:we(n.onSwipeStart,x=>{x.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(n.onSwipeMove,x=>{const{x:y,y:h}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","move"),x.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:we(n.onSwipeCancel,x=>{x.currentTarget.setAttribute("data-swipe","cancel"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(n.onSwipeEnd,x=>{const{x:y,y:h}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","end"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),g(!1)})})})});Td.displayName=or;var[i0,o0]=Nd(or,{onClose(){}}),l0=m.forwardRef((n,a)=>{const{__scopeToast:r,type:o="foreground",duration:l,open:d,onClose:u,onEscapeKeyDown:p,onPause:g,onResume:x,onSwipeStart:y,onSwipeMove:h,onSwipeCancel:b,onSwipeEnd:_,...S}=n,j=ca(or,r),[w,k]=m.useState(null),T=$e(a,D=>k(D)),P=m.useRef(null),z=m.useRef(null),Q=l||j.duration,B=m.useRef(0),H=m.useRef(Q),R=m.useRef(0),{onToastAdd:W,onToastRemove:K}=j,F=Pt(()=>{w?.contains(document.activeElement)&&j.viewport?.focus(),u()}),C=m.useCallback(D=>{!D||D===1/0||(window.clearTimeout(R.current),B.current=new Date().getTime(),R.current=window.setTimeout(F,D))},[F]);m.useEffect(()=>{const D=j.viewport;if(D){const re=()=>{C(H.current),x?.()},Z=()=>{const te=new Date().getTime()-B.current;H.current=H.current-te,window.clearTimeout(R.current),g?.()};return D.addEventListener(wi,Z),D.addEventListener(_i,re),()=>{D.removeEventListener(wi,Z),D.removeEventListener(_i,re)}}},[j.viewport,Q,g,x,C]),m.useEffect(()=>{d&&!j.isClosePausedRef.current&&C(Q)},[d,Q,j.isClosePausedRef,C]),m.useEffect(()=>(W(),()=>K()),[W,K]);const V=m.useMemo(()=>w?Od(w):null,[w]);return j.viewport?t.jsxs(t.Fragment,{children:[V&&t.jsx(c0,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:V}),t.jsx(i0,{scope:r,onClose:F,children:na.createPortal(t.jsx(oo.ItemSlot,{scope:r,children:t.jsx(Vf,{asChild:!0,onEscapeKeyDown:we(p,()=>{j.isFocusedToastEscapeKeyDownRef.current||F(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(Re.li,{tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":j.swipeDirection,...S,ref:T,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:we(n.onKeyDown,D=>{D.key==="Escape"&&(p?.(D.nativeEvent),D.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:we(n.onPointerDown,D=>{D.button===0&&(P.current={x:D.clientX,y:D.clientY})}),onPointerMove:we(n.onPointerMove,D=>{if(!P.current)return;const re=D.clientX-P.current.x,Z=D.clientY-P.current.y,te=!!z.current,I=["left","right"].includes(j.swipeDirection),G=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,q=I?G(0,re):0,ue=I?0:G(0,Z),ye=D.pointerType==="touch"?10:2,E={x:q,y:ue},X={originalEvent:D,delta:E};te?(z.current=E,Ir(s0,h,X,{discrete:!1})):Ul(E,j.swipeDirection,ye)?(z.current=E,Ir(n0,y,X,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(re)>ye||Math.abs(Z)>ye)&&(P.current=null)}),onPointerUp:we(n.onPointerUp,D=>{const re=z.current,Z=D.target;if(Z.hasPointerCapture(D.pointerId)&&Z.releasePointerCapture(D.pointerId),z.current=null,P.current=null,re){const te=D.currentTarget,I={originalEvent:D,delta:re};Ul(re,j.swipeDirection,j.swipeThreshold)?Ir(a0,_,I,{discrete:!0}):Ir(r0,b,I,{discrete:!0}),te.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),c0=n=>{const{__scopeToast:a,children:r,...o}=n,l=ca(or,a),[d,u]=m.useState(!1),[p,g]=m.useState(!1);return h0(()=>u(!0)),m.useEffect(()=>{const x=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(x)},[]),p?null:t.jsx(jc,{asChild:!0,children:t.jsx(_c,{...o,children:d&&t.jsxs(t.Fragment,{children:[l.label," ",r]})})})},d0="ToastTitle",Ed=m.forwardRef((n,a)=>{const{__scopeToast:r,...o}=n;return t.jsx(Re.div,{...o,ref:a})});Ed.displayName=d0;var u0="ToastDescription",Md=m.forwardRef((n,a)=>{const{__scopeToast:r,...o}=n;return t.jsx(Re.div,{...o,ref:a})});Md.displayName=u0;var Ld="ToastAction",Ad=m.forwardRef((n,a)=>{const{altText:r,...o}=n;return r.trim()?t.jsx(Id,{altText:r,asChild:!0,children:t.jsx(lo,{...o,ref:a})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ld}\`. Expected non-empty \`string\`.`),null)});Ad.displayName=Ld;var Rd="ToastClose",lo=m.forwardRef((n,a)=>{const{__scopeToast:r,...o}=n,l=o0(Rd,r);return t.jsx(Id,{asChild:!0,children:t.jsx(Re.button,{type:"button",...o,ref:a,onClick:we(n.onClick,l.onClose)})})});lo.displayName=Rd;var Id=m.forwardRef((n,a)=>{const{__scopeToast:r,altText:o,...l}=n;return t.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...l,ref:a})});function Od(n){const a=[];return Array.from(n.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&a.push(o.textContent),m0(o)){const l=o.ariaHidden||o.hidden||o.style.display==="none",d=o.dataset.radixToastAnnounceExclude==="";if(!l)if(d){const u=o.dataset.radixToastAnnounceAlt;u&&a.push(u)}else a.push(...Od(o))}}),a}function Ir(n,a,r,{discrete:o}){const l=r.originalEvent.currentTarget,d=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:r});a&&l.addEventListener(n,a,{once:!0}),o?$f(l,d):l.dispatchEvent(d)}var Ul=(n,a,r=0)=>{const o=Math.abs(n.x),l=Math.abs(n.y),d=o>l;return a==="left"||a==="right"?d&&o>r:!d&&l>r};function h0(n=()=>{}){const a=Pt(n);Ct(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(a)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[a])}function m0(n){return n.nodeType===n.ELEMENT_NODE}function f0(n){const a=[],r=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const l=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||l?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)a.push(r.currentNode);return a}function li(n){const a=document.activeElement;return n.some(r=>r===a?!0:(r.focus(),document.activeElement!==a))}var p0=kd,Dd=Pd,zd=Td,Bd=Ed,Fd=Md,Hd=Ad,Vd=lo;const Yl=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Kl=Hc,lr=(n,a)=>r=>{var o;if(a?.variants==null)return Kl(n,r?.class,r?.className);const{variants:l,defaultVariants:d}=a,u=Object.keys(l).map(x=>{const y=r?.[x],h=d?.[x];if(y===null)return null;const b=Yl(y)||Yl(h);return l[x][b]}),p=r&&Object.entries(r).reduce((x,y)=>{let[h,b]=y;return b===void 0||(x[h]=b),x},{}),g=a==null||(o=a.compoundVariants)===null||o===void 0?void 0:o.reduce((x,y)=>{let{class:h,className:b,..._}=y;return Object.entries(_).every(S=>{let[j,w]=S;return Array.isArray(w)?w.includes({...d,...p}[j]):{...d,...p}[j]===w})?[...x,h,b]:x},[]);return Kl(n,u,g,r?.class,r?.className)},g0=p0,$d=m.forwardRef(({className:n,...a},r)=>t.jsx(Dd,{ref:r,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...a}));$d.displayName=Dd.displayName;const x0=lr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Wd=m.forwardRef(({className:n,variant:a,...r},o)=>t.jsx(zd,{ref:o,className:de(x0({variant:a}),n),...r}));Wd.displayName=zd.displayName;const v0=m.forwardRef(({className:n,...a},r)=>t.jsx(Hd,{ref:r,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...a}));v0.displayName=Hd.displayName;const Zd=m.forwardRef(({className:n,...a},r)=>t.jsx(Vd,{ref:r,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...a,children:t.jsx(cn,{className:"h-4 w-4"})}));Zd.displayName=Vd.displayName;const qd=m.forwardRef(({className:n,...a},r)=>t.jsx(Bd,{ref:r,className:de("text-sm font-semibold",n),...a}));qd.displayName=Bd.displayName;const Ud=m.forwardRef(({className:n,...a},r)=>t.jsx(Fd,{ref:r,className:de("text-sm opacity-90",n),...a}));Ud.displayName=Fd.displayName;function y0(){const{toasts:n}=ao();return t.jsxs(g0,{children:[n.map(function({id:a,title:r,description:o,action:l,...d}){return t.jsxs(Wd,{...d,children:[t.jsxs("div",{className:"grid gap-1",children:[r&&t.jsx(qd,{children:r}),o&&t.jsx(Ud,{children:o})]}),l,t.jsx(Zd,{})]},a)}),t.jsx($d,{})]})}function b0(n){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",a.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}const w0=n=>{switch(n){case"success":return N0;case"info":return S0;case"warning":return k0;case"error":return P0;default:return null}},_0=Array(12).fill(0),j0=({visible:n,className:a})=>A.createElement("div",{className:["sonner-loading-wrapper",a].filter(Boolean).join(" "),"data-visible":n},A.createElement("div",{className:"sonner-spinner"},_0.map((r,o)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),N0=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),k0=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),S0=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),P0=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),C0=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),T0=()=>{const[n,a]=A.useState(document.hidden);return A.useEffect(()=>{const r=()=>{a(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),n};let Ni=1;class E0{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{const r=this.subscribers.indexOf(a);this.subscribers.splice(r,1)}),this.publish=a=>{this.subscribers.forEach(r=>r(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var r;const{message:o,...l}=a,d=typeof a?.id=="number"||((r=a.id)==null?void 0:r.length)>0?a.id:Ni++,u=this.toasts.find(g=>g.id===d),p=a.dismissible===void 0?!0:a.dismissible;return this.dismissedToasts.has(d)&&this.dismissedToasts.delete(d),u?this.toasts=this.toasts.map(g=>g.id===d?(this.publish({...g,...a,id:d,title:o}),{...g,...a,id:d,dismissible:p,title:o}):g):this.addToast({title:o,...l,dismissible:p,id:d}),d},this.dismiss=a=>(a?(this.dismissedToasts.add(a),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:a,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(o=>o({id:r.id,dismiss:!0}))}),a),this.message=(a,r)=>this.create({...r,message:a}),this.error=(a,r)=>this.create({...r,message:a,type:"error"}),this.success=(a,r)=>this.create({...r,type:"success",message:a}),this.info=(a,r)=>this.create({...r,type:"info",message:a}),this.warning=(a,r)=>this.create({...r,type:"warning",message:a}),this.loading=(a,r)=>this.create({...r,type:"loading",message:a}),this.promise=(a,r)=>{if(!r)return;let o;r.loading!==void 0&&(o=this.create({...r,promise:a,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const l=Promise.resolve(a instanceof Function?a():a);let d=o!==void 0,u;const p=l.then(async x=>{if(u=["resolve",x],A.isValidElement(x))d=!1,this.create({id:o,type:"default",message:x});else if(L0(x)&&!x.ok){d=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${x.status}`):r.error,b=typeof r.description=="function"?await r.description(`HTTP error! status: ${x.status}`):r.description,S=typeof h=="object"&&!A.isValidElement(h)?h:{message:h};this.create({id:o,type:"error",description:b,...S})}else if(x instanceof Error){d=!1;const h=typeof r.error=="function"?await r.error(x):r.error,b=typeof r.description=="function"?await r.description(x):r.description,S=typeof h=="object"&&!A.isValidElement(h)?h:{message:h};this.create({id:o,type:"error",description:b,...S})}else if(r.success!==void 0){d=!1;const h=typeof r.success=="function"?await r.success(x):r.success,b=typeof r.description=="function"?await r.description(x):r.description,S=typeof h=="object"&&!A.isValidElement(h)?h:{message:h};this.create({id:o,type:"success",description:b,...S})}}).catch(async x=>{if(u=["reject",x],r.error!==void 0){d=!1;const y=typeof r.error=="function"?await r.error(x):r.error,h=typeof r.description=="function"?await r.description(x):r.description,_=typeof y=="object"&&!A.isValidElement(y)?y:{message:y};this.create({id:o,type:"error",description:h,..._})}}).finally(()=>{d&&(this.dismiss(o),o=void 0),r.finally==null||r.finally.call(r)}),g=()=>new Promise((x,y)=>p.then(()=>u[0]==="reject"?y(u[1]):x(u[1])).catch(y));return typeof o!="string"&&typeof o!="number"?{unwrap:g}:Object.assign(o,{unwrap:g})},this.custom=(a,r)=>{const o=r?.id||Ni++;return this.create({jsx:a(o),id:o,...r}),o},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const yt=new E0,M0=(n,a)=>{const r=a?.id||Ni++;return yt.addToast({title:n,...a,id:r}),r},L0=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",A0=M0,R0=()=>yt.toasts,I0=()=>yt.getActiveToasts(),Ur=Object.assign(A0,{success:yt.success,info:yt.info,warning:yt.warning,error:yt.error,custom:yt.custom,message:yt.message,promise:yt.promise,dismiss:yt.dismiss,loading:yt.loading},{getHistory:R0,getToasts:I0});b0("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Or(n){return n.label!==void 0}const O0=3,D0="24px",z0="16px",Gl=4e3,B0=356,F0=14,H0=45,V0=200;function Kt(...n){return n.filter(Boolean).join(" ")}function $0(n){const[a,r]=n.split("-"),o=[];return a&&o.push(a),r&&o.push(r),o}const W0=n=>{var a,r,o,l,d,u,p,g,x;const{invert:y,toast:h,unstyled:b,interacting:_,setHeights:S,visibleToasts:j,heights:w,index:k,toasts:T,expanded:P,removeToast:z,defaultRichColors:Q,closeButton:B,style:H,cancelButtonStyle:R,actionButtonStyle:W,className:K="",descriptionClassName:F="",duration:C,position:V,gap:D,expandByDefault:re,classNames:Z,icons:te,closeButtonAriaLabel:I="Close toast"}=n,[G,q]=A.useState(null),[ue,ye]=A.useState(null),[E,X]=A.useState(!1),[J,Y]=A.useState(!1),[$,ne]=A.useState(!1),[be,pe]=A.useState(!1),[fe,xe]=A.useState(!1),[je,se]=A.useState(0),[qe,Je]=A.useState(0),et=A.useRef(h.duration||C||Gl),Xt=A.useRef(null),_t=A.useRef(null),Bt=k===0,un=k+1<=j,ct=h.type,ft=h.dismissible!==!1,js=h.className||"",Jn=h.descriptionClassName||"",Wt=A.useMemo(()=>w.findIndex(me=>me.toastId===h.id)||0,[w,h.id]),Qn=A.useMemo(()=>{var me;return(me=h.closeButton)!=null?me:B},[h.closeButton,B]),Zt=A.useMemo(()=>h.duration||C||Gl,[h.duration,C]),Sn=A.useRef(0),Et=A.useRef(0),Pn=A.useRef(0),gt=A.useRef(null),[Cn,Tn]=V.split("-"),En=A.useMemo(()=>w.reduce((me,Ee,We)=>We>=Wt?me:me+Ee.height,0),[w,Wt]),es=T0(),Jt=h.invert||y,Mn=ct==="loading";Et.current=A.useMemo(()=>Wt*D+En,[Wt,En]),A.useEffect(()=>{et.current=Zt},[Zt]),A.useEffect(()=>{X(!0)},[]),A.useEffect(()=>{const me=_t.current;if(me){const Ee=me.getBoundingClientRect().height;return Je(Ee),S(We=>[{toastId:h.id,height:Ee,position:h.position},...We]),()=>S(We=>We.filter(Ze=>Ze.toastId!==h.id))}},[S,h.id]),A.useLayoutEffect(()=>{if(!E)return;const me=_t.current,Ee=me.style.height;me.style.height="auto";const We=me.getBoundingClientRect().height;me.style.height=Ee,Je(We),S(Ze=>Ze.find(Fe=>Fe.toastId===h.id)?Ze.map(Fe=>Fe.toastId===h.id?{...Fe,height:We}:Fe):[{toastId:h.id,height:We,position:h.position},...Ze])},[E,h.title,h.description,S,h.id,h.jsx,h.action,h.cancel]);const he=A.useCallback(()=>{Y(!0),se(Et.current),S(me=>me.filter(Ee=>Ee.toastId!==h.id)),setTimeout(()=>{z(h)},V0)},[h,z,S,Et]);A.useEffect(()=>{if(h.promise&&ct==="loading"||h.duration===1/0||h.type==="loading")return;let me;return P||_||es?(()=>{if(Pn.current<Sn.current){const Ze=new Date().getTime()-Sn.current;et.current=et.current-Ze}Pn.current=new Date().getTime()})():et.current!==1/0&&(Sn.current=new Date().getTime(),me=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),he()},et.current)),()=>clearTimeout(me)},[P,_,h,ct,es,he]),A.useEffect(()=>{h.delete&&(he(),h.onDismiss==null||h.onDismiss.call(h,h))},[he,h.delete]);function Ie(){var me;if(te?.loading){var Ee;return A.createElement("div",{className:Kt(Z?.loader,h==null||(Ee=h.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":ct==="loading"},te.loading)}return A.createElement(j0,{className:Kt(Z?.loader,h==null||(me=h.classNames)==null?void 0:me.loader),visible:ct==="loading"})}const ze=h.icon||te?.[ct]||w0(ct);var Ce,Ue;return A.createElement("li",{tabIndex:0,ref:_t,className:Kt(K,js,Z?.toast,h==null||(a=h.classNames)==null?void 0:a.toast,Z?.default,Z?.[ct],h==null||(r=h.classNames)==null?void 0:r[ct]),"data-sonner-toast":"","data-rich-colors":(Ce=h.richColors)!=null?Ce:Q,"data-styled":!(h.jsx||h.unstyled||b),"data-mounted":E,"data-promise":!!h.promise,"data-swiped":fe,"data-removed":J,"data-visible":un,"data-y-position":Cn,"data-x-position":Tn,"data-index":k,"data-front":Bt,"data-swiping":$,"data-dismissible":ft,"data-type":ct,"data-invert":Jt,"data-swipe-out":be,"data-swipe-direction":ue,"data-expanded":!!(P||re&&E),"data-testid":h.testId,style:{"--index":k,"--toasts-before":k,"--z-index":T.length-k,"--offset":`${J?je:Et.current}px`,"--initial-height":re?"auto":`${qe}px`,...H,...h.style},onDragEnd:()=>{ne(!1),q(null),gt.current=null},onPointerDown:me=>{me.button!==2&&(Mn||!ft||(Xt.current=new Date,se(Et.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(ne(!0),gt.current={x:me.clientX,y:me.clientY})))},onPointerUp:()=>{var me,Ee,We;if(be||!ft)return;gt.current=null;const Ze=Number(((me=_t.current)==null?void 0:me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xt=Number(((Ee=_t.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Fe=new Date().getTime()-((We=Xt.current)==null?void 0:We.getTime()),Ke=G==="x"?Ze:xt,Ft=Math.abs(Ke)/Fe;if(Math.abs(Ke)>=H0||Ft>.11){se(Et.current),h.onDismiss==null||h.onDismiss.call(h,h),ye(G==="x"?Ze>0?"right":"left":xt>0?"down":"up"),he(),pe(!0);return}else{var mt,jt;(mt=_t.current)==null||mt.style.setProperty("--swipe-amount-x","0px"),(jt=_t.current)==null||jt.style.setProperty("--swipe-amount-y","0px")}xe(!1),ne(!1),q(null)},onPointerMove:me=>{var Ee,We,Ze;if(!gt.current||!ft||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;const Fe=me.clientY-gt.current.y,Ke=me.clientX-gt.current.x;var Ft;const mt=(Ft=n.swipeDirections)!=null?Ft:$0(V);!G&&(Math.abs(Ke)>1||Math.abs(Fe)>1)&&q(Math.abs(Ke)>Math.abs(Fe)?"x":"y");let jt={x:0,y:0};const Nt=oe=>1/(1.5+Math.abs(oe)/20);if(G==="y"){if(mt.includes("top")||mt.includes("bottom"))if(mt.includes("top")&&Fe<0||mt.includes("bottom")&&Fe>0)jt.y=Fe;else{const oe=Fe*Nt(Fe);jt.y=Math.abs(oe)<Math.abs(Fe)?oe:Fe}}else if(G==="x"&&(mt.includes("left")||mt.includes("right")))if(mt.includes("left")&&Ke<0||mt.includes("right")&&Ke>0)jt.x=Ke;else{const oe=Ke*Nt(Ke);jt.x=Math.abs(oe)<Math.abs(Ke)?oe:Ke}(Math.abs(jt.x)>0||Math.abs(jt.y)>0)&&xe(!0),(We=_t.current)==null||We.style.setProperty("--swipe-amount-x",`${jt.x}px`),(Ze=_t.current)==null||Ze.style.setProperty("--swipe-amount-y",`${jt.y}px`)}},Qn&&!h.jsx&&ct!=="loading"?A.createElement("button",{"aria-label":I,"data-disabled":Mn,"data-close-button":!0,onClick:Mn||!ft?()=>{}:()=>{he(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Kt(Z?.closeButton,h==null||(o=h.classNames)==null?void 0:o.closeButton)},(Ue=te?.close)!=null?Ue:C0):null,(ct||h.icon||h.promise)&&h.icon!==null&&(te?.[ct]!==null||h.icon)?A.createElement("div",{"data-icon":"",className:Kt(Z?.icon,h==null||(l=h.classNames)==null?void 0:l.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ie():null,h.type!=="loading"?ze:null):null,A.createElement("div",{"data-content":"",className:Kt(Z?.content,h==null||(d=h.classNames)==null?void 0:d.content)},A.createElement("div",{"data-title":"",className:Kt(Z?.title,h==null||(u=h.classNames)==null?void 0:u.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?A.createElement("div",{"data-description":"",className:Kt(F,Jn,Z?.description,h==null||(p=h.classNames)==null?void 0:p.description)},typeof h.description=="function"?h.description():h.description):null),A.isValidElement(h.cancel)?h.cancel:h.cancel&&Or(h.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||R,onClick:me=>{Or(h.cancel)&&ft&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,me),he())},className:Kt(Z?.cancelButton,h==null||(g=h.classNames)==null?void 0:g.cancelButton)},h.cancel.label):null,A.isValidElement(h.action)?h.action:h.action&&Or(h.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||W,onClick:me=>{Or(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,me),!me.defaultPrevented&&he())},className:Kt(Z?.actionButton,h==null||(x=h.classNames)==null?void 0:x.actionButton)},h.action.label):null)};function Xl(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Z0(n,a){const r={};return[n,a].forEach((o,l)=>{const d=l===1,u=d?"--mobile-offset":"--offset",p=d?z0:D0;function g(x){["top","right","bottom","left"].forEach(y=>{r[`${u}-${y}`]=typeof x=="number"?`${x}px`:x})}typeof o=="number"||typeof o=="string"?g(o):typeof o=="object"?["top","right","bottom","left"].forEach(x=>{o[x]===void 0?r[`${u}-${x}`]=p:r[`${u}-${x}`]=typeof o[x]=="number"?`${o[x]}px`:o[x]}):g(p)}),r}const q0=A.forwardRef(function(a,r){const{id:o,invert:l,position:d="bottom-right",hotkey:u=["altKey","KeyT"],expand:p,closeButton:g,className:x,offset:y,mobileOffset:h,theme:b="light",richColors:_,duration:S,style:j,visibleToasts:w=O0,toastOptions:k,dir:T=Xl(),gap:P=F0,icons:z,containerAriaLabel:Q="Notifications"}=a,[B,H]=A.useState([]),R=A.useMemo(()=>o?B.filter(E=>E.toasterId===o):B.filter(E=>!E.toasterId),[B,o]),W=A.useMemo(()=>Array.from(new Set([d].concat(R.filter(E=>E.position).map(E=>E.position)))),[R,d]),[K,F]=A.useState([]),[C,V]=A.useState(!1),[D,re]=A.useState(!1),[Z,te]=A.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=A.useRef(null),G=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=A.useRef(null),ue=A.useRef(!1),ye=A.useCallback(E=>{H(X=>{var J;return(J=X.find(Y=>Y.id===E.id))!=null&&J.delete||yt.dismiss(E.id),X.filter(({id:Y})=>Y!==E.id)})},[]);return A.useEffect(()=>yt.subscribe(E=>{if(E.dismiss){requestAnimationFrame(()=>{H(X=>X.map(J=>J.id===E.id?{...J,delete:!0}:J))});return}setTimeout(()=>{Wf.flushSync(()=>{H(X=>{const J=X.findIndex(Y=>Y.id===E.id);return J!==-1?[...X.slice(0,J),{...X[J],...E},...X.slice(J+1)]:[E,...X]})})})}),[B]),A.useEffect(()=>{if(b!=="system"){te(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;const E=window.matchMedia("(prefers-color-scheme: dark)");try{E.addEventListener("change",({matches:X})=>{te(X?"dark":"light")})}catch{E.addListener(({matches:J})=>{try{te(J?"dark":"light")}catch(Y){console.error(Y)}})}},[b]),A.useEffect(()=>{B.length<=1&&V(!1)},[B]),A.useEffect(()=>{const E=X=>{var J;if(u.every(ne=>X[ne]||X.code===ne)){var $;V(!0),($=I.current)==null||$.focus()}X.code==="Escape"&&(document.activeElement===I.current||(J=I.current)!=null&&J.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[u]),A.useEffect(()=>{if(I.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,ue.current=!1)}},[I.current]),A.createElement("section",{ref:r,"aria-label":`${Q} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},W.map((E,X)=>{var J;const[Y,$]=E.split("-");return R.length?A.createElement("ol",{key:E,dir:T==="auto"?Xl():T,tabIndex:-1,ref:I,className:x,"data-sonner-toaster":!0,"data-sonner-theme":Z,"data-y-position":Y,"data-x-position":$,style:{"--front-toast-height":`${((J=K[0])==null?void 0:J.height)||0}px`,"--width":`${B0}px`,"--gap":`${P}px`,...j,...Z0(y,h)},onBlur:ne=>{ue.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(ue.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,q.current=ne.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{D||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||re(!0)},onPointerUp:()=>re(!1)},R.filter(ne=>!ne.position&&X===0||ne.position===E).map((ne,be)=>{var pe,fe;return A.createElement(W0,{key:ne.id,icons:z,index:be,toast:ne,defaultRichColors:_,duration:(pe=k?.duration)!=null?pe:S,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:l,visibleToasts:w,closeButton:(fe=k?.closeButton)!=null?fe:g,interacting:D,position:E,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:ye,toasts:R.filter(xe=>xe.position==ne.position),heights:K.filter(xe=>xe.position==ne.position),setHeights:F,expandByDefault:p,gap:P,expanded:C,swipeDirections:a.swipeDirections})})):null}))});var U0=Symbol.for("react.lazy"),Yr=bc[" use ".trim().toString()];function Y0(n){return typeof n=="object"&&n!==null&&"then"in n}function Yd(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===U0&&"_payload"in n&&Y0(n._payload)}function da(n){const a=G0(n),r=m.forwardRef((o,l)=>{let{children:d,...u}=o;Yd(d)&&typeof Yr=="function"&&(d=Yr(d._payload));const p=m.Children.toArray(d),g=p.find(J0);if(g){const x=g.props.children,y=p.map(h=>h===g?m.Children.count(x)>1?m.Children.only(null):m.isValidElement(x)?x.props.children:null:h);return t.jsx(a,{...u,ref:l,children:m.isValidElement(x)?m.cloneElement(x,void 0,y):null})}return t.jsx(a,{...u,ref:l,children:d})});return r.displayName=`${n}.Slot`,r}var K0=da("Slot");function G0(n){const a=m.forwardRef((r,o)=>{let{children:l,...d}=r;if(Yd(l)&&typeof Yr=="function"&&(l=Yr(l._payload)),m.isValidElement(l)){const u=ey(l),p=Q0(d,l.props);return l.type!==m.Fragment&&(p.ref=o?Nc(o,u):u),m.cloneElement(l,p)}return m.Children.count(l)>1?m.Children.only(null):null});return a.displayName=`${n}.SlotClone`,a}var X0=Symbol("radix.slottable");function J0(n){return m.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===X0}function Q0(n,a){const r={...a};for(const o in a){const l=n[o],d=a[o];/^on[A-Z]/.test(o)?l&&d?r[o]=(...p)=>{const g=d(...p);return l(...p),g}:l&&(r[o]=l):o==="style"?r[o]={...l,...d}:o==="className"&&(r[o]=[l,d].filter(Boolean).join(" "))}return{...n,...r}}function ey(n){let a=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?n.ref:(a=Object.getOwnPropertyDescriptor(n,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?n.props.ref:n.props.ref||n.ref)}const ty=lr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ae=m.forwardRef(({className:n,variant:a,size:r,asChild:o=!1,...l},d)=>{const u=o?K0:"button";return t.jsx(u,{className:de(ty({variant:a,size:r,className:n})),ref:d,...l})});ae.displayName="Button";const Be=m.forwardRef(({className:n,...a},r)=>t.jsx("div",{ref:r,className:de("rounded-xl border bg-card text-card-foreground shadow-sm transition-all duration-300 ease-out hover:shadow-lg hover:border-border/80 dark:hover:shadow-xl dark:hover:shadow-black/20",n),...a}));Be.displayName="Card";const an=m.forwardRef(({className:n,...a},r)=>t.jsx("div",{ref:r,className:de("flex flex-col space-y-1.5 p-6",n),...a}));an.displayName="CardHeader";const yn=m.forwardRef(({className:n,...a},r)=>t.jsx("div",{ref:r,className:de("font-semibold leading-none tracking-tight",n),...a}));yn.displayName="CardTitle";const ny=m.forwardRef(({className:n,...a},r)=>t.jsx("div",{ref:r,className:de("text-sm text-muted-foreground",n),...a}));ny.displayName="CardDescription";const He=m.forwardRef(({className:n,...a},r)=>t.jsx("div",{ref:r,className:de("p-6 pt-0",n),...a}));He.displayName="CardContent";const sy=m.forwardRef(({className:n,...a},r)=>t.jsx("div",{ref:r,className:de("flex items-center p-6 pt-0",n),...a}));sy.displayName="CardFooter";class ry extends m.Component{constructor(a){super(a),this.handleRetry=()=>{this.setState({hasError:!1,error:null})},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1,error:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,r){console.error("Error caught by boundary:",a,r)}render(){return this.state.hasError?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:t.jsx(Be,{className:"max-w-md w-full",children:t.jsxs(He,{className:"pt-8 pb-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-destructive/10 flex items-center justify-center",children:t.jsx($x,{className:"h-8 w-8 text-destructive"})}),t.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Oops! Something went wrong"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"We encountered an unexpected error. Please try again or return to the home page."}),t.jsxs("div",{className:"flex gap-3 justify-center",children:[t.jsxs(ae,{variant:"outline",onClick:this.handleGoHome,"data-testid":"button-error-go-home",children:[t.jsx(ir,{className:"h-4 w-4 mr-2"}),"Go Home"]}),t.jsxs(ae,{onClick:this.handleRetry,"data-testid":"button-error-retry",children:[t.jsx(mx,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})]})})}):this.props.children}}async function vN(){return[]}async function yN(n){return null}async function bN(n,a){return null}async function wN(n){return!1}async function _N(n){return[]}async function jN(n){return null}async function NN(n,a){return null}async function ay(n){return[]}async function iy(n){return[]}async function oy(n,a){return!1}async function ly(n,a){return!1}async function kN(){return[]}async function SN(){return[]}async function PN(n,a){return null}async function CN(n,a){return null}async function TN(){return[]}async function EN(n){return null}async function MN(n){return!1}async function LN(){return[]}async function AN(n){return!1}async function RN(){try{const n=await fetch("/api/v2/admin/personas",{headers:{Authorization:`Bearer ${(await Rt?.auth.getSession())?.data.session?.access_token}`}}),a=await n.json();if(!n.ok)throw new Error(a.error||"Failed to fetch personas");return a.data||[]}catch(n){return console.error("getManagedPersonas error:",n),[]}}async function IN(){try{const n=await fetch("/api/v2/admin/settings",{headers:{Authorization:`Bearer ${(await Rt?.auth.getSession())?.data.session?.access_token}`}}),a=await n.json();if(!n.ok)throw new Error(a.error||"Failed to fetch settings");return a.data||{}}catch(n){return console.error("getAdminSettings error:",n),{}}}async function ON(){return[]}async function DN(){return[]}async function zN(){return[]}const Kd=m.createContext(null);function cy({children:n}){const{user:a}=vs(),{toast:r}=ao(),[o,l]=m.useState([]),[d,u]=m.useState(!1),p=m.useCallback(async()=>{if(!a){l([]);return}u(!0);try{const y=await ay(a.id);l(y)}catch{l([])}finally{u(!1)}},[a]);m.useEffect(()=>{p()},[p]);const g=m.useCallback(async y=>{if(!a){r({title:"Sign in Required",description:"Please sign in to save favorites",variant:"destructive"});return}const h=!o.includes(y);l(b=>h?[...b,y]:b.filter(_=>_!==y));try{h?await oy(a.id,y):await ly(a.id,y)}catch{l(_=>h?_.filter(S=>S!==y):[..._,y]),r({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}},[a,o,r]),x=m.useCallback(y=>o.includes(y),[o]);return t.jsx(Kd.Provider,{value:{favorites:o,loading:d,toggleFavorite:g,isFavorited:x,refetch:p},children:n})}function co(){const n=m.useContext(Kd);return n||{favorites:[],loading:!1,toggleFavorite:async()=>{},isFavorited:()=>!1,refetch:async()=>{}}}const dy=qi,uy=kc,hy=Zi,my=Wi,Gd=m.forwardRef(({className:n,...a},r)=>t.jsx(er,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...a,ref:r}));Gd.displayName=er.displayName;const fy=lr("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Xd=m.forwardRef(({side:n="right",className:a,children:r,...o},l)=>t.jsxs(my,{children:[t.jsx(Gd,{}),t.jsxs(tr,{ref:l,className:de(fy({side:n}),a),...o,children:[t.jsxs(Zi,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[t.jsx(cn,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));Xd.displayName=tr.displayName;const py=m.forwardRef(({className:n,...a},r)=>t.jsx(nr,{ref:r,className:de("text-lg font-semibold text-foreground",n),...a}));py.displayName=nr.displayName;const gy=m.forwardRef(({className:n,...a},r)=>t.jsx(sr,{ref:r,className:de("text-sm text-muted-foreground",n),...a}));gy.displayName=sr.displayName;const Jd=qf,Qd=Uf,xy=m.forwardRef(({className:n,inset:a,children:r,...o},l)=>t.jsxs(Sc,{ref:l,className:de("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",n),...o,children:[r,t.jsx(fs,{className:"ml-auto"})]}));xy.displayName=Sc.displayName;const vy=m.forwardRef(({className:n,...a},r)=>t.jsx(Pc,{ref:r,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...a}));vy.displayName=Pc.displayName;const uo=m.forwardRef(({className:n,sideOffset:a=4,...r},o)=>t.jsx(Zf,{children:t.jsx(Cc,{ref:o,sideOffset:a,className:de("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...r})}));uo.displayName=Cc.displayName;const Vs=m.forwardRef(({className:n,inset:a,...r},o)=>t.jsx(Tc,{ref:o,className:de("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",a&&"pl-8",n),...r}));Vs.displayName=Tc.displayName;const yy=m.forwardRef(({className:n,children:a,checked:r,...o},l)=>t.jsxs(Ec,{ref:l,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:r,...o,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Mc,{children:t.jsx(Vr,{className:"h-4 w-4"})})}),a]}));yy.displayName=Ec.displayName;const by=m.forwardRef(({className:n,children:a,...r},o)=>t.jsxs(Lc,{ref:o,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Mc,{children:t.jsx(nd,{className:"h-2 w-2 fill-current"})})}),a]}));by.displayName=Lc.displayName;const eu=m.forwardRef(({className:n,inset:a,...r},o)=>t.jsx(Ac,{ref:o,className:de("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",n),...r}));eu.displayName=Ac.displayName;const ki=m.forwardRef(({className:n,...a},r)=>t.jsx(Rc,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",n),...a}));ki.displayName=Rc.displayName;function wy(){const{user:n}=vs(),[a,r]=m.useState([]),[o,l]=m.useState(!1);return m.useEffect(()=>{if(!n){r([]);return}(async()=>{l(!0);try{const p=(await iy(n.id)).map(g=>g.properties).filter(g=>g!==null);r(p)}catch{r([])}finally{l(!1)}})()},[n]),!n||a.length===0?null:t.jsxs(Jd,{children:[t.jsx(Qd,{asChild:!0,children:t.jsxs(ae,{variant:"ghost",size:"sm",className:"gap-2","data-testid":"button-favorites-dropdown",children:[t.jsx(qn,{className:"h-4 w-4 fill-red-500 text-red-500"}),t.jsx("span",{className:"text-xs font-bold bg-red-100 text-red-800 px-2 py-1 rounded-full dark:bg-red-900 dark:text-red-200",children:a.length}),t.jsx(bn,{className:"h-4 w-4"})]})}),t.jsxs(uo,{align:"end",className:"w-64",children:[t.jsxs(eu,{children:["Your Favorites (",a.length,")"]}),t.jsx(ki,{}),o?t.jsx(Vs,{disabled:!0,children:"Loading..."}):a.length>0?t.jsxs(t.Fragment,{children:[a.slice(0,3).map(d=>t.jsx(Vs,{className:"p-0","data-testid":`menu-item-favorite-${d.id}`,children:t.jsx(Ae,{href:`/property/${d.id}`,children:t.jsxs("span",{className:"w-full p-2 hover-elevate block cursor-pointer",children:[t.jsx("p",{className:"font-semibold text-sm truncate",children:d.title}),t.jsx("p",{className:"text-xs text-muted-foreground",children:d.price?`$${d.price.toLocaleString()}/mo`:"Price TBD"})]})})},d.id)),a.length>3&&t.jsxs(t.Fragment,{children:[t.jsx(ki,{}),t.jsxs(Vs,{className:"text-center text-xs text-muted-foreground",children:["+",a.length-3," more favorites"]})]})]}):t.jsx(Vs,{disabled:!0,children:"No favorites yet"})]})]})}const _y=lr("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"text-foreground border [border-color:var(--badge-outline)]"}},defaultVariants:{variant:"default"}});function lt({className:n,variant:a,...r}){return t.jsx("div",{className:de(_y({variant:a}),n),...r})}function Js(n,[a,r]){return Math.min(r,Math.max(a,n))}function jy(n,a){return m.useReducer((r,o)=>a[r][o]??r,n)}var ho="ScrollArea",[tu]=Kn(ho),[Ny,zt]=tu(ho),nu=m.forwardRef((n,a)=>{const{__scopeScrollArea:r,type:o="hover",dir:l,scrollHideDelay:d=600,...u}=n,[p,g]=m.useState(null),[x,y]=m.useState(null),[h,b]=m.useState(null),[_,S]=m.useState(null),[j,w]=m.useState(null),[k,T]=m.useState(0),[P,z]=m.useState(0),[Q,B]=m.useState(!1),[H,R]=m.useState(!1),W=$e(a,F=>g(F)),K=sa(l);return t.jsx(Ny,{scope:r,type:o,dir:K,scrollHideDelay:d,scrollArea:p,viewport:x,onViewportChange:y,content:h,onContentChange:b,scrollbarX:_,onScrollbarXChange:S,scrollbarXEnabled:Q,onScrollbarXEnabledChange:B,scrollbarY:j,onScrollbarYChange:w,scrollbarYEnabled:H,onScrollbarYEnabledChange:R,onCornerWidthChange:T,onCornerHeightChange:z,children:t.jsx(Re.div,{dir:K,...u,ref:W,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":P+"px",...n.style}})})});nu.displayName=ho;var su="ScrollAreaViewport",ru=m.forwardRef((n,a)=>{const{__scopeScrollArea:r,children:o,nonce:l,...d}=n,u=zt(su,r),p=m.useRef(null),g=$e(a,p,u.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),t.jsx(Re.div,{"data-radix-scroll-area-viewport":"",...d,ref:g,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...n.style},children:t.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});ru.displayName=su;var Gt="ScrollAreaScrollbar",mo=m.forwardRef((n,a)=>{const{forceMount:r,...o}=n,l=zt(Gt,n.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:u}=l,p=n.orientation==="horizontal";return m.useEffect(()=>(p?d(!0):u(!0),()=>{p?d(!1):u(!1)}),[p,d,u]),l.type==="hover"?t.jsx(ky,{...o,ref:a,forceMount:r}):l.type==="scroll"?t.jsx(Sy,{...o,ref:a,forceMount:r}):l.type==="auto"?t.jsx(au,{...o,ref:a,forceMount:r}):l.type==="always"?t.jsx(fo,{...o,ref:a}):null});mo.displayName=Gt;var ky=m.forwardRef((n,a)=>{const{forceMount:r,...o}=n,l=zt(Gt,n.__scopeScrollArea),[d,u]=m.useState(!1);return m.useEffect(()=>{const p=l.scrollArea;let g=0;if(p){const x=()=>{window.clearTimeout(g),u(!0)},y=()=>{g=window.setTimeout(()=>u(!1),l.scrollHideDelay)};return p.addEventListener("pointerenter",x),p.addEventListener("pointerleave",y),()=>{window.clearTimeout(g),p.removeEventListener("pointerenter",x),p.removeEventListener("pointerleave",y)}}},[l.scrollArea,l.scrollHideDelay]),t.jsx(xs,{present:r||d,children:t.jsx(au,{"data-state":d?"visible":"hidden",...o,ref:a})})}),Sy=m.forwardRef((n,a)=>{const{forceMount:r,...o}=n,l=zt(Gt,n.__scopeScrollArea),d=n.orientation==="horizontal",u=ha(()=>g("SCROLL_END"),100),[p,g]=jy("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(p==="idle"){const x=window.setTimeout(()=>g("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(x)}},[p,l.scrollHideDelay,g]),m.useEffect(()=>{const x=l.viewport,y=d?"scrollLeft":"scrollTop";if(x){let h=x[y];const b=()=>{const _=x[y];h!==_&&(g("SCROLL"),u()),h=_};return x.addEventListener("scroll",b),()=>x.removeEventListener("scroll",b)}},[l.viewport,d,g,u]),t.jsx(xs,{present:r||p!=="hidden",children:t.jsx(fo,{"data-state":p==="hidden"?"hidden":"visible",...o,ref:a,onPointerEnter:we(n.onPointerEnter,()=>g("POINTER_ENTER")),onPointerLeave:we(n.onPointerLeave,()=>g("POINTER_LEAVE"))})})}),au=m.forwardRef((n,a)=>{const r=zt(Gt,n.__scopeScrollArea),{forceMount:o,...l}=n,[d,u]=m.useState(!1),p=n.orientation==="horizontal",g=ha(()=>{if(r.viewport){const x=r.viewport.offsetWidth<r.viewport.scrollWidth,y=r.viewport.offsetHeight<r.viewport.scrollHeight;u(p?x:y)}},10);return ps(r.viewport,g),ps(r.content,g),t.jsx(xs,{present:o||d,children:t.jsx(fo,{"data-state":d?"visible":"hidden",...l,ref:a})})}),fo=m.forwardRef((n,a)=>{const{orientation:r="vertical",...o}=n,l=zt(Gt,n.__scopeScrollArea),d=m.useRef(null),u=m.useRef(0),[p,g]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),x=du(p.viewport,p.content),y={...o,sizes:p,onSizesChange:g,hasThumb:x>0&&x<1,onThumbChange:b=>d.current=b,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:b=>u.current=b};function h(b,_){return Ly(b,u.current,p,_)}return r==="horizontal"?t.jsx(Py,{...y,ref:a,onThumbPositionChange:()=>{if(l.viewport&&d.current){const b=l.viewport.scrollLeft,_=Jl(b,p,l.dir);d.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:b=>{l.viewport&&(l.viewport.scrollLeft=b)},onDragScroll:b=>{l.viewport&&(l.viewport.scrollLeft=h(b,l.dir))}}):r==="vertical"?t.jsx(Cy,{...y,ref:a,onThumbPositionChange:()=>{if(l.viewport&&d.current){const b=l.viewport.scrollTop,_=Jl(b,p);d.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:b=>{l.viewport&&(l.viewport.scrollTop=b)},onDragScroll:b=>{l.viewport&&(l.viewport.scrollTop=h(b))}}):null}),Py=m.forwardRef((n,a)=>{const{sizes:r,onSizesChange:o,...l}=n,d=zt(Gt,n.__scopeScrollArea),[u,p]=m.useState(),g=m.useRef(null),x=$e(a,g,d.onScrollbarXChange);return m.useEffect(()=>{g.current&&p(getComputedStyle(g.current))},[g]),t.jsx(ou,{"data-orientation":"horizontal",...l,ref:x,sizes:r,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ua(r)+"px",...n.style},onThumbPointerDown:y=>n.onThumbPointerDown(y.x),onDragScroll:y=>n.onDragScroll(y.x),onWheelScroll:(y,h)=>{if(d.viewport){const b=d.viewport.scrollLeft+y.deltaX;n.onWheelScroll(b),hu(b,h)&&y.preventDefault()}},onResize:()=>{g.current&&d.viewport&&u&&o({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:g.current.clientWidth,paddingStart:Gr(u.paddingLeft),paddingEnd:Gr(u.paddingRight)}})}})}),Cy=m.forwardRef((n,a)=>{const{sizes:r,onSizesChange:o,...l}=n,d=zt(Gt,n.__scopeScrollArea),[u,p]=m.useState(),g=m.useRef(null),x=$e(a,g,d.onScrollbarYChange);return m.useEffect(()=>{g.current&&p(getComputedStyle(g.current))},[g]),t.jsx(ou,{"data-orientation":"vertical",...l,ref:x,sizes:r,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ua(r)+"px",...n.style},onThumbPointerDown:y=>n.onThumbPointerDown(y.y),onDragScroll:y=>n.onDragScroll(y.y),onWheelScroll:(y,h)=>{if(d.viewport){const b=d.viewport.scrollTop+y.deltaY;n.onWheelScroll(b),hu(b,h)&&y.preventDefault()}},onResize:()=>{g.current&&d.viewport&&u&&o({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:g.current.clientHeight,paddingStart:Gr(u.paddingTop),paddingEnd:Gr(u.paddingBottom)}})}})}),[Ty,iu]=tu(Gt),ou=m.forwardRef((n,a)=>{const{__scopeScrollArea:r,sizes:o,hasThumb:l,onThumbChange:d,onThumbPointerUp:u,onThumbPointerDown:p,onThumbPositionChange:g,onDragScroll:x,onWheelScroll:y,onResize:h,...b}=n,_=zt(Gt,r),[S,j]=m.useState(null),w=$e(a,W=>j(W)),k=m.useRef(null),T=m.useRef(""),P=_.viewport,z=o.content-o.viewport,Q=Pt(y),B=Pt(g),H=ha(h,10);function R(W){if(k.current){const K=W.clientX-k.current.left,F=W.clientY-k.current.top;x({x:K,y:F})}}return m.useEffect(()=>{const W=K=>{const F=K.target;S?.contains(F)&&Q(K,z)};return document.addEventListener("wheel",W,{passive:!1}),()=>document.removeEventListener("wheel",W,{passive:!1})},[P,S,z,Q]),m.useEffect(B,[o,B]),ps(S,H),ps(_.content,H),t.jsx(Ty,{scope:r,scrollbar:S,hasThumb:l,onThumbChange:Pt(d),onThumbPointerUp:Pt(u),onThumbPositionChange:B,onThumbPointerDown:Pt(p),children:t.jsx(Re.div,{...b,ref:w,style:{position:"absolute",...b.style},onPointerDown:we(n.onPointerDown,W=>{W.button===0&&(W.target.setPointerCapture(W.pointerId),k.current=S.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_.viewport&&(_.viewport.style.scrollBehavior="auto"),R(W))}),onPointerMove:we(n.onPointerMove,R),onPointerUp:we(n.onPointerUp,W=>{const K=W.target;K.hasPointerCapture(W.pointerId)&&K.releasePointerCapture(W.pointerId),document.body.style.webkitUserSelect=T.current,_.viewport&&(_.viewport.style.scrollBehavior=""),k.current=null})})})}),Kr="ScrollAreaThumb",lu=m.forwardRef((n,a)=>{const{forceMount:r,...o}=n,l=iu(Kr,n.__scopeScrollArea);return t.jsx(xs,{present:r||l.hasThumb,children:t.jsx(Ey,{ref:a,...o})})}),Ey=m.forwardRef((n,a)=>{const{__scopeScrollArea:r,style:o,...l}=n,d=zt(Kr,r),u=iu(Kr,r),{onThumbPositionChange:p}=u,g=$e(a,h=>u.onThumbChange(h)),x=m.useRef(void 0),y=ha(()=>{x.current&&(x.current(),x.current=void 0)},100);return m.useEffect(()=>{const h=d.viewport;if(h){const b=()=>{if(y(),!x.current){const _=Ay(h,p);x.current=_,p()}};return p(),h.addEventListener("scroll",b),()=>h.removeEventListener("scroll",b)}},[d.viewport,y,p]),t.jsx(Re.div,{"data-state":u.hasThumb?"visible":"hidden",...l,ref:g,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:we(n.onPointerDownCapture,h=>{const _=h.target.getBoundingClientRect(),S=h.clientX-_.left,j=h.clientY-_.top;u.onThumbPointerDown({x:S,y:j})}),onPointerUp:we(n.onPointerUp,u.onThumbPointerUp)})});lu.displayName=Kr;var po="ScrollAreaCorner",cu=m.forwardRef((n,a)=>{const r=zt(po,n.__scopeScrollArea),o=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&o?t.jsx(My,{...n,ref:a}):null});cu.displayName=po;var My=m.forwardRef((n,a)=>{const{__scopeScrollArea:r,...o}=n,l=zt(po,r),[d,u]=m.useState(0),[p,g]=m.useState(0),x=!!(d&&p);return ps(l.scrollbarX,()=>{const y=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(y),g(y)}),ps(l.scrollbarY,()=>{const y=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(y),u(y)}),x?t.jsx(Re.div,{...o,ref:a,style:{width:d,height:p,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Gr(n){return n?parseInt(n,10):0}function du(n,a){const r=n/a;return isNaN(r)?0:r}function ua(n){const a=du(n.viewport,n.content),r=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,o=(n.scrollbar.size-r)*a;return Math.max(o,18)}function Ly(n,a,r,o="ltr"){const l=ua(r),d=l/2,u=a||d,p=l-u,g=r.scrollbar.paddingStart+u,x=r.scrollbar.size-r.scrollbar.paddingEnd-p,y=r.content-r.viewport,h=o==="ltr"?[0,y]:[y*-1,0];return uu([g,x],h)(n)}function Jl(n,a,r="ltr"){const o=ua(a),l=a.scrollbar.paddingStart+a.scrollbar.paddingEnd,d=a.scrollbar.size-l,u=a.content-a.viewport,p=d-o,g=r==="ltr"?[0,u]:[u*-1,0],x=Js(n,g);return uu([0,u],[0,p])(x)}function uu(n,a){return r=>{if(n[0]===n[1]||a[0]===a[1])return a[0];const o=(a[1]-a[0])/(n[1]-n[0]);return a[0]+o*(r-n[0])}}function hu(n,a){return n>0&&n<a}var Ay=(n,a=()=>{})=>{let r={left:n.scrollLeft,top:n.scrollTop},o=0;return(function l(){const d={left:n.scrollLeft,top:n.scrollTop},u=r.left!==d.left,p=r.top!==d.top;(u||p)&&a(),r=d,o=window.requestAnimationFrame(l)})(),()=>window.cancelAnimationFrame(o)};function ha(n,a){const r=Pt(n),o=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(o.current),[]),m.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(r,a)},[r,a])}function ps(n,a){const r=Pt(a);Ct(()=>{let o=0;if(n){const l=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(r)});return l.observe(n),()=>{window.cancelAnimationFrame(o),l.unobserve(n)}}},[n,r])}var mu=nu,Ry=ru,Iy=cu;const fu=m.forwardRef(({className:n,children:a,...r},o)=>t.jsxs(mu,{ref:o,className:de("relative overflow-hidden",n),...r,children:[t.jsx(Ry,{className:"h-full w-full rounded-[inherit]",children:a}),t.jsx(pu,{}),t.jsx(Iy,{})]}));fu.displayName=mu.displayName;const pu=m.forwardRef(({className:n,orientation:a="vertical",...r},o)=>t.jsx(mo,{ref:o,orientation:a,className:de("flex touch-none select-none transition-colors",a==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",a==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...r,children:t.jsx(lu,{className:"relative flex-1 rounded-full bg-border"})}));pu.displayName=mo.displayName;var Oy=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dy=Oy.reduce((n,a)=>{const r=da(`Primitive.${a}`),o=m.forwardRef((l,d)=>{const{asChild:u,...p}=l,g=u?r:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(g,{...p,ref:d})});return o.displayName=`Primitive.${a}`,{...n,[a]:o}},{}),zy="Separator",Ql="horizontal",By=["horizontal","vertical"],gu=m.forwardRef((n,a)=>{const{decorative:r,orientation:o=Ql,...l}=n,d=Fy(o)?o:Ql,p=r?{role:"none"}:{"aria-orientation":d==="vertical"?d:void 0,role:"separator"};return t.jsx(Dy.div,{"data-orientation":d,...p,...l,ref:a})});gu.displayName=zy;function Fy(n){return By.includes(n)}var xu=gu;const on=m.forwardRef(({className:n,orientation:a="horizontal",decorative:r=!0,...o},l)=>t.jsx(xu,{ref:l,decorative:r,orientation:a,className:de("shrink-0 bg-border",a==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...o}));on.displayName=xu.displayName;function wt(n){const a=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&a==="[object Date]"?new n.constructor(+n):typeof n=="number"||a==="[object Number]"||typeof n=="string"||a==="[object String]"?new Date(n):new Date(NaN)}function _n(n,a){return n instanceof Date?new n.constructor(a):new Date(a)}function ec(n,a){const r=wt(n);return isNaN(a)?_n(n,NaN):(a&&r.setDate(r.getDate()+a),r)}const vu=6048e5,Hy=864e5;let Vy={};function ma(){return Vy}function gs(n,a){const r=ma(),o=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=wt(n),d=l.getDay(),u=(d<o?7:0)+d-o;return l.setDate(l.getDate()-u),l.setHours(0,0,0,0),l}function Xr(n){return gs(n,{weekStartsOn:1})}function yu(n){const a=wt(n),r=a.getFullYear(),o=_n(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const l=Xr(o),d=_n(n,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const u=Xr(d);return a.getTime()>=l.getTime()?r+1:a.getTime()>=u.getTime()?r:r-1}function Qs(n){const a=wt(n);return a.setHours(0,0,0,0),a}function tc(n){const a=wt(n),r=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return r.setUTCFullYear(a.getFullYear()),+n-+r}function $y(n,a){const r=Qs(n),o=Qs(a),l=+r-tc(r),d=+o-tc(o);return Math.round((l-d)/Hy)}function Wy(n){const a=yu(n),r=_n(n,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),Xr(r)}function nc(n,a){const r=Qs(n),o=Qs(a);return+r==+o}function Zy(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function qy(n){if(!Zy(n)&&typeof n!="number")return!1;const a=wt(n);return!isNaN(Number(a))}function Uy(n){const a=wt(n),r=_n(n,0);return r.setFullYear(a.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Yy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ky=(n,a,r)=>{let o;const l=Yy[n];return typeof l=="string"?o=l:a===1?o=l.one:o=l.other.replace("{{count}}",a.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function ci(n){return(a={})=>{const r=a.width?String(a.width):n.defaultWidth;return n.formats[r]||n.formats[n.defaultWidth]}}const Gy={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Xy={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Jy={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qy={date:ci({formats:Gy,defaultWidth:"full"}),time:ci({formats:Xy,defaultWidth:"full"}),dateTime:ci({formats:Jy,defaultWidth:"full"})},eb={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tb=(n,a,r,o)=>eb[n];function Ds(n){return(a,r)=>{const o=r?.context?String(r.context):"standalone";let l;if(o==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,p=r?.width?String(r.width):u;l=n.formattingValues[p]||n.formattingValues[u]}else{const u=n.defaultWidth,p=r?.width?String(r.width):n.defaultWidth;l=n.values[p]||n.values[u]}const d=n.argumentCallback?n.argumentCallback(a):a;return l[d]}}const nb={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sb={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rb={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ab={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ib={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ob={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lb=(n,a)=>{const r=Number(n),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},cb={ordinalNumber:lb,era:Ds({values:nb,defaultWidth:"wide"}),quarter:Ds({values:sb,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ds({values:rb,defaultWidth:"wide"}),day:Ds({values:ab,defaultWidth:"wide"}),dayPeriod:Ds({values:ib,defaultWidth:"wide",formattingValues:ob,defaultFormattingWidth:"wide"})};function zs(n){return(a,r={})=>{const o=r.width,l=o&&n.matchPatterns[o]||n.matchPatterns[n.defaultMatchWidth],d=a.match(l);if(!d)return null;const u=d[0],p=o&&n.parsePatterns[o]||n.parsePatterns[n.defaultParseWidth],g=Array.isArray(p)?ub(p,h=>h.test(u)):db(p,h=>h.test(u));let x;x=n.valueCallback?n.valueCallback(g):g,x=r.valueCallback?r.valueCallback(x):x;const y=a.slice(u.length);return{value:x,rest:y}}}function db(n,a){for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&a(n[r]))return r}function ub(n,a){for(let r=0;r<n.length;r++)if(a(n[r]))return r}function hb(n){return(a,r={})=>{const o=a.match(n.matchPattern);if(!o)return null;const l=o[0],d=a.match(n.parsePattern);if(!d)return null;let u=n.valueCallback?n.valueCallback(d[0]):d[0];u=r.valueCallback?r.valueCallback(u):u;const p=a.slice(l.length);return{value:u,rest:p}}}const mb=/^(\d+)(th|st|nd|rd)?/i,fb=/\d+/i,pb={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gb={any:[/^b/i,/^(a|c)/i]},xb={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vb={any:[/1/i,/2/i,/3/i,/4/i]},yb={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wb={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_b={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kb={ordinalNumber:hb({matchPattern:mb,parsePattern:fb,valueCallback:n=>parseInt(n,10)}),era:zs({matchPatterns:pb,defaultMatchWidth:"wide",parsePatterns:gb,defaultParseWidth:"any"}),quarter:zs({matchPatterns:xb,defaultMatchWidth:"wide",parsePatterns:vb,defaultParseWidth:"any",valueCallback:n=>n+1}),month:zs({matchPatterns:yb,defaultMatchWidth:"wide",parsePatterns:bb,defaultParseWidth:"any"}),day:zs({matchPatterns:wb,defaultMatchWidth:"wide",parsePatterns:_b,defaultParseWidth:"any"}),dayPeriod:zs({matchPatterns:jb,defaultMatchWidth:"any",parsePatterns:Nb,defaultParseWidth:"any"})},Sb={code:"en-US",formatDistance:Ky,formatLong:Qy,formatRelative:tb,localize:cb,match:kb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pb(n){const a=wt(n);return $y(a,Uy(a))+1}function Cb(n){const a=wt(n),r=+Xr(a)-+Wy(a);return Math.round(r/vu)+1}function bu(n,a){const r=wt(n),o=r.getFullYear(),l=ma(),d=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,u=_n(n,0);u.setFullYear(o+1,0,d),u.setHours(0,0,0,0);const p=gs(u,a),g=_n(n,0);g.setFullYear(o,0,d),g.setHours(0,0,0,0);const x=gs(g,a);return r.getTime()>=p.getTime()?o+1:r.getTime()>=x.getTime()?o:o-1}function Tb(n,a){const r=ma(),o=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=bu(n,a),d=_n(n,0);return d.setFullYear(l,0,o),d.setHours(0,0,0,0),gs(d,a)}function Eb(n,a){const r=wt(n),o=+gs(r,a)-+Tb(r,a);return Math.round(o/vu)+1}function Ve(n,a){const r=n<0?"-":"",o=Math.abs(n).toString().padStart(a,"0");return r+o}const pn={y(n,a){const r=n.getFullYear(),o=r>0?r:1-r;return Ve(a==="yy"?o%100:o,a.length)},M(n,a){const r=n.getMonth();return a==="M"?String(r+1):Ve(r+1,2)},d(n,a){return Ve(n.getDate(),a.length)},a(n,a){const r=n.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(n,a){return Ve(n.getHours()%12||12,a.length)},H(n,a){return Ve(n.getHours(),a.length)},m(n,a){return Ve(n.getMinutes(),a.length)},s(n,a){return Ve(n.getSeconds(),a.length)},S(n,a){const r=a.length,o=n.getMilliseconds(),l=Math.trunc(o*Math.pow(10,r-3));return Ve(l,a.length)}},us={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sc={G:function(n,a,r){const o=n.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(n,a,r){if(a==="yo"){const o=n.getFullYear(),l=o>0?o:1-o;return r.ordinalNumber(l,{unit:"year"})}return pn.y(n,a)},Y:function(n,a,r,o){const l=bu(n,o),d=l>0?l:1-l;if(a==="YY"){const u=d%100;return Ve(u,2)}return a==="Yo"?r.ordinalNumber(d,{unit:"year"}):Ve(d,a.length)},R:function(n,a){const r=yu(n);return Ve(r,a.length)},u:function(n,a){const r=n.getFullYear();return Ve(r,a.length)},Q:function(n,a,r){const o=Math.ceil((n.getMonth()+1)/3);switch(a){case"Q":return String(o);case"QQ":return Ve(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(n,a,r){const o=Math.ceil((n.getMonth()+1)/3);switch(a){case"q":return String(o);case"qq":return Ve(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(n,a,r){const o=n.getMonth();switch(a){case"M":case"MM":return pn.M(n,a);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(n,a,r){const o=n.getMonth();switch(a){case"L":return String(o+1);case"LL":return Ve(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(n,a,r,o){const l=Eb(n,o);return a==="wo"?r.ordinalNumber(l,{unit:"week"}):Ve(l,a.length)},I:function(n,a,r){const o=Cb(n);return a==="Io"?r.ordinalNumber(o,{unit:"week"}):Ve(o,a.length)},d:function(n,a,r){return a==="do"?r.ordinalNumber(n.getDate(),{unit:"date"}):pn.d(n,a)},D:function(n,a,r){const o=Pb(n);return a==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):Ve(o,a.length)},E:function(n,a,r){const o=n.getDay();switch(a){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(n,a,r,o){const l=n.getDay(),d=(l-o.weekStartsOn+8)%7||7;switch(a){case"e":return String(d);case"ee":return Ve(d,2);case"eo":return r.ordinalNumber(d,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(n,a,r,o){const l=n.getDay(),d=(l-o.weekStartsOn+8)%7||7;switch(a){case"c":return String(d);case"cc":return Ve(d,a.length);case"co":return r.ordinalNumber(d,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(n,a,r){const o=n.getDay(),l=o===0?7:o;switch(a){case"i":return String(l);case"ii":return Ve(l,a.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(n,a,r){const l=n.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(n,a,r){const o=n.getHours();let l;switch(o===12?l=us.noon:o===0?l=us.midnight:l=o/12>=1?"pm":"am",a){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(n,a,r){const o=n.getHours();let l;switch(o>=17?l=us.evening:o>=12?l=us.afternoon:o>=4?l=us.morning:l=us.night,a){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(n,a,r){if(a==="ho"){let o=n.getHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return pn.h(n,a)},H:function(n,a,r){return a==="Ho"?r.ordinalNumber(n.getHours(),{unit:"hour"}):pn.H(n,a)},K:function(n,a,r){const o=n.getHours()%12;return a==="Ko"?r.ordinalNumber(o,{unit:"hour"}):Ve(o,a.length)},k:function(n,a,r){let o=n.getHours();return o===0&&(o=24),a==="ko"?r.ordinalNumber(o,{unit:"hour"}):Ve(o,a.length)},m:function(n,a,r){return a==="mo"?r.ordinalNumber(n.getMinutes(),{unit:"minute"}):pn.m(n,a)},s:function(n,a,r){return a==="so"?r.ordinalNumber(n.getSeconds(),{unit:"second"}):pn.s(n,a)},S:function(n,a){return pn.S(n,a)},X:function(n,a,r){const o=n.getTimezoneOffset();if(o===0)return"Z";switch(a){case"X":return ac(o);case"XXXX":case"XX":return Bn(o);case"XXXXX":case"XXX":default:return Bn(o,":")}},x:function(n,a,r){const o=n.getTimezoneOffset();switch(a){case"x":return ac(o);case"xxxx":case"xx":return Bn(o);case"xxxxx":case"xxx":default:return Bn(o,":")}},O:function(n,a,r){const o=n.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+rc(o,":");case"OOOO":default:return"GMT"+Bn(o,":")}},z:function(n,a,r){const o=n.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+rc(o,":");case"zzzz":default:return"GMT"+Bn(o,":")}},t:function(n,a,r){const o=Math.trunc(n.getTime()/1e3);return Ve(o,a.length)},T:function(n,a,r){const o=n.getTime();return Ve(o,a.length)}};function rc(n,a=""){const r=n>0?"-":"+",o=Math.abs(n),l=Math.trunc(o/60),d=o%60;return d===0?r+String(l):r+String(l)+a+Ve(d,2)}function ac(n,a){return n%60===0?(n>0?"-":"+")+Ve(Math.abs(n)/60,2):Bn(n,a)}function Bn(n,a=""){const r=n>0?"-":"+",o=Math.abs(n),l=Ve(Math.trunc(o/60),2),d=Ve(o%60,2);return r+l+a+d}const ic=(n,a)=>{switch(n){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},wu=(n,a)=>{switch(n){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},Mb=(n,a)=>{const r=n.match(/(P+)(p+)?/)||[],o=r[1],l=r[2];if(!l)return ic(n,a);let d;switch(o){case"P":d=a.dateTime({width:"short"});break;case"PP":d=a.dateTime({width:"medium"});break;case"PPP":d=a.dateTime({width:"long"});break;case"PPPP":default:d=a.dateTime({width:"full"});break}return d.replace("{{date}}",ic(o,a)).replace("{{time}}",wu(l,a))},Lb={p:wu,P:Mb},Ab=/^D+$/,Rb=/^Y+$/,Ib=["D","DD","YY","YYYY"];function Ob(n){return Ab.test(n)}function Db(n){return Rb.test(n)}function zb(n,a,r){const o=Bb(n,a,r);if(console.warn(o),Ib.includes(n))throw new RangeError(o)}function Bb(n,a,r){const o=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${a}\`) for formatting ${o} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vb=/^'([^]*?)'?$/,$b=/''/g,Wb=/[a-zA-Z]/;function ut(n,a,r){const o=ma(),l=o.locale??Sb,d=o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=o.weekStartsOn??o.locale?.options?.weekStartsOn??0,p=wt(n);if(!qy(p))throw new RangeError("Invalid time value");let g=a.match(Hb).map(y=>{const h=y[0];if(h==="p"||h==="P"){const b=Lb[h];return b(y,l.formatLong)}return y}).join("").match(Fb).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const h=y[0];if(h==="'")return{isToken:!1,value:Zb(y)};if(sc[h])return{isToken:!0,value:y};if(h.match(Wb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:y}});l.localize.preprocessor&&(g=l.localize.preprocessor(p,g));const x={firstWeekContainsDate:d,weekStartsOn:u,locale:l};return g.map(y=>{if(!y.isToken)return y.value;const h=y.value;(Db(h)||Ob(h))&&zb(h,a,String(n));const b=sc[h[0]];return b(p,h,l.localize,x)}).join("")}function Zb(n){const a=n.match(Vb);return a?a[1].replace($b,"'"):n}function oc(n,a){const r=wt(n),o=wt(a);return+r<+o}function qb(){const{user:n,isLoggedIn:a}=vs(),[,r]=Ji(),[o,l]=m.useState(!1),{data:d,isLoading:u}=$n({queryKey:["/api/user/notifications"],enabled:a,refetchInterval:3e4}),p=d?.data||[],g=p.filter(_=>!_.read_at).length,x=xn({mutationFn:async _=>(await vn("PATCH",`/api/notifications/${_}/read`)).json(),onSuccess:()=>{Fn.invalidateQueries({queryKey:["/api/user/notifications"]})}}),y=_=>{_.read_at||x.mutate(_.id),_.application_id&&(l(!1),r(`/applications/${_.application_id}`))},h=_=>{switch(_){case"status_change":return t.jsx(no,{className:"h-4 w-4 text-primary"});case"document_request":return t.jsx(xi,{className:"h-4 w-4 text-orange-500"});case"reminder":return t.jsx(ni,{className:"h-4 w-4 text-muted-foreground"});case"expiration_warning":return t.jsx(xi,{className:"h-4 w-4 text-destructive"});case"message":return t.jsx(ad,{className:"h-4 w-4 text-primary"});default:return t.jsx(Hg,{className:"h-4 w-4 text-muted-foreground"})}},b=_=>{if(_.subject)return _.subject;switch(_.notification_type){case"status_change":return"Application Status Updated";case"document_request":return"Document Requested";case"reminder":return"Reminder";case"expiration_warning":return"Application Expiring Soon";case"message":return"New Message";default:return"Notification"}};return n?t.jsxs(Jd,{open:o,onOpenChange:l,children:[t.jsx(Qd,{asChild:!0,children:t.jsxs(ae,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notification-bell",children:[t.jsx(ni,{className:"h-5 w-5"}),g>0&&t.jsx(lt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs","data-testid":"badge-notification-count",children:g>9?"9+":g})]})}),t.jsxs(uo,{align:"end",className:"w-80",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 border-b",children:[t.jsx("h4",{className:"font-semibold",children:"Notifications"}),g>0&&t.jsxs(lt,{variant:"secondary",children:[g," new"]})]}),t.jsx(fu,{className:"h-[400px]",children:u?t.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Loading..."}):p.length===0?t.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[t.jsx(ni,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No notifications yet"})]}):t.jsx("div",{children:p.map((_,S)=>t.jsxs("div",{children:[S>0&&t.jsx(on,{}),t.jsx("button",{"data-testid":`notification-${_.id}`,className:`w-full p-3 text-left transition-colors hover-elevate ${_.read_at?"":"bg-accent/50"}`,onClick:()=>y(_),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5",children:h(_.notification_type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("span",{className:`text-sm ${_.read_at?"":"font-medium"}`,children:b(_)}),!_.read_at&&t.jsx("div",{className:"h-2 w-2 rounded-full bg-primary shrink-0"})]}),_.content&&t.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:_.content}),_.applications?.properties?.title&&t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Property: ",_.applications.properties.title]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ut(new Date(_.created_at),"MMM d, h:mm a")})]})]})})]},_.id))})}),p.length>0&&t.jsxs(t.Fragment,{children:[t.jsx(on,{}),t.jsx("div",{className:"p-2",children:t.jsx(ae,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>{l(!1),r("/applications")},"data-testid":"button-view-all-notifications",children:"View All Applications"})})]})]})]}):null}function Jr(){const[n]=Ji(),[a,r]=m.useState(!1),{user:o,logout:l,isLoggedIn:d}=vs(),u=o?.email==="admin@choiceproperties.com",p=o&&o.email!=="admin@choiceproperties.com",g=[{href:"/",label:"Home"},{href:"/properties",label:"Rent"},{href:"/success-stories",label:"Success Stories"},{href:"/faq",label:"FAQ"},...u?[{href:"/admin",label:"Admin"}]:[],...p?[{href:"/renter-dashboard",label:"Renter"},{href:"/landlord-dashboard",label:"Landlord"}]:[],{href:"/about",label:"About Us"},{href:"/contact",label:"Contact"}],x=h=>n===h,y=m.useCallback((h,b,_)=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),_?.())},[]);return t.jsx("nav",{className:"sticky top-0 z-50 w-full border-b bg-white/95 dark:bg-gray-950/95 backdrop-blur supports-[backdrop-filter]:bg-white/60 dark:supports-[backdrop-filter]:bg-gray-950/60","aria-label":"Main navigation",role:"navigation",children:t.jsxs("div",{className:"container flex h-16 items-center justify-between mx-auto px-4",children:[t.jsx(Ae,{href:"/",children:t.jsx("span",{className:"flex items-center space-x-2 cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-primary rounded-md","aria-label":"Choice Properties home",tabIndex:0,"data-testid":"link-home-logo",children:t.jsxs("span",{className:"font-heading text-2xl font-bold text-primary",children:["Choice",t.jsx("span",{className:"text-secondary",children:"Properties"})]})})}),t.jsxs("div",{className:"hidden lg:flex items-center space-x-4 xl:space-x-6",role:"menubar","aria-label":"Main menu",children:[g.map(h=>t.jsx(Ae,{href:h.href,children:t.jsx("span",{className:`text-sm font-medium transition-colors hover:text-primary cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-primary rounded px-2 py-1 ${x(h.href)?"text-primary font-bold":"text-muted-foreground"}`,role:"menuitem",tabIndex:0,"aria-current":x(h.href)?"page":void 0,"data-testid":`nav-link-${h.label.toLowerCase().replace(/\s+/g,"-")}`,children:h.label})},h.href)),t.jsx(wy,{}),d?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ae,{href:"/messages",children:t.jsx(ae,{variant:"ghost",size:"icon","aria-label":"Messages","data-testid":"button-messages-desktop",children:t.jsx(ad,{className:"h-5 w-5"})})}),t.jsx(qb,{}),t.jsx("span",{className:"text-sm text-muted-foreground","data-testid":"text-user-name",children:o?.full_name||o?.email}),t.jsxs(ae,{variant:"ghost",size:"sm",onClick:l,className:"flex items-center gap-1","aria-label":"Logout from account","data-testid":"button-logout-desktop",children:[t.jsx(Dl,{className:"h-4 w-4","aria-hidden":"true"})," Logout"]})]}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ae,{href:"/login",children:t.jsx(ae,{variant:"ghost",size:"sm","data-testid":"button-login-desktop",children:"Login"})}),t.jsx(Ae,{href:"/signup",children:t.jsx(ae,{className:"bg-secondary hover:bg-secondary/90 text-primary-foreground font-bold","data-testid":"button-signup-desktop",children:"Sign Up"})})]})]}),t.jsx("div",{className:"lg:hidden",children:t.jsxs(dy,{open:a,onOpenChange:r,children:[t.jsx(uy,{asChild:!0,children:t.jsx(ae,{variant:"ghost",size:"icon","aria-label":"Open navigation menu","aria-expanded":a,"aria-controls":"mobile-menu","data-testid":"button-menu-toggle",children:t.jsx(rd,{className:"h-6 w-6","aria-hidden":"true"})})}),t.jsxs(Xd,{side:"right",className:"w-72 sm:w-80 overflow-y-auto max-h-screen scroll-smooth",id:"mobile-menu","aria-label":"Mobile navigation menu",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("span",{className:"font-heading text-xl font-bold text-primary",children:["Choice",t.jsx("span",{className:"text-secondary",children:"Properties"})]}),t.jsx(hy,{asChild:!0,children:t.jsx(ae,{variant:"ghost",size:"icon","aria-label":"Close menu","data-testid":"button-close-menu",children:t.jsx(cn,{className:"h-5 w-5","aria-hidden":"true"})})})]}),t.jsxs("nav",{className:"flex flex-col space-y-1",role:"navigation","aria-label":"Mobile navigation",children:[t.jsx("p",{className:"text-xs font-semibold text-muted-foreground px-4 py-2 uppercase tracking-wider",children:"Navigation"}),t.jsx("div",{className:"max-h-[50vh] overflow-y-auto scroll-smooth",children:g.map(h=>t.jsx(Ae,{href:h.href,children:t.jsx("span",{onClick:()=>r(!1),onKeyDown:b=>y(b,h.href,()=>r(!1)),className:`px-4 py-3 text-base font-medium transition-colors rounded-lg block cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-primary ${x(h.href)?"bg-primary/10 text-primary font-bold":"text-muted-foreground hover:bg-muted"}`,tabIndex:0,role:"menuitem","aria-current":x(h.href)?"page":void 0,"data-testid":`mobile-nav-${h.label.toLowerCase().replace(/\s+/g,"-")}`,children:h.label})},h.href))}),t.jsx("div",{className:"border-t border-border my-2",role:"separator"}),t.jsx("p",{className:"text-xs font-semibold text-muted-foreground px-4 py-2 uppercase tracking-wider",children:"Account"}),d?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"px-4 py-3 text-base font-medium text-foreground flex items-center","data-testid":"text-mobile-user",children:[t.jsx(dd,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),o?.full_name||o?.email]}),t.jsxs("button",{onClick:()=>{l(),r(!1)},className:"px-4 py-3 text-base font-medium text-muted-foreground hover:bg-muted rounded-lg w-full text-left flex items-center focus:outline-none focus-visible:ring-2 focus-visible:ring-primary","aria-label":"Logout from account","data-testid":"button-logout-mobile",children:[t.jsx(Dl,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Logout"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ae,{href:"/login",children:t.jsx("span",{onClick:()=>r(!1),className:"px-4 py-3 text-base font-medium text-muted-foreground hover:bg-muted rounded-lg block cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-primary",tabIndex:0,"data-testid":"link-login-mobile",children:"Login"})}),t.jsx("div",{className:"px-4 mt-2",children:t.jsx(Ae,{href:"/signup",children:t.jsx(ae,{className:"w-full bg-secondary hover:bg-secondary/90 text-primary-foreground font-bold",onClick:()=>r(!1),"data-testid":"button-signup-mobile",children:"Sign Up"})})})]})]})]})]})})]})})}const Dt=m.forwardRef(({className:n,type:a,...r},o)=>t.jsx("input",{type:a,className:de("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","aria-[invalid=true]:border-destructive aria-[invalid=true]:ring-destructive aria-[invalid=true]:focus-visible:ring-destructive",n),ref:o,...r}));Dt.displayName="Input";function Ub(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(()=>{})}function _u(n,a){try{const r=JSON.parse(localStorage.getItem("choiceProperties_analytics")||"[]");r.push({name:n,timestamp:new Date().toISOString(),data:a||{}}),localStorage.setItem("choiceProperties_analytics",JSON.stringify(r.slice(-100))),typeof window<"u"&&"gtag"in window&&window.gtag("event",n,a)}catch{}}function BN(n,a){_u("form_submission",{form:n,success:a,timestamp:new Date().toISOString()})}function Qr(){const[n,a]=m.useState(""),[r,o]=m.useState(!1),l=d=>{if(d.preventDefault(),n){const u=JSON.parse(localStorage.getItem("choiceProperties_newsletter")||"[]");u.includes(n)||(u.push(n),localStorage.setItem("choiceProperties_newsletter",JSON.stringify(u))),_u("newsletter_signup",{email:n}),o(!0),a(""),setTimeout(()=>o(!1),3e3)}};return t.jsx("footer",{className:"bg-primary text-primary-foreground",role:"contentinfo","aria-label":"Site footer",children:t.jsxs("div",{className:"container mx-auto px-4 py-12",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-heading text-2xl font-bold text-white",children:["Choice",t.jsx("span",{className:"text-secondary",children:"Properties"})]}),t.jsx("p",{className:"text-primary-foreground/80 text-sm",children:"Helping you find the perfect place to call home. Professional, reliable, and dedicated to your comfort."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-heading text-lg font-semibold text-secondary",children:"Quick Links"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:t.jsx(Ae,{href:"/properties",className:"hover:text-secondary transition-colors",children:"All Properties"})}),t.jsx("li",{children:t.jsx(Ae,{href:"/success-stories",className:"hover:text-secondary transition-colors",children:"Success Stories"})}),t.jsx("li",{children:t.jsx(Ae,{href:"/about",className:"hover:text-secondary transition-colors",children:"About Us"})}),t.jsx("li",{children:t.jsx(Ae,{href:"/contact",className:"hover:text-secondary transition-colors",children:"Contact"})}),t.jsx("li",{children:t.jsx(Ae,{href:"/privacy",className:"hover:text-secondary transition-colors",children:"Privacy Policy"})}),t.jsx("li",{children:t.jsx(Ae,{href:"/terms",className:"hover:text-secondary transition-colors",children:"Terms & Conditions"})})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-heading text-lg font-semibold text-secondary",children:"Contact Us"}),t.jsxs("ul",{className:"space-y-3 text-sm",children:[t.jsxs("li",{className:"flex items-center space-x-2",children:[t.jsx(Tt,{className:"h-4 w-4 text-secondary"}),t.jsx("span",{children:"2265 Livernois, Suite 500, Troy, MI 48083"})]}),t.jsxs("li",{className:"flex items-center space-x-2",children:[t.jsx(oa,{className:"h-4 w-4 text-secondary"}),t.jsx("span",{children:"+1 (707) 706-3137"})]}),t.jsxs("li",{className:"flex items-center space-x-2",children:[t.jsx(aa,{className:"h-4 w-4 text-secondary"}),t.jsx("span",{children:"info@choiceproperties.com"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-heading text-lg font-semibold text-secondary",children:"Newsletter"}),t.jsx("p",{className:"text-primary-foreground/80 text-sm",children:"Get the latest listings and updates delivered to your inbox."}),t.jsxs("form",{onSubmit:l,className:"space-y-2",children:[t.jsx(Dt,{type:"email",placeholder:"your@email.com",value:n,onChange:d=>a(d.target.value),required:!0,"aria-label":"Email for newsletter subscription",className:"bg-primary-foreground/10 border-primary-foreground/30 text-white placeholder:text-primary-foreground/50"}),t.jsx(ae,{type:"submit",size:"sm",className:"w-full bg-secondary hover:bg-secondary/90 text-primary-foreground",children:t.jsxs("span",{className:"flex items-center gap-2 justify-center",children:[r&&t.jsx(Zn,{className:"h-4 w-4"}),r?"Subscribed":"Subscribe"]})})]})]})]}),t.jsxs("div",{className:"mt-12 pt-8 border-t border-primary-foreground/20",children:[t.jsxs("div",{className:"flex justify-center space-x-6 mb-6",children:[t.jsx("a",{href:"#",className:"hover:text-secondary transition-colors","aria-label":"Follow us on Facebook",title:"Facebook",children:t.jsx(Sg,{className:"h-5 w-5"})}),t.jsx("a",{href:"#",className:"hover:text-secondary transition-colors","aria-label":"Follow us on Instagram",title:"Instagram",children:t.jsx($g,{className:"h-5 w-5"})}),t.jsx("a",{href:"#",className:"hover:text-secondary transition-colors","aria-label":"Follow us on Twitter",title:"Twitter",children:t.jsx(Zx,{className:"h-5 w-5"})})]}),t.jsxs("p",{className:"text-center text-sm text-primary-foreground/60",children:[" ",new Date().getFullYear()," Choice Properties. All rights reserved."]})]})]})})}const jn="/assets/modern_luxury_home_exterior_with_blue_sky-soLcUUu7.png",go="/assets/bright_modern_living_room_interior-deuQI8Mt.png",xo="/assets/modern_kitchen_with_marble_island-BM7K-zWi.png",vo="/assets/cozy_modern_bedroom_interior-2e3mC01_.png",Yb={"placeholder-exterior":jn,"placeholder-living":go,"placeholder-kitchen":xo,"placeholder-bedroom":vo};function Si({property:n,onQuickView:a}){const[r,o]=m.useState(null),[l,d]=m.useState(0),[u,p]=m.useState(!0),g=n.images?.[0]&&Yb[n.images[0]]||jn,x=r?.imageUrls.thumbnail||g,{toggleFavorite:y,isFavorited:h}=co(),[b,_]=m.useState(!1),[S,j]=m.useState(!1);m.useEffect(()=>{(async()=>{try{const P=await fetch(`/api/images/property/${n.id}`);if(P.ok){const Q=(await P.json()).data||[];d(Q.length);const B=Q[0]||null;B&&o(B)}else d(0)}catch{d(0)}finally{p(!1)}})()},[n.id]);const w=T=>{T.preventDefault(),T.stopPropagation(),y(n.id)},k=T=>{T.preventDefault(),T.stopPropagation();const P=`${window.location.origin}/property/${n.id}`;navigator.clipboard.writeText(P),_(!0),setTimeout(()=>_(!1),2e3)};return t.jsxs(Be,{className:"overflow-hidden group cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-1 dark:hover:shadow-2xl dark:hover:shadow-black/50",onClick:()=>a?.(n),onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),"data-testid":`card-property-${n.id}`,children:[t.jsxs("div",{className:"relative aspect-[1.6/1] overflow-hidden bg-muted",children:[t.jsx(Ae,{href:`/property/${n.id}`,children:t.jsx("span",{className:"block w-full h-full",onClick:T=>T.stopPropagation(),children:t.jsx("img",{src:x,alt:n.title,loading:"lazy",decoding:"async",className:"object-cover w-full h-full group-hover:scale-110 transition-transform duration-500 ease-out","data-testid":"img-property-preview"})})}),t.jsxs("div",{className:"absolute top-2 left-2 flex gap-2 transition-all duration-300",style:{opacity:S?.9:1,transform:S?"translateY(-2px)":"translateY(0)"},children:[t.jsx(lt,{className:"bg-secondary text-primary-foreground font-bold text-xs uppercase tracking-wider border border-secondary shadow-md hover-elevate","data-testid":"badge-for-rent",children:"For Rent"}),t.jsx(lt,{className:"bg-white/90 dark:bg-card text-primary font-bold text-xs uppercase tracking-wider shadow-sm","data-testid":"badge-property-type",children:n.property_type||"Property"}),l>0&&t.jsxs(lt,{className:"bg-blue-500/90 text-white font-bold text-xs flex items-center gap-1 shadow-md","data-testid":"badge-photo-count",children:[t.jsx(Wr,{className:"h-3 w-3"}),l]})]}),t.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10 transition-all duration-300",onClick:T=>T.stopPropagation(),style:{opacity:S?1:.7},children:[t.jsx("button",{onClick:k,className:"p-2 rounded-full bg-black/40 hover:bg-black/60 active:scale-95 transition-all text-white shadow-lg hover-elevate",title:b?"Copied!":"Share property","data-testid":"button-share-card",children:t.jsx(la,{className:"h-5 w-5"})}),t.jsx("button",{onClick:w,className:"p-2 rounded-full bg-black/40 hover:bg-black/60 active:scale-95 transition-all text-white shadow-lg hover-elevate",title:h(n.id)?"Remove from favorites":"Add to favorites","data-testid":h(n.id)?"button-unsave-card":"button-save-card",children:h(n.id)?t.jsx(qn,{className:"h-5 w-5 fill-red-500 text-red-500 transition-all duration-200"}):t.jsx(qn,{className:"h-5 w-5 transition-all duration-200"})})]})]}),t.jsxs(He,{className:"p-4 pb-2",children:[t.jsxs("div",{className:"flex items-baseline gap-1 mb-1 transition-colors duration-300",children:[t.jsxs("span",{className:"text-2xl font-bold",children:["$",n.price?parseInt(n.price).toLocaleString():"N/A"]}),t.jsx("span",{className:"text-muted-foreground text-sm",children:"/mo"})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm mb-2 font-medium",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ar,{className:"h-4 w-4 text-primary"}),t.jsx("span",{className:"font-bold",children:n.bedrooms||0}),t.jsx("span",{className:"font-normal text-muted-foreground",children:"bds"})]}),t.jsx("div",{className:"w-px h-3 bg-border"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ra,{className:"h-4 w-4 text-primary"}),t.jsx("span",{className:"font-bold",children:n.bathrooms||0}),t.jsx("span",{className:"font-normal text-muted-foreground",children:"ba"})]}),t.jsx("div",{className:"w-px h-3 bg-border"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ia,{className:"h-4 w-4 text-primary"}),t.jsx("span",{className:"font-bold",children:n.square_feet?n.square_feet.toLocaleString():"N/A"}),t.jsx("span",{className:"font-normal text-muted-foreground",children:"sqft"})]})]}),t.jsxs("div",{className:"text-sm text-muted-foreground truncate","data-testid":"text-property-address",children:[n.address,", ",n.city||"N/A",", ",n.state||""]})]})]})}const Kb=["Downtown","Midtown","Suburbs","Waterfront","West Side","East Village"];function Gb(){const[n,a]=m.useState(""),[r,o]=m.useState(""),[l,d]=m.useState(""),[u,p]=m.useState(""),[g,x]=m.useState(!1),[y,h]=m.useState(-1),[b]=m.useState(["Troy, MI","Detroit, MI"]),_=m.useRef(null),S=m.useRef(null),j=m.useRef(null),w="location-suggestions",k=Kb.filter(B=>B.toLowerCase().includes(n.toLowerCase())),T=n.length===0?b:k.slice(0,5),P=()=>{const B=new URLSearchParams;return n&&B.append("location",n),r&&B.append("minPrice",r),l&&B.append("maxPrice",l),u&&B.append("bedrooms",u),B.toString()?`?${B.toString()}`:""},z=m.useCallback(B=>{a(B),x(!1),h(-1),S.current?.focus()},[]),Q=m.useCallback(B=>{if(!(!g||T.length===0))switch(B.key){case"ArrowDown":B.preventDefault(),h(H=>H<T.length-1?H+1:0);break;case"ArrowUp":B.preventDefault(),h(H=>H>0?H-1:T.length-1);break;case"Enter":B.preventDefault(),y>=0&&y<T.length&&z(T[y]);break;case"Escape":x(!1),h(-1);break}},[g,T,y,z]);return m.useEffect(()=>{const B=H=>{_.current&&!_.current.contains(H.target)&&(x(!1),h(-1))};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),m.useEffect(()=>{y>=0&&j.current&&j.current.querySelector(`[data-index="${y}"]`)?.scrollIntoView({block:"nearest"})},[y]),t.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[t.jsx("div",{className:"relative bg-white rounded-2xl md:rounded-full shadow-2xl p-2 md:p-3 overflow-visible ring-4 ring-white/30",role:"search","aria-label":"Property search",children:t.jsxs("div",{className:"relative grid grid-cols-1 md:grid-cols-12 gap-2 items-center",children:[t.jsxs("div",{className:"md:col-span-4 relative",ref:_,children:[t.jsxs("div",{className:"relative",children:[t.jsx(Tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground","aria-hidden":"true"}),t.jsx("input",{ref:S,type:"text",placeholder:"Where do you want to live?",value:n,onChange:B=>{a(B.target.value),h(-1)},onFocus:()=>x(!0),onKeyDown:Q,className:"w-full pl-10 pr-4 py-3 rounded-xl bg-muted/50 border border-border text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 focus:bg-muted/70 transition-all","data-testid":"input-search-location","aria-label":"Location search","aria-expanded":g&&T.length>0,"aria-autocomplete":"list","aria-controls":g?w:void 0,"aria-activedescendant":y>=0?`suggestion-${y}`:void 0,role:"combobox"})]}),g&&T.length>0&&t.jsx("div",{ref:j,id:w,className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-border z-50 overflow-hidden",role:"listbox","aria-label":n.length===0?"Recent searches":"Location suggestions",children:t.jsxs("div",{className:"p-2",children:[t.jsx("p",{className:"text-xs text-muted-foreground px-2 py-1","aria-hidden":"true",children:n.length===0?"Recent Searches":"Popular Areas"}),T.map((B,H)=>t.jsxs("button",{id:`suggestion-${H}`,"data-index":H,role:"option","aria-selected":H===y,onClick:()=>z(B),onMouseEnter:()=>h(H),className:`w-full text-left px-3 py-2 text-sm text-foreground rounded-lg flex items-center gap-2 transition-colors ${H===y?"bg-muted":"hover:bg-muted"}`,children:[n.length===0?t.jsx(wn,{className:"w-4 h-4 text-muted-foreground","aria-hidden":"true"}):t.jsx(Tt,{className:"w-4 h-4 text-muted-foreground","aria-hidden":"true"}),B]},H))]})})]}),t.jsxs("div",{className:"md:col-span-2 relative",children:[t.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground","aria-hidden":"true"}),t.jsx("input",{type:"number",placeholder:"Min $",value:r,onChange:B=>o(B.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-muted/50 border border-border text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 focus:bg-muted/70 transition-all","data-testid":"input-search-min-price","aria-label":"Minimum monthly rent in dollars"})]}),t.jsxs("div",{className:"md:col-span-2 relative",children:[t.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground","aria-hidden":"true"}),t.jsx("input",{type:"number",placeholder:"Max $",value:l,onChange:B=>d(B.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-muted/50 border border-border text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 focus:bg-muted/70 transition-all","data-testid":"input-search-max-price","aria-label":"Maximum monthly rent in dollars"})]}),t.jsxs("div",{className:"md:col-span-2 relative",children:[t.jsx(ar,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground","aria-hidden":"true"}),t.jsxs("select",{value:u,onChange:B=>p(B.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-muted/50 border border-border text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 focus:bg-muted/70 transition-all appearance-none cursor-pointer","data-testid":"select-search-bedrooms","aria-label":"Number of bedrooms",children:[t.jsx("option",{value:"",className:"bg-background text-foreground",children:"Beds"}),t.jsx("option",{value:"1",className:"bg-background text-foreground",children:"1 Bed"}),t.jsx("option",{value:"2",className:"bg-background text-foreground",children:"2 Beds"}),t.jsx("option",{value:"3",className:"bg-background text-foreground",children:"3 Beds"}),t.jsx("option",{value:"4",className:"bg-background text-foreground",children:"4+ Beds"})]})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsx(Ae,{href:`/properties${P()}`,children:t.jsxs(ae,{size:"lg",className:"w-full bg-secondary hover:bg-secondary/90 text-primary-foreground font-bold rounded-xl h-12 shadow-lg hover:shadow-xl transition-all group","data-testid":"button-search-properties",children:[t.jsx(wn,{className:"h-5 w-5 mr-2 group-hover:scale-110 transition-transform","aria-hidden":"true"}),"Search"]})})})]})}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-4",role:"group","aria-label":"Quick property filters",children:[t.jsxs("span",{className:"text-white/60 text-sm flex items-center gap-1",children:[t.jsx(Ex,{className:"w-4 h-4","aria-hidden":"true"}),"Popular:"]}),[{label:"Apartments",filter:"apartments"},{label:"Houses",filter:"houses"},{label:"Pet Friendly",filter:"pet-friendly"},{label:"Near Transit",filter:"near-transit"}].map((B,H)=>t.jsx(Ae,{href:`/properties?type=${B.filter}`,children:t.jsx(ae,{variant:"ghost",size:"sm",className:"bg-white/10 hover:bg-white/20 text-white rounded-full border border-white/20","data-testid":`quick-filter-${B.filter}`,"aria-label":`Filter by ${B.label}`,children:B.label})},H))]})]})}function ju(){const{data:n,isLoading:a,error:r}=$n({queryKey:["/api/v2/properties"],staleTime:6e4,refetchOnMount:!0});return{properties:n?.data?.properties||[],loading:a,error:r}}function Xb({end:n,duration:a=2e3,suffix:r="",prefix:o=""}){const[l,d]=m.useState(0);return m.useEffect(()=>{let u=null,p;const g=x=>{u||(u=x);const y=(x-u)/a;y<1?(d(Math.floor(n*y)),p=requestAnimationFrame(g)):d(n)};return p=requestAnimationFrame(g),()=>cancelAnimationFrame(p)},[n,a]),t.jsxs("span",{children:[o,l.toLocaleString(),r]})}function Jb({testimonials:n}){const[a,r]=m.useState(0),[o,l]=m.useState(!0);m.useEffect(()=>{if(!o)return;const g=setInterval(()=>{r(x=>(x+1)%n.length)},5e3);return()=>clearInterval(g)},[o,n.length]);const d=()=>{r(g=>(g-1+n.length)%n.length),l(!1)},u=()=>{r(g=>(g+1)%n.length),l(!1)},p=[n[a],n[(a+1)%n.length],n[(a+2)%n.length]];return t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:p.map((g,x)=>t.jsxs("div",{className:"bg-card border rounded-2xl p-8 shadow-md hover:shadow-xl transition-all duration-300 transform hover:scale-105","data-aos":"fade-up","data-aos-delay":x*100,children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx("img",{src:g.image,alt:g.name,className:"w-16 h-16 rounded-full object-cover border-2 border-secondary"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-lg text-primary",children:g.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:g.location})]})]}),t.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((y,h)=>t.jsx(ln,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"},h))}),t.jsxs("p",{className:"text-muted-foreground leading-relaxed mb-4 italic",children:['"',g.text,'"']}),t.jsx("div",{className:"pt-4 border-t border-border",children:t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Property: ",t.jsx("span",{className:"font-semibold text-primary",children:g.property})]})})]},x))}),t.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[t.jsx(ae,{size:"icon",variant:"outline",onClick:d,className:"rounded-full","data-testid":"button-testimonial-prev",children:t.jsx($r,{className:"h-5 w-5"})}),t.jsx("div",{className:"flex gap-2",children:n.map((g,x)=>t.jsx("button",{onClick:()=>{r(x),l(!1)},className:`h-2 rounded-full transition-all ${x===a?"bg-secondary w-8":"bg-border w-2"}`,"data-testid":`button-testimonial-dot-${x}`,"aria-label":`Go to testimonial ${x+1}`},x))}),t.jsx(ae,{size:"icon",variant:"outline",onClick:u,className:"rounded-full","data-testid":"button-testimonial-next",children:t.jsx(fs,{className:"h-5 w-5"})})]})]})}const di=[{step:1,icon:wn,title:"Search Properties",desc:"Filter by location, price, bedrooms and more"},{step:2,icon:no,title:"Submit Application",desc:"Apply online with all required documents"},{step:3,icon:Lx,title:"Get Approved",desc:"We verify your info and landlord approves"},{step:4,icon:ir,title:"Move In",desc:"Sign lease, get keys, move into your home"}];function Qb(){return t.jsx("div",{className:"space-y-0",children:di.map((n,a)=>{const r=n.icon;return t.jsxs("div",{className:"relative",children:[a<di.length-1&&t.jsx("div",{className:"hidden md:block absolute left-24 top-32 w-1 h-20 bg-gradient-to-b from-secondary to-secondary/30"}),t.jsxs("div",{className:"flex gap-8 items-start mb-12 md:mb-0 relative z-10",children:[t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-secondary to-secondary/80 text-primary-foreground flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow",children:t.jsx(r,{className:"h-8 w-8"})}),a<di.length-1&&t.jsx("div",{className:"md:hidden h-12 w-1 bg-gradient-to-b from-secondary/50 to-secondary/10"})]}),t.jsxs("div",{className:"flex-1 pt-2 pb-8 md:pb-0",children:[t.jsxs("span",{className:"inline-block px-4 py-1 rounded-full bg-secondary/10 text-secondary text-sm font-semibold mb-2",children:["Step ",n.step]}),t.jsx("h3",{className:"font-heading text-2xl font-bold text-primary mb-2",children:n.title}),t.jsx("p",{className:"text-muted-foreground text-lg",children:n.desc})]})]})]},a)})})}const ew=[{id:"apartments",name:"Apartments",icon:eo,description:"Modern & comfortable",color:"from-blue-500/10 to-transparent"},{id:"houses",name:"Houses",icon:ir,description:"Space & freedom",color:"from-green-500/10 to-transparent"},{id:"condos",name:"Condos",icon:Qx,description:"Urban lifestyle",color:"from-purple-500/10 to-transparent"},{id:"shared",name:"Shared Spaces",icon:Zr,description:"Community living",color:"from-orange-500/10 to-transparent"},{id:"all",name:"View All",icon:Xs,description:"500+ listings",color:"from-secondary/20 to-transparent"}];function tw(){return t.jsx("section",{className:"py-16 bg-gradient-to-b from-background to-muted/30",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-12","data-aos":"fade-up",children:[t.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-primary mb-4",children:"Browse by Property Type"}),t.jsx("p",{className:"text-muted-foreground text-lg",children:"Start your search by selecting what you're looking for"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:ew.map((n,a)=>{const r=n.icon;return t.jsx(Ae,{href:"/properties",children:t.jsx(ae,{variant:"outline",className:`w-full h-auto py-6 px-4 rounded-2xl bg-gradient-to-br ${n.color} border-border/50 hover:border-secondary/50 hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group`,"data-aos":"fade-up","data-aos-delay":a*50,"data-testid":`button-browse-${n.id}`,children:t.jsxs("div",{className:"text-center space-y-3",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx(r,{className:"h-8 w-8 text-secondary group-hover:scale-110 transition-transform"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-lg text-primary",children:n.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:n.description})]})]})})},n.id)})})]})})}function nw({variant:n="hero",className:a=""}){const r=[{icon:ln,label:"4.9/5 Rating",value:"2000+ Reviews"},{icon:Zr,label:"Happy Renters",value:"10,000+"},{icon:Gs,label:"Verified",value:"100% Safe"}];return n==="hero"?t.jsx("div",{className:`flex flex-wrap justify-center gap-4 md:gap-8 ${a}`,children:r.map((o,l)=>t.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full border border-white/20","data-testid":`trust-badge-${l}`,children:[t.jsx(o.icon,{className:"w-4 h-4 text-secondary","aria-hidden":"true"}),t.jsx("span",{className:"text-sm font-medium text-white",children:o.label})]},l))}):n==="inline"?t.jsxs("div",{className:`flex flex-wrap items-center gap-6 ${a}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex -space-x-1",children:[1,2,3,4,5].map(o=>t.jsx(ln,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},o))}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"4.9 out of 5"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zn,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"Verified Listings"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ys,{className:"w-4 h-4 text-blue-500"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"48hr Approval"})]})]}):t.jsx("div",{className:`grid grid-cols-2 md:grid-cols-4 gap-4 ${a}`,children:[{icon:Gs,title:"Secure",desc:"256-bit encryption"},{icon:td,title:"Trusted",desc:"Industry leader"},{icon:Zr,title:"Community",desc:"10,000+ renters"},{icon:Zn,title:"Verified",desc:"All listings"}].map((o,l)=>t.jsxs("div",{className:"flex flex-col items-center text-center p-4 rounded-xl bg-muted/50",children:[t.jsx(o.icon,{className:"w-8 h-8 text-secondary mb-2"}),t.jsx("h4",{className:"font-semibold text-sm",children:o.title}),t.jsx("p",{className:"text-xs text-muted-foreground",children:o.desc})]},l))})}function Nu({className:n=""}){const a=[{name:"SSL Secured",icon:Gs},{name:"BBB Accredited",icon:td},{name:"Equal Housing",icon:Zr},{name:"Fair Housing",icon:Zn}];return t.jsx("section",{className:`py-8 bg-muted/30 border-y border-border ${n}`,children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsx("div",{className:"flex flex-wrap justify-center items-center gap-8 md:gap-16",children:a.map((r,o)=>t.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground opacity-70 hover:opacity-100 transition-opacity",children:[t.jsx(r.icon,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-medium",children:r.name})]},o))})})})}function sw(n=.5){const[a,r]=m.useState(0),o=m.useRef(!1),l=m.useCallback(()=>{o.current||(window.requestAnimationFrame(()=>{r(window.scrollY*n),o.current=!1}),o.current=!0)},[n]);return m.useEffect(()=>(window.addEventListener("scroll",l,{passive:!0}),()=>window.removeEventListener("scroll",l)),[l]),a}function yo(){const[n,a]=m.useState(!1);return m.useEffect(()=>{const r=window.matchMedia("(prefers-reduced-motion: reduce)");a(r.matches);const o=l=>{a(l.matches)};return r.addEventListener("change",o),()=>r.removeEventListener("change",o)},[]),n}function rw({className:n=""}){return yo()?null:t.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none ${n}`,"aria-hidden":"true",children:[t.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-secondary/10 rounded-full blur-3xl animate-pulse",style:{animationDuration:"4s"}}),t.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-white/5 rounded-full blur-3xl animate-pulse",style:{animationDuration:"6s",animationDelay:"1s"}}),t.jsx("div",{className:"absolute top-1/2 right-1/3 w-48 h-48 bg-secondary/5 rounded-full blur-2xl animate-pulse",style:{animationDuration:"5s",animationDelay:"2s"}})]})}const lc=[{id:1,type:"listed",property:"Modern 2BR Apartment",location:"Downtown",time:"2 min ago"},{id:2,type:"viewed",property:"Cozy Studio",location:"Midtown",time:"5 min ago"},{id:3,type:"rented",property:"Spacious 3BR House",location:"Suburbs",time:"12 min ago"},{id:4,type:"listed",property:"Luxury Penthouse",location:"Waterfront",time:"18 min ago"},{id:5,type:"viewed",property:"Family Home",location:"West Side",time:"25 min ago"}];function aw({className:n=""}){const[a,r]=m.useState(0),[o,l]=m.useState(!0);m.useEffect(()=>{const x=setInterval(()=>{l(!1),setTimeout(()=>{r(y=>(y+1)%lc.length),l(!0)},300)},4e3);return()=>clearInterval(x)},[]);const d=lc[a],u=d.type==="listed"?ir:d.type==="viewed"?to:Zn,p=d.type==="listed"?"bg-green-500/20":d.type==="viewed"?"bg-blue-500/20":"bg-secondary/20",g=d.type==="listed"?"text-green-500":d.type==="viewed"?"text-blue-500":"text-secondary";return t.jsxs("div",{className:`inline-flex items-center gap-3 ${n}`,children:[t.jsxs("div",{className:"relative flex h-3 w-3","aria-hidden":"true",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),t.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full ${p} transition-opacity duration-300 ${o?"opacity-100":"opacity-0"}`,role:"status","aria-live":"polite",children:[t.jsx(u,{className:`w-4 h-4 ${g}`,"aria-hidden":"true"}),t.jsxs("span",{className:"text-sm text-white",children:[t.jsx("span",{className:"font-medium",children:d.property}),t.jsxs("span",{className:"text-white/70",children:[" in ",d.location]}),t.jsxs("span",{className:"text-white/50",children:[" - ",d.time]})]})]})]})}function iw(){return t.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[9999] focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded-md focus:shadow-lg focus:outline-none","data-testid":"skip-to-main",children:"Skip to main content"})}function bo(n){document.title=n.title;let a=document.querySelector('meta[name="description"]');a||(a=document.createElement("meta"),a.setAttribute("name","description"),document.head.appendChild(a)),a.setAttribute("content",n.description),Bs("og:title",n.title),Bs("og:description",n.description),n.image&&Bs("og:image",n.image),n.url&&Bs("og:url",n.url),n.type&&Bs("og:type",n.type),ui("twitter:title",n.title),ui("twitter:description",n.description),n.image&&ui("twitter:image",n.image)}function Bs(n,a){let r=document.querySelector(`meta[property="${n}"]`);r||(r=document.createElement("meta"),r.setAttribute("property",n),document.head.appendChild(r)),r.setAttribute("content",a)}function ui(n,a){let r=document.querySelector(`meta[name="${n}"]`);r||(r=document.createElement("meta"),r.setAttribute("name",n),document.head.appendChild(r)),r.setAttribute("content",a)}function Pi(n,a="default"){const r=`ld-json-${a}`;let o=document.querySelector(`script#${r}`);o||(o=document.createElement("script"),o.setAttribute("type","application/ld+json"),o.setAttribute("id",r),document.head.appendChild(o)),o.textContent=JSON.stringify(n)}function ow(n){const a=`ld-json-${n}`,r=document.querySelector(`script#${a}`);r&&r.remove()}function lw(n){return{"@context":"https://schema.org","@type":"Apartment",name:n.title,description:n.description||"Property listing",address:{"@type":"PostalAddress",streetAddress:n.address,addressLocality:n.city||"",addressRegion:n.state||"",postalCode:n.zip_code||n.zip||"48083"},priceCurrency:"USD",price:n.price?n.price.toString():"0",priceSpecification:{"@type":"PriceSpecification",priceCurrency:"USD",price:n.price?n.price.toString():"0"},numberOfRooms:n.bedrooms?n.bedrooms.toString():"0",floorSize:{"@type":"QuantitativeValue",value:(n.square_feet||n.sqft||0).toString(),unitCode:"SQM"}}}function cw(){return{"@context":"https://schema.org","@type":"RealEstateAgent",name:"Choice Properties Inc.",url:"https://choiceproperties.com",logo:"https://choiceproperties.com/logo.png",description:"Your trusted rental housing partner. Browse properties, apply online, and find your perfect home in Troy, MI.",address:{"@type":"PostalAddress",streetAddress:"2265 Livernois, Suite 500",addressLocality:"Troy",addressRegion:"MI",postalCode:"48083",addressCountry:"US"},telephone:"+1-707-706-3137",email:"info@choiceproperties.com",sameAs:["https://www.facebook.com/choiceproperties","https://www.instagram.com/choiceproperties","https://www.twitter.com/choiceproperties"],priceRange:"$$$"}}function dw(n){return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:n.map((a,r)=>({"@type":"ListItem",position:r+1,name:a.name,item:a.url}))}}function uw(n){let a=document.querySelector('link[rel="canonical"]');a||(a=document.createElement("link"),a.setAttribute("rel","canonical"),document.head.appendChild(a)),a.setAttribute("href",n)}const hw=[{name:"Sarah Martinez",location:"Los Angeles, CA",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&h=150&fit=crop",rating:5,text:"I was worried about finding a place with my credit history, but Choice Properties connected me with understanding landlords. The application process was transparent, and I moved into my dream apartment within two weeks.",property:"Downtown Loft"},{name:"Michael Johnson",location:"Pasadena, CA",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop",rating:5,text:"As a single dad relocating for work, I needed to find a home fast. Choice Properties made it happen. They understood my situation and helped me find a family-friendly neighborhood near great schools.",property:"Cozy Suburban Home"},{name:"Emily Chen",location:"Santa Monica, CA",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop",rating:5,text:"The whole process was incredibly smooth. From initial viewing to signing the lease, everything was professional and efficient. The online application system saved me so much time. Highly recommend!",property:"Seaside Condo"},{name:"David Lee",location:"Seattle, WA",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop",rating:5,text:"Found my perfect home in just 3 weeks! The personalized recommendations and responsive support team made all the difference. This is how renting should be.",property:"Modern Apartment"}];function it({children:n,className:a="",delay:r=0}){const[o,l]=m.useState(!1),d=m.useRef(null),u=yo();return m.useEffect(()=>{if(u){l(!0);return}const p=new IntersectionObserver(([g])=>{g.isIntersecting&&setTimeout(()=>l(!0),r)},{threshold:.1,rootMargin:"50px"});return d.current&&p.observe(d.current),()=>p.disconnect()},[r,u]),t.jsx("div",{ref:d,className:`transition-all duration-700 ${o?"opacity-100 translate-y-0":"opacity-0 translate-y-8"} ${a}`,children:n})}function mw(){const{properties:n=[],loading:a}=ju(),r=sw(.3),o=yo(),l=m.useRef(null);m.useEffect(()=>{bo({title:"Choice Properties - Find Your Perfect Rental Home | Troy, MI Real Estate",description:"Your trusted rental housing partner in Troy, MI. Browse 500+ rental properties, apply online, and find your perfect home. Free property search with instant notifications.",image:"https://choiceproperties.com/og-image.png",url:"https://choiceproperties.com"}),uw("https://choiceproperties.com"),Pi(cw(),"organization"),Pi(dw([{name:"Home",url:"https://choiceproperties.com"}]),"breadcrumb")},[]);const d=Array.isArray(n)?n.slice(0,6):[];return t.jsxs("div",{className:"min-h-screen bg-background flex flex-col overflow-x-hidden",children:[t.jsx(iw,{}),t.jsx(Jr,{}),t.jsxs("main",{id:"main-content",children:[t.jsxs("section",{ref:l,className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden","aria-labelledby":"hero-heading",children:[t.jsxs("div",{className:"absolute inset-0 z-0 bg-cover bg-center bg-no-repeat will-change-transform",style:{backgroundImage:`url(${jn})`,transform:o?"none":`translateY(${r}px) scale(1.1)`},role:"img","aria-label":"Modern luxury home exterior with blue sky background",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/60 via-primary/45 to-primary/70"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 via-transparent to-primary/20"})]}),t.jsx(rw,{}),t.jsx("div",{className:"container relative z-10 px-4 text-white max-w-6xl py-16 md:py-24",style:{textShadow:"0 2px 8px rgba(0,0,0,0.4)"},children:t.jsxs("div",{className:"text-center space-y-8",children:[t.jsx(aw,{className:"justify-center mb-8"}),t.jsx(it,{delay:0,children:t.jsxs("h1",{id:"hero-heading",className:"font-heading text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold tracking-tight leading-[1.1]",children:["Find the home that"," ",t.jsxs("span",{className:"text-secondary relative inline-block",children:["fits your life",t.jsx("svg",{className:"absolute -bottom-2 left-0 w-full h-3 text-secondary/30",viewBox:"0 0 200 12",preserveAspectRatio:"none","aria-hidden":"true",children:t.jsx("path",{d:"M0,6 Q50,0 100,6 T200,6",stroke:"currentColor",strokeWidth:"4",fill:"none"})})]})]})}),t.jsx(it,{delay:200,children:t.jsx("p",{className:"text-xl md:text-2xl text-white/90 font-light max-w-2xl mx-auto",children:"Your Trusted Rental Housing Partner"})}),t.jsx(it,{delay:400,children:t.jsx("p",{className:"text-lg max-w-2xl mx-auto text-white/75 leading-relaxed",children:"At Choice Properties, we solve one of life's most important needsfinding a place you can truly call home."})}),t.jsx(it,{delay:600,children:t.jsx(nw,{variant:"hero",className:"mt-6"})}),t.jsx(it,{delay:800,children:t.jsx(Gb,{})}),t.jsx(it,{delay:1e3,children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-6",children:[t.jsx(Ae,{href:"/properties",children:t.jsxs(ae,{size:"lg",className:"bg-secondary hover:bg-secondary/90 text-primary-foreground font-bold h-14 px-10 text-lg shadow-xl hover:shadow-2xl transition-all group","data-testid":"cta-search-rentals",children:[t.jsx(wn,{className:"mr-2 h-5 w-5 group-hover:scale-110 transition-transform","aria-hidden":"true"}),"Search Rentals"]})}),t.jsx(Ae,{href:"/signup?role=landlord",children:t.jsx(ae,{size:"lg",variant:"outline",className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20 font-bold h-14 px-8 text-lg","data-testid":"cta-list-property",children:"List Your Property"})})]})})]})}),t.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce","aria-hidden":"true",children:t.jsx("div",{className:"w-6 h-10 rounded-full border-2 border-white/50 flex items-start justify-center p-2",children:t.jsx("div",{className:"w-1 h-3 bg-white/70 rounded-full animate-pulse"})})})]}),t.jsx(Nu,{}),t.jsx(tw,{}),t.jsx("section",{className:"py-20 bg-muted/30","aria-labelledby":"neighborhoods-heading",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsx(it,{children:t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{id:"neighborhoods-heading",className:"font-heading text-3xl md:text-4xl font-bold text-primary mb-3",children:"Trending Neighborhoods"}),t.jsx("p",{className:"text-muted-foreground text-lg",children:"Discover popular areas with high renter satisfaction"})]})}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{name:"Downtown",properties:45,image:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=300&fit=crop"},{name:"Midtown",properties:38,image:"https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?w=400&h=300&fit=crop"},{name:"Suburbs",properties:62,image:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400&h=300&fit=crop"},{name:"Waterfront",properties:28,image:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=400&h=300&fit=crop"}].map((u,p)=>t.jsx(it,{delay:p*100,children:t.jsx(Ae,{href:`/properties?location=${u.name}`,children:t.jsxs("div",{className:"relative group rounded-xl overflow-hidden aspect-[4/3] cursor-pointer","data-testid":`neighborhood-${u.name.toLowerCase()}`,children:[t.jsx("img",{src:u.image,alt:`${u.name} neighborhood`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[t.jsx("h3",{className:"font-bold text-lg",children:u.name}),t.jsxs("p",{className:"text-sm text-white/80",children:[u.properties," properties"]})]})]})})},p))})]})}),t.jsx("section",{className:"py-24 bg-background",id:"properties","aria-labelledby":"featured-heading",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsx(it,{children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-16",children:[t.jsxs("div",{children:[t.jsx("h2",{id:"featured-heading",className:"font-heading text-4xl md:text-5xl font-bold text-primary mb-3",children:"Featured Properties"}),t.jsx("p",{className:"text-muted-foreground text-lg",children:"Browse verified rental listings from across the country"})]}),t.jsx(Ae,{href:"/properties",children:t.jsxs(ae,{variant:"link",className:"text-secondary font-bold text-lg hidden md:flex group gap-2","data-testid":"link-view-all",children:["View All Listings ",t.jsx(gi,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform","aria-hidden":"true"})]})})]})}),a?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3].map(u=>t.jsx("div",{className:"rounded-2xl bg-muted animate-pulse h-80"},u))}):d.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:d.map((u,p)=>t.jsx(it,{delay:p*100,children:t.jsx("div",{className:"group h-full",children:t.jsx("div",{className:"relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform group-hover:-translate-y-1 h-full",children:t.jsx(Si,{property:u})})})},u.id))}):null,t.jsx("div",{className:"text-center md:hidden",children:t.jsx(Ae,{href:"/properties",children:t.jsx(ae,{className:"w-full bg-secondary text-primary-foreground h-12 font-bold text-lg","data-testid":"button-browse-listings-mobile",children:"Browse Listings"})})})]})}),t.jsxs("section",{className:"py-24 bg-gradient-to-r from-primary to-primary/80 text-white relative overflow-hidden","aria-labelledby":"stats-heading",children:[t.jsxs("div",{className:"absolute inset-0 opacity-10","aria-hidden":"true",children:[t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-secondary rounded-full mix-blend-screen blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-secondary rounded-full mix-blend-screen blur-3xl"})]}),t.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[t.jsx("h2",{id:"stats-heading",className:"sr-only",children:"Our Statistics"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 md:gap-12 text-center",children:[{end:500,suffix:"+",label:"Verified Properties",desc:"Handpicked rental homes"},{end:2e3,suffix:"+",label:"Happy Renters",desc:"Successfully placed"},{end:98,suffix:"%",label:"Approval Rate",desc:"Industry leading"},{end:1e4,suffix:"+",label:"Successful Moves",desc:"Zero disputes"}].map((u,p)=>t.jsx(it,{delay:p*100,children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-secondary",children:t.jsx(Xb,{end:u.end,suffix:u.suffix})}),t.jsx("p",{className:"text-lg md:text-xl font-semibold",children:u.label}),t.jsx("p",{className:"text-white/70 text-sm",children:u.desc})]})},p))})]})]}),t.jsx("section",{className:"py-24 bg-background",id:"how-it-works","aria-labelledby":"how-it-works-heading",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsx(it,{children:t.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20",children:[t.jsx("h2",{id:"how-it-works-heading",className:"font-heading text-4xl md:text-5xl font-bold text-primary mb-6",children:"How It Works"}),t.jsx("p",{className:"text-muted-foreground text-lg",children:"Simple, straightforward steps to find your perfect rental home"})]})}),t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsx(Qb,{})})]})}),t.jsx("section",{className:"py-24 bg-gradient-to-b from-muted/30 to-background",id:"why-us","aria-labelledby":"why-us-heading",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsx(it,{children:t.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[t.jsx("h2",{id:"why-us-heading",className:"font-heading text-4xl md:text-5xl font-bold text-primary mb-6",children:"Why Choose Choice Properties"}),t.jsx("p",{className:"text-muted-foreground text-lg",children:"We connect renters with verified properties and guide you through every step."})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:rn,title:"Verified Listings",description:"Every property is verified and legitimate. No scams, no surprisesjust quality homes."},{icon:_x,title:"Secure Platform",description:"Your information stays safe with our secure platform. Protected interactions."},{icon:ir,title:"All Property Types",description:"Houses, apartments, condos, townhomes. Find exactly what you're looking for."},{icon:Lg,title:"Nationwide Access",description:"Rental properties available nationwide. Find your perfect match anywhere."},{icon:Xs,title:"Quick Approvals",description:"Get approved within 48 hours. Fast-track your move-in process."},{icon:Tt,title:"Neighborhood Insights",description:"Detailed information about neighborhoods, schools, and local amenities."}].map((u,p)=>t.jsx(it,{delay:p*100,children:t.jsxs("div",{className:"group p-8 rounded-2xl bg-card border border-border shadow-sm hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[t.jsx("div",{className:"mb-6 p-4 rounded-xl bg-secondary/10 w-fit group-hover:bg-secondary/20 transition-colors",children:t.jsx(u.icon,{className:"h-8 w-8 text-secondary","aria-hidden":"true"})}),t.jsx("h3",{className:"font-heading text-xl font-bold mb-3 text-foreground",children:u.title}),t.jsx("p",{className:"text-muted-foreground leading-relaxed",children:u.description})]})},p))})]})}),t.jsxs("section",{className:"py-24 bg-gradient-to-r from-primary via-primary/95 to-primary/90 text-white overflow-hidden relative","aria-labelledby":"who-we-help-heading",children:[t.jsx("div",{className:"absolute inset-0 opacity-5","aria-hidden":"true",children:t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white rounded-full mix-blend-screen blur-3xl"})}),t.jsx("div",{className:"container mx-auto px-4 relative z-10",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[t.jsx(it,{children:t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h2",{id:"who-we-help-heading",className:"font-heading text-4xl md:text-5xl font-bold mb-6",children:"Who We Help"}),t.jsx("p",{className:"text-lg text-white/85 leading-relaxed",children:"We specialize in matching renters with properties that fit their lifestyle, budget, and needs. Wherever you are in the USA, Choice Properties pairs you with a home that's right for you."})]}),t.jsx("ul",{className:"space-y-4",role:"list",children:["Working professionals seeking flexibility","Families and single parents","Students & First-time renters","Relocating individuals","Renters rebuilding credit","Those seeking second-chance housing"].map((u,p)=>t.jsxs("li",{className:"flex items-center text-lg font-medium group",children:[t.jsx(rn,{className:"h-6 w-6 text-secondary mr-4 flex-shrink-0 group-hover:scale-110 transition-transform","aria-hidden":"true"}),t.jsx("span",{children:u})]},p))})]})}),t.jsx(it,{delay:200,children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden shadow-2xl border-4 border-white/20",children:t.jsx("img",{src:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:"Happy family moving into their new home",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-700",loading:"lazy"})}),t.jsxs("div",{className:"absolute -bottom-8 -left-8 bg-gradient-to-br from-secondary to-secondary/80 text-primary-foreground p-8 rounded-2xl shadow-2xl border border-white/20 hidden md:block",children:[t.jsx("p",{className:"text-4xl font-bold",children:"100%"}),t.jsx("p",{className:"text-sm font-semibold uppercase tracking-wider",children:"Verified Listings"})]})]})})]})})]}),t.jsx("section",{className:"py-24 bg-gradient-to-b from-muted/30 to-background",id:"reviews","aria-labelledby":"testimonials-heading",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsx(it,{children:t.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[t.jsx("h2",{id:"testimonials-heading",className:"font-heading text-4xl md:text-5xl font-bold text-primary mb-6",children:"What Our Tenants Say"}),t.jsx("p",{className:"text-muted-foreground text-lg",children:"Real stories from real people who found their perfect home through Choice Properties"})]})}),t.jsx("div",{className:"max-w-6xl mx-auto",children:t.jsx(Jb,{testimonials:hw})}),t.jsx(it,{delay:400,children:t.jsx("div",{className:"mt-16 text-center",children:t.jsxs("div",{className:"inline-flex items-center gap-3 bg-green-50 dark:bg-green-950/30 text-green-700 dark:text-green-400 px-8 py-4 rounded-full border border-green-200 dark:border-green-800 shadow-md",children:[t.jsx(rn,{className:"h-6 w-6","aria-hidden":"true"}),t.jsx("span",{className:"font-semibold text-lg",children:"Over 500+ Happy Tenants in 2024"})]})})})]})}),t.jsxs("section",{className:"py-32 bg-gradient-to-r from-secondary/20 via-primary/10 to-secondary/20 relative overflow-hidden","aria-labelledby":"cta-heading",children:[t.jsx("div",{className:"absolute inset-0 opacity-20","aria-hidden":"true",children:t.jsx("div",{className:"absolute top-1/2 right-0 w-96 h-96 bg-secondary rounded-full mix-blend-screen blur-3xl"})}),t.jsx("div",{className:"container mx-auto px-4 text-center relative z-10",children:t.jsx(it,{children:t.jsxs("div",{className:"space-y-8 max-w-3xl mx-auto",children:[t.jsx("h2",{id:"cta-heading",className:"font-heading text-4xl sm:text-5xl md:text-6xl font-bold text-primary",children:"Your next rental starts here"}),t.jsx("p",{className:"text-muted-foreground text-lg md:text-xl leading-relaxed",children:"We don't just list propertieswe guide you through the entire process. From viewing a home to getting your application approved, we're with you every step of the way."}),t.jsx(Ae,{href:"/properties",children:t.jsxs(ae,{size:"lg",className:"bg-gradient-to-r from-secondary to-secondary/90 hover:from-secondary/90 hover:to-secondary/80 text-primary-foreground font-bold h-16 px-12 md:px-16 text-lg md:text-xl shadow-xl hover:shadow-2xl transition-all rounded-full group","data-testid":"cta-start-searching",children:["Start Searching Now",t.jsx(gi,{className:"ml-2 h-6 w-6 group-hover:translate-x-1 transition-transform","aria-hidden":"true"})]})})]})})})]})]}),t.jsx(Qr,{})]})}const fa=qi,fw=kc,pw=Wi,ku=m.forwardRef(({className:n,...a},r)=>t.jsx(er,{ref:r,className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...a}));ku.displayName=er.displayName;const cr=m.forwardRef(({className:n,children:a,...r},o)=>t.jsxs(pw,{children:[t.jsx(ku,{}),t.jsxs(tr,{ref:o,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...r,children:[a,t.jsxs(Zi,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(cn,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cr.displayName=tr.displayName;const dr=({className:n,...a})=>t.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",n),...a});dr.displayName="DialogHeader";const gw=({className:n,...a})=>t.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...a});gw.displayName="DialogFooter";const ur=m.forwardRef(({className:n,...a},r)=>t.jsx(nr,{ref:r,className:de("text-lg font-semibold leading-none tracking-tight",n),...a}));ur.displayName=nr.displayName;const wo=m.forwardRef(({className:n,...a},r)=>t.jsx(sr,{ref:r,className:de("text-sm text-muted-foreground",n),...a}));wo.displayName=sr.displayName;function xw({properties:n,isOpen:a,onClose:r,onRemove:o}){if(n.length===0)return null;const l=h=>h?`$${parseInt(h).toLocaleString()}`:"N/A",d=h=>{const b=h.filter(_=>_!==null);return b.length===0?-1:h.indexOf(Math.min(...b))},u=h=>{const b=h.filter(_=>_!==null);return b.length===0?-1:h.indexOf(Math.max(...b))},p=n.map(h=>h.price?parseInt(h.price):null),g=n.map(h=>h.square_feet),x=d(p),y=u(g);return t.jsx(fa,{open:a,onOpenChange:r,children:t.jsxs(cr,{className:"max-w-6xl max-h-[90vh] overflow-auto",children:[t.jsx(dr,{children:t.jsxs(ur,{className:"flex items-center gap-2",children:["Compare Properties",t.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",n.length," selected)"]})]})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b bg-muted/50",children:[t.jsx("th",{className:"text-left p-4 font-semibold w-40",children:"Feature"}),n.map(h=>t.jsx("th",{className:"p-4 min-w-[220px]",children:t.jsxs("div",{className:"space-y-2 text-left",children:[t.jsx("p",{className:"font-semibold text-primary line-clamp-2",children:h.title}),t.jsx("p",{className:"text-xs text-muted-foreground",children:h.address}),t.jsxs("button",{onClick:()=>o(h.id),className:"text-xs text-red-500 hover:text-red-700 flex items-center gap-1",children:[t.jsx(cn,{className:"h-3 w-3"})," Remove"]})]})},h.id))]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[t.jsx("td",{className:"p-4 font-semibold",children:"Monthly Rent"}),n.map((h,b)=>t.jsxs("td",{className:`p-4 font-bold text-lg ${b===x?"text-green-600 dark:text-green-400":"text-primary"}`,children:[l(h.price),"/mo",b===x&&t.jsx("span",{className:"ml-2 text-xs bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 px-2 py-0.5 rounded",children:"Best Price"})]},h.id))]}),t.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[t.jsxs("td",{className:"p-4 font-semibold flex items-center gap-2",children:[t.jsx(ar,{className:"h-4 w-4 text-primary"})," Bedrooms"]}),n.map(h=>t.jsxs("td",{className:"p-4",children:[h.bedrooms||"N/A"," beds"]},h.id))]}),t.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[t.jsxs("td",{className:"p-4 font-semibold flex items-center gap-2",children:[t.jsx(ra,{className:"h-4 w-4 text-primary"})," Bathrooms"]}),n.map(h=>t.jsxs("td",{className:"p-4",children:[h.bathrooms||"N/A"," baths"]},h.id))]}),t.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[t.jsxs("td",{className:"p-4 font-semibold flex items-center gap-2",children:[t.jsx(ia,{className:"h-4 w-4 text-primary"})," Square Feet"]}),n.map((h,b)=>t.jsxs("td",{className:`p-4 ${b===y?"text-green-600 dark:text-green-400 font-semibold":""}`,children:[h.square_feet?h.square_feet.toLocaleString():"N/A"," sqft",b===y&&t.jsx("span",{className:"ml-2 text-xs bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 px-2 py-0.5 rounded",children:"Largest"})]},h.id))]}),t.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[t.jsxs("td",{className:"p-4 font-semibold flex items-center gap-2",children:[t.jsx(Tt,{className:"h-4 w-4 text-primary"})," Location"]}),n.map(h=>t.jsxs("td",{className:"p-4 text-sm",children:[h.city||"N/A",", ",h.state||""]},h.id))]}),t.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[t.jsxs("td",{className:"p-4 font-semibold flex items-center gap-2",children:[t.jsx(Wn,{className:"h-4 w-4 text-primary"})," Lease Term"]}),n.map(h=>t.jsx("td",{className:"p-4",children:h.lease_term||"12 months"},h.id))]}),t.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[t.jsxs("td",{className:"p-4 font-semibold flex items-center gap-2",children:[t.jsx(so,{className:"h-4 w-4 text-primary"})," Pets Allowed"]}),n.map(h=>t.jsx("td",{className:"p-4",children:h.pets_allowed?t.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[t.jsx(Zn,{className:"h-4 w-4"})," Yes"]}):t.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[t.jsx(Rl,{className:"h-4 w-4"})," No"]})},h.id))]}),t.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[t.jsxs("td",{className:"p-4 font-semibold flex items-center gap-2",children:[t.jsx(vi,{className:"h-4 w-4 text-primary"})," Furnished"]}),n.map(h=>t.jsx("td",{className:"p-4",children:h.furnished?t.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[t.jsx(Zn,{className:"h-4 w-4"})," Yes"]}):t.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[t.jsx(Rl,{className:"h-4 w-4"})," No"]})},h.id))]}),t.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[t.jsxs("td",{className:"p-4 font-semibold flex items-center gap-2",children:[t.jsx(ln,{className:"h-4 w-4 text-primary"})," Rating"]}),n.map(h=>{const b=h.average_rating||(h.reviews?.length?h.reviews.reduce((_,S)=>_+(S.rating||0),0)/h.reviews.length:null);return t.jsx("td",{className:"p-4",children:b?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ln,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),b.toFixed(1),h.reviews?.length&&t.jsxs("span",{className:"text-muted-foreground",children:["(",h.reviews.length,")"]})]}):t.jsx("span",{className:"text-muted-foreground",children:"No reviews"})},h.id)})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"p-4"}),n.map(h=>t.jsx("td",{className:"p-4",children:t.jsx(Ae,{href:`/property/${h.id}`,children:t.jsx(ae,{size:"sm",className:"w-full",children:"View Details"})})},h.id))]})]})]})})]})})}function vw({items:n}){return t.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground px-4 py-3 bg-background/50","aria-label":"Breadcrumb",children:[t.jsx(Ae,{href:"/",className:"hover:text-foreground transition-colors","aria-label":"Home",children:"Home"}),n.map((a,r)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fs,{className:"h-4 w-4"}),a.href?t.jsx(Ae,{href:a.href,className:"hover:text-foreground transition-colors",children:a.label}):t.jsx("span",{className:"text-foreground font-medium","aria-current":"page",children:a.label})]},r))]})}function yw({onReset:n}){return t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4 min-h-96","data-testid":"section-no-results",children:[t.jsxs("div",{className:"relative mb-8",children:[t.jsx("div",{className:"absolute inset-0 bg-primary/10 rounded-full blur-xl scale-150"}),t.jsx(wn,{className:"h-20 w-20 text-primary dark:text-blue-400 relative z-10 opacity-80","data-testid":"icon-no-results"})]}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-3","data-testid":"text-no-results-title",children:"No Properties Found"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center max-w-md mb-2",children:"We couldn't find any properties matching your search criteria."}),t.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-center max-w-md mb-8 text-sm",children:"Try adjusting your filters or browse all available properties to find your perfect home."}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full max-w-sm mb-8",children:[t.jsxs("div",{className:"flex flex-col items-center p-4 rounded-lg bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700",children:[t.jsx(sd,{className:"h-5 w-5 text-primary dark:text-blue-400 mb-2"}),t.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Adjust Filters"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Try different price ranges or property types"})]}),t.jsxs("div",{className:"flex flex-col items-center p-4 rounded-lg bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700",children:[t.jsx(Tt,{className:"h-5 w-5 text-primary dark:text-blue-400 mb-2"}),t.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Change Location"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Search in a different city or neighborhood"})]})]}),t.jsxs("div",{className:"flex gap-3 flex-wrap justify-center w-full",children:[n&&t.jsx(ae,{variant:"outline",onClick:n,className:"border-primary text-primary hover:bg-primary/5 dark:border-blue-400 dark:text-blue-400 dark:hover:bg-blue-950/20 font-semibold","data-testid":"button-clear-filters",children:"Clear All Filters"}),t.jsx(Ae,{href:"/properties",children:t.jsxs(ae,{className:"bg-primary hover:bg-primary/90 dark:bg-blue-600 dark:hover:bg-blue-700 text-white gap-2 font-semibold","data-testid":"button-browse-all",children:["Browse All Properties ",t.jsx(gi,{className:"h-4 w-4"})]})})]}),t.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-600 mt-8",children:" Save a search to get notified when new properties match your criteria"})]})}function hs(n){return n==null?0:parseFloat(n)}function Vn(n){const a=typeof n=="string"?parseFloat(n):n??0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a)}const cc={"placeholder-exterior":"https://images.unsplash.com/photo-1560518883-ce09059eeffa","placeholder-living":"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267","placeholder-kitchen":"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136","placeholder-bedroom":"https://images.unsplash.com/photo-1540932239986-310128078ceb"};function bw({property:n,isOpen:a,onClose:r}){const[o,l]=m.useState(!1);if(!n)return null;const d=()=>{const x=`${window.location.origin}/property/${n.id}`;navigator.clipboard.writeText(x),l(!0),setTimeout(()=>l(!1),2e3)},u=n.images?.[0],p=u?cc[u]:cc["placeholder-exterior"];parseInt(n.price||"0");const g=Math.round(hs(n.bathrooms));return t.jsx(fa,{open:a,onOpenChange:r,children:t.jsxs(cr,{className:"max-w-2xl",children:[t.jsxs(dr,{children:[t.jsx(ur,{children:"Quick View"}),t.jsx("button",{onClick:r,className:"absolute right-4 top-4 rounded-sm opacity-70 hover:opacity-100",children:t.jsx(cn,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx("img",{src:p,alt:n.title,className:"w-full h-64 object-cover rounded-lg",loading:"lazy"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold",children:Vn(n.price)}),t.jsx("p",{className:"text-gray-600",children:"/month"})]}),t.jsx("p",{className:"text-gray-700 font-medium",children:n.title}),t.jsxs("div",{className:"flex gap-6 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-primary",children:n.bedrooms||0}),t.jsx("div",{className:"text-gray-600",children:"Beds"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-primary",children:g}),t.jsx("div",{className:"text-gray-600",children:"Baths"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-primary",children:n.square_feet?n.square_feet.toLocaleString():"N/A"}),t.jsx("div",{className:"text-gray-600",children:"sqft"})]})]}),t.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[t.jsx(Tt,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),t.jsxs("span",{children:[n.address,", ",n.city,", ",n.state," ",n.zip_code]})]}),t.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:n.description}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(Ae,{href:`/property/${n.id}`,children:t.jsx(ae,{className:"flex-1 bg-primary hover:bg-primary/90",children:"View Details"})}),t.jsx(ae,{variant:"outline",size:"icon",onClick:d,title:"Share property",children:t.jsx(la,{className:"h-4 w-4"})})]})]})]})]})})}function ww(n){const a=_w(n),r=m.forwardRef((o,l)=>{const{children:d,...u}=o,p=m.Children.toArray(d),g=p.find(Nw);if(g){const x=g.props.children,y=p.map(h=>h===g?m.Children.count(x)>1?m.Children.only(null):m.isValidElement(x)?x.props.children:null:h);return t.jsx(a,{...u,ref:l,children:m.isValidElement(x)?m.cloneElement(x,void 0,y):null})}return t.jsx(a,{...u,ref:l,children:d})});return r.displayName=`${n}.Slot`,r}function _w(n){const a=m.forwardRef((r,o)=>{const{children:l,...d}=r;if(m.isValidElement(l)){const u=Sw(l),p=kw(d,l.props);return l.type!==m.Fragment&&(p.ref=o?Nc(o,u):u),m.cloneElement(l,p)}return m.Children.count(l)>1?m.Children.only(null):null});return a.displayName=`${n}.SlotClone`,a}var jw=Symbol("radix.slottable");function Nw(n){return m.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===jw}function kw(n,a){const r={...a};for(const o in a){const l=n[o],d=a[o];/^on[A-Z]/.test(o)?l&&d?r[o]=(...p)=>{const g=d(...p);return l(...p),g}:l&&(r[o]=l):o==="style"?r[o]={...l,...d}:o==="className"&&(r[o]=[l,d].filter(Boolean).join(" "))}return{...n,...r}}function Sw(n){let a=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?n.ref:(a=Object.getOwnPropertyDescriptor(n,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?n.props.ref:n.props.ref||n.ref)}function pa(n){const a=m.useRef({value:n,previous:n});return m.useMemo(()=>(a.current.value!==n&&(a.current.previous=a.current.value,a.current.value=n),a.current.previous),[n])}var Pw=[" ","Enter","ArrowUp","ArrowDown"],Cw=[" ","Enter"],Un="Select",[ga,xa,Tw]=$i(Un),[ws]=Kn(Un,[Tw,Ic]),va=Ic(),[Ew,Nn]=ws(Un),[Mw,Lw]=ws(Un),Su=n=>{const{__scopeSelect:a,children:r,open:o,defaultOpen:l,onOpenChange:d,value:u,defaultValue:p,onValueChange:g,dir:x,name:y,autoComplete:h,disabled:b,required:_,form:S}=n,j=va(a),[w,k]=m.useState(null),[T,P]=m.useState(null),[z,Q]=m.useState(!1),B=sa(x),[H,R]=ms({prop:o,defaultProp:l??!1,onChange:d,caller:Un}),[W,K]=ms({prop:u,defaultProp:p,onChange:g,caller:Un}),F=m.useRef(null),C=w?S||!!w.closest("form"):!0,[V,D]=m.useState(new Set),re=Array.from(V).map(Z=>Z.props.value).join(";");return t.jsx(tp,{...j,children:t.jsxs(Ew,{required:_,scope:a,trigger:w,onTriggerChange:k,valueNode:T,onValueNodeChange:P,valueNodeHasChildren:z,onValueNodeHasChildrenChange:Q,contentId:Ui(),value:W,onValueChange:K,open:H,onOpenChange:R,dir:B,triggerPointerDownPosRef:F,disabled:b,children:[t.jsx(ga.Provider,{scope:a,children:t.jsx(Mw,{scope:n.__scopeSelect,onNativeOptionAdd:m.useCallback(Z=>{D(te=>new Set(te).add(Z))},[]),onNativeOptionRemove:m.useCallback(Z=>{D(te=>{const I=new Set(te);return I.delete(Z),I})},[]),children:r})}),C?t.jsxs(Gu,{"aria-hidden":!0,required:_,tabIndex:-1,name:y,autoComplete:h,value:W,onChange:Z=>K(Z.target.value),disabled:b,form:S,children:[W===void 0?t.jsx("option",{value:""}):null,Array.from(V)]},re):null]})})};Su.displayName=Un;var Pu="SelectTrigger",Cu=m.forwardRef((n,a)=>{const{__scopeSelect:r,disabled:o=!1,...l}=n,d=va(r),u=Nn(Pu,r),p=u.disabled||o,g=$e(a,u.onTriggerChange),x=xa(r),y=m.useRef("touch"),[h,b,_]=Ju(j=>{const w=x().filter(P=>!P.disabled),k=w.find(P=>P.value===u.value),T=Qu(w,j,k);T!==void 0&&u.onValueChange(T.value)}),S=j=>{p||(u.onOpenChange(!0),_()),j&&(u.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return t.jsx(Yf,{asChild:!0,...d,children:t.jsx(Re.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":Xu(u.value)?"":void 0,...l,ref:g,onClick:we(l.onClick,j=>{j.currentTarget.focus(),y.current!=="mouse"&&S(j)}),onPointerDown:we(l.onPointerDown,j=>{y.current=j.pointerType;const w=j.target;w.hasPointerCapture(j.pointerId)&&w.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(S(j),j.preventDefault())}),onKeyDown:we(l.onKeyDown,j=>{const w=h.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&b(j.key),!(w&&j.key===" ")&&Pw.includes(j.key)&&(S(),j.preventDefault())})})})});Cu.displayName=Pu;var Tu="SelectValue",Eu=m.forwardRef((n,a)=>{const{__scopeSelect:r,className:o,style:l,children:d,placeholder:u="",...p}=n,g=Nn(Tu,r),{onValueNodeHasChildrenChange:x}=g,y=d!==void 0,h=$e(a,g.onValueNodeChange);return Ct(()=>{x(y)},[x,y]),t.jsx(Re.span,{...p,ref:h,style:{pointerEvents:"none"},children:Xu(g.value)?t.jsx(t.Fragment,{children:u}):d})});Eu.displayName=Tu;var Aw="SelectIcon",Mu=m.forwardRef((n,a)=>{const{__scopeSelect:r,children:o,...l}=n;return t.jsx(Re.span,{"aria-hidden":!0,...l,ref:a,children:o||""})});Mu.displayName=Aw;var Rw="SelectPortal",Lu=n=>t.jsx(jc,{asChild:!0,...n});Lu.displayName=Rw;var Yn="SelectContent",Au=m.forwardRef((n,a)=>{const r=Nn(Yn,n.__scopeSelect),[o,l]=m.useState();if(Ct(()=>{l(new DocumentFragment)},[]),!r.open){const d=o;return d?na.createPortal(t.jsx(Ru,{scope:n.__scopeSelect,children:t.jsx(ga.Slot,{scope:n.__scopeSelect,children:t.jsx("div",{children:n.children})})}),d):null}return t.jsx(Iu,{...n,ref:a})});Au.displayName=Yn;var $t=10,[Ru,kn]=ws(Yn),Iw="SelectContentImpl",Ow=ww("SelectContent.RemoveScroll"),Iu=m.forwardRef((n,a)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:d,onPointerDownOutside:u,side:p,sideOffset:g,align:x,alignOffset:y,arrowPadding:h,collisionBoundary:b,collisionPadding:_,sticky:S,hideWhenDetached:j,avoidCollisions:w,...k}=n,T=Nn(Yn,r),[P,z]=m.useState(null),[Q,B]=m.useState(null),H=$e(a,$=>z($)),[R,W]=m.useState(null),[K,F]=m.useState(null),C=xa(r),[V,D]=m.useState(!1),re=m.useRef(!1);m.useEffect(()=>{if(P)return Kf(P)},[P]),Gf();const Z=m.useCallback($=>{const[ne,...be]=C().map(xe=>xe.ref.current),[pe]=be.slice(-1),fe=document.activeElement;for(const xe of $)if(xe===fe||(xe?.scrollIntoView({block:"nearest"}),xe===ne&&Q&&(Q.scrollTop=0),xe===pe&&Q&&(Q.scrollTop=Q.scrollHeight),xe?.focus(),document.activeElement!==fe))return},[C,Q]),te=m.useCallback(()=>Z([R,P]),[Z,R,P]);m.useEffect(()=>{V&&te()},[V,te]);const{onOpenChange:I,triggerPointerDownPosRef:G}=T;m.useEffect(()=>{if(P){let $={x:0,y:0};const ne=pe=>{$={x:Math.abs(Math.round(pe.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(G.current?.y??0))}},be=pe=>{$.x<=10&&$.y<=10?pe.preventDefault():P.contains(pe.target)||I(!1),document.removeEventListener("pointermove",ne),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",be,{capture:!0})}}},[P,I,G]),m.useEffect(()=>{const $=()=>I(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[I]);const[q,ue]=Ju($=>{const ne=C().filter(fe=>!fe.disabled),be=ne.find(fe=>fe.ref.current===document.activeElement),pe=Qu(ne,$,be);pe&&setTimeout(()=>pe.ref.current.focus())}),ye=m.useCallback(($,ne,be)=>{const pe=!re.current&&!be;(T.value!==void 0&&T.value===ne||pe)&&(W($),pe&&(re.current=!0))},[T.value]),E=m.useCallback(()=>P?.focus(),[P]),X=m.useCallback(($,ne,be)=>{const pe=!re.current&&!be;(T.value!==void 0&&T.value===ne||pe)&&F($)},[T.value]),J=o==="popper"?Ci:Ou,Y=J===Ci?{side:p,sideOffset:g,align:x,alignOffset:y,arrowPadding:h,collisionBoundary:b,collisionPadding:_,sticky:S,hideWhenDetached:j,avoidCollisions:w}:{};return t.jsx(Ru,{scope:r,content:P,viewport:Q,onViewportChange:B,itemRefCallback:ye,selectedItem:R,onItemLeave:E,itemTextRefCallback:X,focusSelectedItem:te,selectedItemText:K,position:o,isPositioned:V,searchRef:q,children:t.jsx(Xf,{as:Ow,allowPinchZoom:!0,children:t.jsx(Jf,{asChild:!0,trapped:T.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:we(l,$=>{T.trigger?.focus({preventScroll:!0}),$.preventDefault()}),children:t.jsx(Qf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:t.jsx(J,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:$=>$.preventDefault(),...k,...Y,onPlaced:()=>D(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:we(k.onKeyDown,$=>{const ne=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!ne&&$.key.length===1&&ue($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let pe=C().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes($.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const fe=$.target,xe=pe.indexOf(fe);pe=pe.slice(xe+1)}setTimeout(()=>Z(pe)),$.preventDefault()}})})})})})})});Iu.displayName=Iw;var Dw="SelectItemAlignedPosition",Ou=m.forwardRef((n,a)=>{const{__scopeSelect:r,onPlaced:o,...l}=n,d=Nn(Yn,r),u=kn(Yn,r),[p,g]=m.useState(null),[x,y]=m.useState(null),h=$e(a,H=>y(H)),b=xa(r),_=m.useRef(!1),S=m.useRef(!0),{viewport:j,selectedItem:w,selectedItemText:k,focusSelectedItem:T}=u,P=m.useCallback(()=>{if(d.trigger&&d.valueNode&&p&&x&&j&&w&&k){const H=d.trigger.getBoundingClientRect(),R=x.getBoundingClientRect(),W=d.valueNode.getBoundingClientRect(),K=k.getBoundingClientRect();if(d.dir!=="rtl"){const fe=K.left-R.left,xe=W.left-fe,je=H.left-xe,se=H.width+je,qe=Math.max(se,R.width),Je=window.innerWidth-$t,et=Js(xe,[$t,Math.max($t,Je-qe)]);p.style.minWidth=se+"px",p.style.left=et+"px"}else{const fe=R.right-K.right,xe=window.innerWidth-W.right-fe,je=window.innerWidth-H.right-xe,se=H.width+je,qe=Math.max(se,R.width),Je=window.innerWidth-$t,et=Js(xe,[$t,Math.max($t,Je-qe)]);p.style.minWidth=se+"px",p.style.right=et+"px"}const F=b(),C=window.innerHeight-$t*2,V=j.scrollHeight,D=window.getComputedStyle(x),re=parseInt(D.borderTopWidth,10),Z=parseInt(D.paddingTop,10),te=parseInt(D.borderBottomWidth,10),I=parseInt(D.paddingBottom,10),G=re+Z+V+I+te,q=Math.min(w.offsetHeight*5,G),ue=window.getComputedStyle(j),ye=parseInt(ue.paddingTop,10),E=parseInt(ue.paddingBottom,10),X=H.top+H.height/2-$t,J=C-X,Y=w.offsetHeight/2,$=w.offsetTop+Y,ne=re+Z+$,be=G-ne;if(ne<=X){const fe=F.length>0&&w===F[F.length-1].ref.current;p.style.bottom="0px";const xe=x.clientHeight-j.offsetTop-j.offsetHeight,je=Math.max(J,Y+(fe?E:0)+xe+te),se=ne+je;p.style.height=se+"px"}else{const fe=F.length>0&&w===F[0].ref.current;p.style.top="0px";const je=Math.max(X,re+j.offsetTop+(fe?ye:0)+Y)+be;p.style.height=je+"px",j.scrollTop=ne-X+j.offsetTop}p.style.margin=`${$t}px 0`,p.style.minHeight=q+"px",p.style.maxHeight=C+"px",o?.(),requestAnimationFrame(()=>_.current=!0)}},[b,d.trigger,d.valueNode,p,x,j,w,k,d.dir,o]);Ct(()=>P(),[P]);const[z,Q]=m.useState();Ct(()=>{x&&Q(window.getComputedStyle(x).zIndex)},[x]);const B=m.useCallback(H=>{H&&S.current===!0&&(P(),T?.(),S.current=!1)},[P,T]);return t.jsx(Bw,{scope:r,contentWrapper:p,shouldExpandOnScrollRef:_,onScrollButtonChange:B,children:t.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:t.jsx(Re.div,{...l,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});Ou.displayName=Dw;var zw="SelectPopperPosition",Ci=m.forwardRef((n,a)=>{const{__scopeSelect:r,align:o="start",collisionPadding:l=$t,...d}=n,u=va(r);return t.jsx(ep,{...u,...d,ref:a,align:o,collisionPadding:l,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ci.displayName=zw;var[Bw,_o]=ws(Yn,{}),Ti="SelectViewport",Du=m.forwardRef((n,a)=>{const{__scopeSelect:r,nonce:o,...l}=n,d=kn(Ti,r),u=_o(Ti,r),p=$e(a,d.onViewportChange),g=m.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),t.jsx(ga.Slot,{scope:r,children:t.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:we(l.onScroll,x=>{const y=x.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:b}=u;if(b?.current&&h){const _=Math.abs(g.current-y.scrollTop);if(_>0){const S=window.innerHeight-$t*2,j=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),k=Math.max(j,w);if(k<S){const T=k+_,P=Math.min(S,T),z=T-P;h.style.height=P+"px",h.style.bottom==="0px"&&(y.scrollTop=z>0?z:0,h.style.justifyContent="flex-end")}}}g.current=y.scrollTop})})})]})});Du.displayName=Ti;var zu="SelectGroup",[Fw,Hw]=ws(zu),Vw=m.forwardRef((n,a)=>{const{__scopeSelect:r,...o}=n,l=Ui();return t.jsx(Fw,{scope:r,id:l,children:t.jsx(Re.div,{role:"group","aria-labelledby":l,...o,ref:a})})});Vw.displayName=zu;var Bu="SelectLabel",Fu=m.forwardRef((n,a)=>{const{__scopeSelect:r,...o}=n,l=Hw(Bu,r);return t.jsx(Re.div,{id:l.id,...o,ref:a})});Fu.displayName=Bu;var ea="SelectItem",[$w,Hu]=ws(ea),Vu=m.forwardRef((n,a)=>{const{__scopeSelect:r,value:o,disabled:l=!1,textValue:d,...u}=n,p=Nn(ea,r),g=kn(ea,r),x=p.value===o,[y,h]=m.useState(d??""),[b,_]=m.useState(!1),S=$e(a,T=>g.itemRefCallback?.(T,o,l)),j=Ui(),w=m.useRef("touch"),k=()=>{l||(p.onValueChange(o),p.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx($w,{scope:r,value:o,disabled:l,textId:j,isSelected:x,onItemTextChange:m.useCallback(T=>{h(P=>P||(T?.textContent??"").trim())},[]),children:t.jsx(ga.ItemSlot,{scope:r,value:o,disabled:l,textValue:y,children:t.jsx(Re.div,{role:"option","aria-labelledby":j,"data-highlighted":b?"":void 0,"aria-selected":x&&b,"data-state":x?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...u,ref:S,onFocus:we(u.onFocus,()=>_(!0)),onBlur:we(u.onBlur,()=>_(!1)),onClick:we(u.onClick,()=>{w.current!=="mouse"&&k()}),onPointerUp:we(u.onPointerUp,()=>{w.current==="mouse"&&k()}),onPointerDown:we(u.onPointerDown,T=>{w.current=T.pointerType}),onPointerMove:we(u.onPointerMove,T=>{w.current=T.pointerType,l?g.onItemLeave?.():w.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(u.onPointerLeave,T=>{T.currentTarget===document.activeElement&&g.onItemLeave?.()}),onKeyDown:we(u.onKeyDown,T=>{g.searchRef?.current!==""&&T.key===" "||(Cw.includes(T.key)&&k(),T.key===" "&&T.preventDefault())})})})})});Vu.displayName=ea;var $s="SelectItemText",$u=m.forwardRef((n,a)=>{const{__scopeSelect:r,className:o,style:l,...d}=n,u=Nn($s,r),p=kn($s,r),g=Hu($s,r),x=Lw($s,r),[y,h]=m.useState(null),b=$e(a,k=>h(k),g.onItemTextChange,k=>p.itemTextRefCallback?.(k,g.value,g.disabled)),_=y?.textContent,S=m.useMemo(()=>t.jsx("option",{value:g.value,disabled:g.disabled,children:_},g.value),[g.disabled,g.value,_]),{onNativeOptionAdd:j,onNativeOptionRemove:w}=x;return Ct(()=>(j(S),()=>w(S)),[j,w,S]),t.jsxs(t.Fragment,{children:[t.jsx(Re.span,{id:g.textId,...d,ref:b}),g.isSelected&&u.valueNode&&!u.valueNodeHasChildren?na.createPortal(d.children,u.valueNode):null]})});$u.displayName=$s;var Wu="SelectItemIndicator",Zu=m.forwardRef((n,a)=>{const{__scopeSelect:r,...o}=n;return Hu(Wu,r).isSelected?t.jsx(Re.span,{"aria-hidden":!0,...o,ref:a}):null});Zu.displayName=Wu;var Ei="SelectScrollUpButton",qu=m.forwardRef((n,a)=>{const r=kn(Ei,n.__scopeSelect),o=_o(Ei,n.__scopeSelect),[l,d]=m.useState(!1),u=$e(a,o.onScrollButtonChange);return Ct(()=>{if(r.viewport&&r.isPositioned){let p=function(){const x=g.scrollTop>0;d(x)};const g=r.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),l?t.jsx(Yu,{...n,ref:u,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=r;p&&g&&(p.scrollTop=p.scrollTop-g.offsetHeight)}}):null});qu.displayName=Ei;var Mi="SelectScrollDownButton",Uu=m.forwardRef((n,a)=>{const r=kn(Mi,n.__scopeSelect),o=_o(Mi,n.__scopeSelect),[l,d]=m.useState(!1),u=$e(a,o.onScrollButtonChange);return Ct(()=>{if(r.viewport&&r.isPositioned){let p=function(){const x=g.scrollHeight-g.clientHeight,y=Math.ceil(g.scrollTop)<x;d(y)};const g=r.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),l?t.jsx(Yu,{...n,ref:u,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=r;p&&g&&(p.scrollTop=p.scrollTop+g.offsetHeight)}}):null});Uu.displayName=Mi;var Yu=m.forwardRef((n,a)=>{const{__scopeSelect:r,onAutoScroll:o,...l}=n,d=kn("SelectScrollButton",r),u=m.useRef(null),p=xa(r),g=m.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return m.useEffect(()=>()=>g(),[g]),Ct(()=>{p().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[p]),t.jsx(Re.div,{"aria-hidden":!0,...l,ref:a,style:{flexShrink:0,...l.style},onPointerDown:we(l.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(o,50))}),onPointerMove:we(l.onPointerMove,()=>{d.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(o,50))}),onPointerLeave:we(l.onPointerLeave,()=>{g()})})}),Ww="SelectSeparator",Ku=m.forwardRef((n,a)=>{const{__scopeSelect:r,...o}=n;return t.jsx(Re.div,{"aria-hidden":!0,...o,ref:a})});Ku.displayName=Ww;var Li="SelectArrow",Zw=m.forwardRef((n,a)=>{const{__scopeSelect:r,...o}=n,l=va(r),d=Nn(Li,r),u=kn(Li,r);return d.open&&u.position==="popper"?t.jsx(sp,{...l,...o,ref:a}):null});Zw.displayName=Li;var qw="SelectBubbleInput",Gu=m.forwardRef(({__scopeSelect:n,value:a,...r},o)=>{const l=m.useRef(null),d=$e(o,l),u=pa(a);return m.useEffect(()=>{const p=l.current;if(!p)return;const g=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(g,"value").set;if(u!==a&&y){const h=new Event("change",{bubbles:!0});y.call(p,a),p.dispatchEvent(h)}},[u,a]),t.jsx(Re.select,{...r,style:{...np,...r.style},ref:d,defaultValue:a})});Gu.displayName=qw;function Xu(n){return n===""||n===void 0}function Ju(n){const a=Pt(n),r=m.useRef(""),o=m.useRef(0),l=m.useCallback(u=>{const p=r.current+u;a(p),(function g(x){r.current=x,window.clearTimeout(o.current),x!==""&&(o.current=window.setTimeout(()=>g(""),1e3))})(p)},[a]),d=m.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,l,d]}function Qu(n,a,r){const l=a.length>1&&Array.from(a).every(x=>x===a[0])?a[0]:a,d=r?n.indexOf(r):-1;let u=Uw(n,Math.max(d,0));l.length===1&&(u=u.filter(x=>x!==r));const g=u.find(x=>x.textValue.toLowerCase().startsWith(l.toLowerCase()));return g!==r?g:void 0}function Uw(n,a){return n.map((r,o)=>n[(a+o)%n.length])}var Yw=Su,eh=Cu,Kw=Eu,Gw=Mu,Xw=Lu,th=Au,Jw=Du,nh=Fu,sh=Vu,Qw=$u,e_=Zu,rh=qu,ah=Uu,ih=Ku;const It=Yw,Ot=Kw,kt=m.forwardRef(({className:n,children:a,...r},o)=>t.jsxs(eh,{ref:o,className:de("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...r,children:[a,t.jsx(Gw,{asChild:!0,children:t.jsx(bn,{className:"h-4 w-4 opacity-50"})})]}));kt.displayName=eh.displayName;const oh=m.forwardRef(({className:n,...a},r)=>t.jsx(rh,{ref:r,className:de("flex cursor-default items-center justify-center py-1",n),...a,children:t.jsx(Hn,{className:"h-4 w-4"})}));oh.displayName=rh.displayName;const lh=m.forwardRef(({className:n,...a},r)=>t.jsx(ah,{ref:r,className:de("flex cursor-default items-center justify-center py-1",n),...a,children:t.jsx(bn,{className:"h-4 w-4"})}));lh.displayName=ah.displayName;const St=m.forwardRef(({className:n,children:a,position:r="popper",...o},l)=>t.jsx(Xw,{children:t.jsxs(th,{ref:l,className:de("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:r,...o,children:[t.jsx(oh,{}),t.jsx(Jw,{className:de("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),t.jsx(lh,{})]})}));St.displayName=th.displayName;const t_=m.forwardRef(({className:n,...a},r)=>t.jsx(nh,{ref:r,className:de("px-2 py-1.5 text-sm font-semibold",n),...a}));t_.displayName=nh.displayName;const ge=m.forwardRef(({className:n,children:a,...r},o)=>t.jsxs(sh,{ref:o,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...r,children:[t.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(e_,{children:t.jsx(Vr,{className:"h-4 w-4"})})}),t.jsx(Qw,{children:a})]}));ge.displayName=sh.displayName;const n_=m.forwardRef(({className:n,...a},r)=>t.jsx(ih,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",n),...a}));n_.displayName=ih.displayName;function s_(n){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",a.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}const ch=A.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),hr=()=>{const n=A.useContext(ch);if(!n)throw new Error("useDrawerContext must be used within a Drawer.Root");return n};s_(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function r_(){const n=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(n)&&/Mobile/.test(n)||/FxiOS/.test(n))}function a_(){return jo(/^Mac/)}function i_(){return jo(/^iPhone/)}function dc(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function o_(){return jo(/^iPad/)||a_()&&navigator.maxTouchPoints>1}function dh(){return i_()||o_()}function jo(n){return typeof window<"u"&&window.navigator!=null?n.test(window.navigator.platform):void 0}const l_=24,c_=typeof window<"u"?m.useLayoutEffect:m.useEffect;function uc(...n){return(...a)=>{for(let r of n)typeof r=="function"&&r(...a)}}const hi=typeof document<"u"&&window.visualViewport;function hc(n){let a=window.getComputedStyle(n);return/(auto|scroll)/.test(a.overflow+a.overflowX+a.overflowY)}function uh(n){for(hc(n)&&(n=n.parentElement);n&&!hc(n);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}const d_=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Dr=0,mi;function u_(n={}){let{isDisabled:a}=n;c_(()=>{if(!a)return Dr++,Dr===1&&dh()&&(mi=h_()),()=>{Dr--,Dr===0&&mi?.()}},[a])}function h_(){let n,a=0,r=h=>{n=uh(h.target),!(n===document.documentElement&&n===document.body)&&(a=h.changedTouches[0].pageY)},o=h=>{if(!n||n===document.documentElement||n===document.body){h.preventDefault();return}let b=h.changedTouches[0].pageY,_=n.scrollTop,S=n.scrollHeight-n.clientHeight;S!==0&&((_<=0&&b>a||_>=S&&b<a)&&h.preventDefault(),a=b)},l=h=>{let b=h.target;Ai(b)&&b!==document.activeElement&&(h.preventDefault(),b.style.transform="translateY(-2000px)",b.focus(),requestAnimationFrame(()=>{b.style.transform=""}))},d=h=>{let b=h.target;Ai(b)&&(b.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{b.style.transform="",hi&&(hi.height<window.innerHeight?requestAnimationFrame(()=>{mc(b)}):hi.addEventListener("resize",()=>mc(b),{once:!0}))}))},u=()=>{window.scrollTo(0,0)},p=window.pageXOffset,g=window.pageYOffset,x=uc(m_(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let y=uc(Fs(document,"touchstart",r,{passive:!1,capture:!0}),Fs(document,"touchmove",o,{passive:!1,capture:!0}),Fs(document,"touchend",l,{passive:!1,capture:!0}),Fs(document,"focus",d,!0),Fs(window,"scroll",u));return()=>{x(),y(),window.scrollTo(p,g)}}function m_(n,a,r){let o=n.style[a];return n.style[a]=r,()=>{n.style[a]=o}}function Fs(n,a,r,o){return n.addEventListener(a,r,o),()=>{n.removeEventListener(a,r,o)}}function mc(n){let a=document.scrollingElement||document.documentElement;for(;n&&n!==a;){let r=uh(n);if(r!==document.documentElement&&r!==document.body&&r!==n){let o=r.getBoundingClientRect().top,l=n.getBoundingClientRect().top,d=n.getBoundingClientRect().bottom;const u=r.getBoundingClientRect().bottom+l_;d>u&&(r.scrollTop+=l-o)}n=r.parentElement}}function Ai(n){return n instanceof HTMLInputElement&&!d_.has(n.type)||n instanceof HTMLTextAreaElement||n instanceof HTMLElement&&n.isContentEditable}function f_(n,a){typeof n=="function"?n(a):n!=null&&(n.current=a)}function p_(...n){return a=>n.forEach(r=>f_(r,a))}function hh(...n){return m.useCallback(p_(...n),n)}const mh=new WeakMap;function ot(n,a,r=!1){if(!n||!(n instanceof HTMLElement))return;let o={};Object.entries(a).forEach(([l,d])=>{if(l.startsWith("--")){n.style.setProperty(l,d);return}o[l]=n.style[l],n.style[l]=d}),!r&&mh.set(n,o)}function g_(n,a){if(!n||!(n instanceof HTMLElement))return;let r=mh.get(n);r&&(n.style[a]=r[a])}const rt=n=>{switch(n){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return n}};function zr(n,a){if(!n)return null;const r=window.getComputedStyle(n),o=r.transform||r.webkitTransform||r.mozTransform;let l=o.match(/^matrix3d\((.+)\)$/);return l?parseFloat(l[1].split(", ")[rt(a)?13:12]):(l=o.match(/^matrix\((.+)\)$/),l?parseFloat(l[1].split(", ")[rt(a)?5:4]):null)}function x_(n){return 8*(Math.log(n+1)-2)}function fi(n,a){if(!n)return()=>{};const r=n.style.cssText;return Object.assign(n.style,a),()=>{n.style.cssText=r}}function v_(...n){return(...a)=>{for(const r of n)typeof r=="function"&&r(...a)}}const Xe={DURATION:.5,EASE:[.32,.72,0,1]},fh=.4,y_=.25,b_=100,ph=8,zn=16,Ri=26,pi="vaul-dragging";function gh(n){const a=A.useRef(n);return A.useEffect(()=>{a.current=n}),A.useMemo(()=>(...r)=>a.current==null?void 0:a.current.call(a,...r),[])}function w_({defaultProp:n,onChange:a}){const r=A.useState(n),[o]=r,l=A.useRef(o),d=gh(a);return A.useEffect(()=>{l.current!==o&&(d(o),l.current=o)},[o,l,d]),r}function xh({prop:n,defaultProp:a,onChange:r=()=>{}}){const[o,l]=w_({defaultProp:a,onChange:r}),d=n!==void 0,u=d?n:o,p=gh(r),g=A.useCallback(x=>{if(d){const h=typeof x=="function"?x(n):x;h!==n&&p(h)}else l(x)},[d,n,l,p]);return[u,g]}function __({activeSnapPointProp:n,setActiveSnapPointProp:a,snapPoints:r,drawerRef:o,overlayRef:l,fadeFromIndex:d,onSnapPointChange:u,direction:p="bottom",container:g,snapToSequentialPoint:x}){const[y,h]=xh({prop:n,defaultProp:r?.[0],onChange:a}),[b,_]=A.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);A.useEffect(()=>{function H(){_({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]);const S=A.useMemo(()=>y===r?.[r.length-1]||null,[r,y]),j=A.useMemo(()=>{var H;return(H=r?.findIndex(R=>R===y))!=null?H:null},[r,y]),w=r&&r.length>0&&(d||d===0)&&!Number.isNaN(d)&&r[d]===y||!r,k=A.useMemo(()=>{const H=g?{width:g.getBoundingClientRect().width,height:g.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var R;return(R=r?.map(W=>{const K=typeof W=="string";let F=0;if(K&&(F=parseInt(W,10)),rt(p)){const V=K?F:b?W*H.height:0;return b?p==="bottom"?H.height-V:-H.height+V:V}const C=K?F:b?W*H.width:0;return b?p==="right"?H.width-C:-H.width+C:C}))!=null?R:[]},[r,b,g]),T=A.useMemo(()=>j!==null?k?.[j]:null,[k,j]),P=A.useCallback(H=>{var R;const W=(R=k?.findIndex(K=>K===H))!=null?R:null;u(W),ot(o.current,{transition:`transform ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,transform:rt(p)?`translate3d(0, ${H}px, 0)`:`translate3d(${H}px, 0, 0)`}),k&&W!==k.length-1&&d!==void 0&&W!==d&&W<d?ot(l.current,{transition:`opacity ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,opacity:"0"}):ot(l.current,{transition:`opacity ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,opacity:"1"}),h(r?.[Math.max(W,0)])},[o.current,r,k,d,l,h]);A.useEffect(()=>{if(y||n){var H;const R=(H=r?.findIndex(W=>W===n||W===y))!=null?H:-1;k&&R!==-1&&typeof k[R]=="number"&&P(k[R])}},[y,n,r,k,P]);function z({draggedDistance:H,closeDrawer:R,velocity:W,dismissible:K}){if(d===void 0)return;const F=p==="bottom"||p==="right"?(T??0)-H:(T??0)+H,C=j===d-1,V=j===0,D=H>0;if(C&&ot(l.current,{transition:`opacity ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`}),!x&&W>2&&!D){K?R():P(k[0]);return}if(!x&&W>2&&D&&k&&r){P(k[r.length-1]);return}const re=k?.reduce((te,I)=>typeof te!="number"||typeof I!="number"?te:Math.abs(I-F)<Math.abs(te-F)?I:te),Z=rt(p)?window.innerHeight:window.innerWidth;if(W>fh&&Math.abs(H)<Z*.4){const te=D?1:-1;if(te>0&&S&&r){P(k[r.length-1]);return}if(V&&te<0&&K&&R(),j===null)return;P(k[j+te]);return}P(re)}function Q({draggedDistance:H}){if(T===null)return;const R=p==="bottom"||p==="right"?T-H:T+H;(p==="bottom"||p==="right")&&R<k[k.length-1]||(p==="top"||p==="left")&&R>k[k.length-1]||ot(o.current,{transform:rt(p)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`})}function B(H,R){if(!r||typeof j!="number"||!k||d===void 0)return null;const W=j===d-1;if(j>=d&&R)return 0;if(W&&!R)return 1;if(!w&&!W)return null;const F=W?j+1:j-1,C=W?k[F]-k[F-1]:k[F+1]-k[F],V=H/Math.abs(C);return W?1-V:V}return{isLastSnapPoint:S,activeSnapPoint:y,shouldFade:w,getPercentageDragged:B,setActiveSnapPoint:h,activeSnapPointIndex:j,onRelease:z,onDrag:Q,snapPointsOffset:k}}const j_=()=>()=>{};function N_(){const{direction:n,isOpen:a,shouldScaleBackground:r,setBackgroundColorOnScale:o,noBodyStyles:l}=hr(),d=A.useRef(null),u=m.useMemo(()=>document.body.style.backgroundColor,[]);function p(){return(window.innerWidth-Ri)/window.innerWidth}A.useEffect(()=>{if(a&&r){d.current&&clearTimeout(d.current);const g=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!g)return;v_(o&&!l?fi(document.body,{background:"black"}):j_,fi(g,{transformOrigin:rt(n)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Xe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Xe.EASE.join(",")})`}));const x=fi(g,{borderRadius:`${ph}px`,overflow:"hidden",...rt(n)?{transform:`scale(${p()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${p()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{x(),d.current=window.setTimeout(()=>{u?document.body.style.background=u:document.body.style.removeProperty("background")},Xe.DURATION*1e3)}}},[a,r,u])}let Hs=null;function k_({isOpen:n,modal:a,nested:r,hasBeenOpened:o,preventScrollRestoration:l,noBodyStyles:d}){const[u,p]=A.useState(()=>typeof window<"u"?window.location.href:""),g=A.useRef(0),x=A.useCallback(()=>{if(dc()&&Hs===null&&n&&!d){Hs={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:h,innerHeight:b}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-g.current}px`,left:`${-h}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const _=b-window.innerHeight;_&&g.current>=b&&(document.body.style.top=`${-(g.current+_)}px`)}),300)}},[n]),y=A.useCallback(()=>{if(dc()&&Hs!==null&&!d){const h=-parseInt(document.body.style.top,10),b=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Hs),window.requestAnimationFrame(()=>{if(l&&u!==window.location.href){p(window.location.href);return}window.scrollTo(b,h)}),Hs=null}},[u]);return A.useEffect(()=>{function h(){g.current=window.scrollY}return h(),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]),A.useEffect(()=>{if(a)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||y()}},[a,y]),A.useEffect(()=>{r||!o||(n?(!window.matchMedia("(display-mode: standalone)").matches&&x(),a||window.setTimeout(()=>{y()},500)):y())},[n,o,u,a,r,x,y]),{restorePositionSetting:y}}function S_({open:n,onOpenChange:a,children:r,onDrag:o,onRelease:l,snapPoints:d,shouldScaleBackground:u=!1,setBackgroundColorOnScale:p=!0,closeThreshold:g=y_,scrollLockTimeout:x=b_,dismissible:y=!0,handleOnly:h=!1,fadeFromIndex:b=d&&d.length-1,activeSnapPoint:_,setActiveSnapPoint:S,fixed:j,modal:w=!0,onClose:k,nested:T,noBodyStyles:P=!1,direction:z="bottom",defaultOpen:Q=!1,disablePreventScroll:B=!0,snapToSequentialPoint:H=!1,preventScrollRestoration:R=!1,repositionInputs:W=!0,onAnimationEnd:K,container:F,autoFocus:C=!1}){var V,D;const[re=!1,Z]=xh({defaultProp:Q,prop:n,onChange:he=>{a?.(he),!he&&!T&&Qn(),setTimeout(()=>{K?.(he)},Xe.DURATION*1e3),he&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),he||(document.body.style.pointerEvents="auto")}}),[te,I]=A.useState(!1),[G,q]=A.useState(!1),[ue,ye]=A.useState(!1),E=A.useRef(null),X=A.useRef(null),J=A.useRef(null),Y=A.useRef(null),$=A.useRef(null),ne=A.useRef(!1),be=A.useRef(null),pe=A.useRef(0),fe=A.useRef(!1),xe=A.useRef(!Q),je=A.useRef(0),se=A.useRef(null),qe=A.useRef(((V=se.current)==null?void 0:V.getBoundingClientRect().height)||0),Je=A.useRef(((D=se.current)==null?void 0:D.getBoundingClientRect().width)||0),et=A.useRef(0),Xt=A.useCallback(he=>{d&&he===ft.length-1&&(X.current=new Date)},[]),{activeSnapPoint:_t,activeSnapPointIndex:Bt,setActiveSnapPoint:un,onRelease:ct,snapPointsOffset:ft,onDrag:js,shouldFade:Jn,getPercentageDragged:Wt}=__({snapPoints:d,activeSnapPointProp:_,setActiveSnapPointProp:S,drawerRef:se,fadeFromIndex:b,overlayRef:E,onSnapPointChange:Xt,direction:z,container:F,snapToSequentialPoint:H});u_({isDisabled:!re||G||!w||ue||!te||!W||!B});const{restorePositionSetting:Qn}=k_({isOpen:re,modal:w,nested:T??!1,hasBeenOpened:te,preventScrollRestoration:R,noBodyStyles:P});function Zt(){return(window.innerWidth-Ri)/window.innerWidth}function Sn(he){var Ie,ze;!y&&!d||se.current&&!se.current.contains(he.target)||(qe.current=((Ie=se.current)==null?void 0:Ie.getBoundingClientRect().height)||0,Je.current=((ze=se.current)==null?void 0:ze.getBoundingClientRect().width)||0,q(!0),J.current=new Date,dh()&&window.addEventListener("touchend",()=>ne.current=!1,{once:!0}),he.target.setPointerCapture(he.pointerId),pe.current=rt(z)?he.pageY:he.pageX)}function Et(he,Ie){var ze;let Ce=he;const Ue=(ze=window.getSelection())==null?void 0:ze.toString(),me=se.current?zr(se.current,z):null,Ee=new Date;if(Ce.tagName==="SELECT"||Ce.hasAttribute("data-vaul-no-drag")||Ce.closest("[data-vaul-no-drag]"))return!1;if(z==="right"||z==="left")return!0;if(X.current&&Ee.getTime()-X.current.getTime()<500)return!1;if(me!==null&&(z==="bottom"?me>0:me<0))return!0;if(Ue&&Ue.length>0)return!1;if($.current&&Ee.getTime()-$.current.getTime()<x&&me===0||Ie)return $.current=Ee,!1;for(;Ce;){if(Ce.scrollHeight>Ce.clientHeight){if(Ce.scrollTop!==0)return $.current=new Date,!1;if(Ce.getAttribute("role")==="dialog")return!0}Ce=Ce.parentNode}return!0}function Pn(he){if(se.current&&G){const Ie=z==="bottom"||z==="right"?1:-1,ze=(pe.current-(rt(z)?he.pageY:he.pageX))*Ie,Ce=ze>0,Ue=d&&!y&&!Ce;if(Ue&&Bt===0)return;const me=Math.abs(ze),Ee=document.querySelector("[data-vaul-drawer-wrapper]"),We=z==="bottom"||z==="top"?qe.current:Je.current;let Ze=me/We;const xt=Wt(me,Ce);if(xt!==null&&(Ze=xt),Ue&&Ze>=1||!ne.current&&!Et(he.target,Ce))return;if(se.current.classList.add(pi),ne.current=!0,ot(se.current,{transition:"none"}),ot(E.current,{transition:"none"}),d&&js({draggedDistance:ze}),Ce&&!d){const Ke=x_(ze),Ft=Math.min(Ke*-1,0)*Ie;ot(se.current,{transform:rt(z)?`translate3d(0, ${Ft}px, 0)`:`translate3d(${Ft}px, 0, 0)`});return}const Fe=1-Ze;if((Jn||b&&Bt===b-1)&&(o?.(he,Ze),ot(E.current,{opacity:`${Fe}`,transition:"none"},!0)),Ee&&E.current&&u){const Ke=Math.min(Zt()+Ze*(1-Zt()),1),Ft=8-Ze*8,mt=Math.max(0,14-Ze*14);ot(Ee,{borderRadius:`${Ft}px`,transform:rt(z)?`scale(${Ke}) translate3d(0, ${mt}px, 0)`:`scale(${Ke}) translate3d(${mt}px, 0, 0)`,transition:"none"},!0)}if(!d){const Ke=me*Ie;ot(se.current,{transform:rt(z)?`translate3d(0, ${Ke}px, 0)`:`translate3d(${Ke}px, 0, 0)`})}}}A.useEffect(()=>{window.requestAnimationFrame(()=>{xe.current=!0})},[]),A.useEffect(()=>{var he;function Ie(){if(!se.current||!W)return;const ze=document.activeElement;if(Ai(ze)||fe.current){var Ce;const Ue=((Ce=window.visualViewport)==null?void 0:Ce.height)||0,me=window.innerHeight;let Ee=me-Ue;const We=se.current.getBoundingClientRect().height||0,Ze=We>me*.8;et.current||(et.current=We);const xt=se.current.getBoundingClientRect().top;if(Math.abs(je.current-Ee)>60&&(fe.current=!fe.current),d&&d.length>0&&ft&&Bt){const Fe=ft[Bt]||0;Ee+=Fe}if(je.current=Ee,We>Ue||fe.current){const Fe=se.current.getBoundingClientRect().height;let Ke=Fe;Fe>Ue&&(Ke=Ue-(Ze?xt:Ri)),j?se.current.style.height=`${Fe-Math.max(Ee,0)}px`:se.current.style.height=`${Math.max(Ke,Ue-xt)}px`}else r_()||(se.current.style.height=`${et.current}px`);d&&d.length>0&&!fe.current?se.current.style.bottom="0px":se.current.style.bottom=`${Math.max(Ee,0)}px`}}return(he=window.visualViewport)==null||he.addEventListener("resize",Ie),()=>{var ze;return(ze=window.visualViewport)==null?void 0:ze.removeEventListener("resize",Ie)}},[Bt,d,ft]);function gt(he){Tn(),k?.(),he||Z(!1),setTimeout(()=>{d&&un(d[0])},Xe.DURATION*1e3)}function Cn(){if(!se.current)return;const he=document.querySelector("[data-vaul-drawer-wrapper]"),Ie=zr(se.current,z);ot(se.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`}),ot(E.current,{transition:`opacity ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,opacity:"1"}),u&&Ie&&Ie>0&&re&&ot(he,{borderRadius:`${ph}px`,overflow:"hidden",...rt(z)?{transform:`scale(${Zt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Zt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Xe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Xe.EASE.join(",")})`},!0)}function Tn(){!G||!se.current||(se.current.classList.remove(pi),ne.current=!1,q(!1),Y.current=new Date)}function En(he){if(!G||!se.current)return;se.current.classList.remove(pi),ne.current=!1,q(!1),Y.current=new Date;const Ie=zr(se.current,z);if(!he||!Et(he.target,!1)||!Ie||Number.isNaN(Ie)||J.current===null)return;const ze=Y.current.getTime()-J.current.getTime(),Ce=pe.current-(rt(z)?he.pageY:he.pageX),Ue=Math.abs(Ce)/ze;if(Ue>.05&&(ye(!0),setTimeout(()=>{ye(!1)},200)),d){ct({draggedDistance:Ce*(z==="bottom"||z==="right"?1:-1),closeDrawer:gt,velocity:Ue,dismissible:y}),l?.(he,!0);return}if(z==="bottom"||z==="right"?Ce>0:Ce<0){Cn(),l?.(he,!0);return}if(Ue>fh){gt(),l?.(he,!1);return}var me;const Ee=Math.min((me=se.current.getBoundingClientRect().height)!=null?me:0,window.innerHeight);var We;const Ze=Math.min((We=se.current.getBoundingClientRect().width)!=null?We:0,window.innerWidth),xt=z==="left"||z==="right";if(Math.abs(Ie)>=(xt?Ze:Ee)*g){gt(),l?.(he,!1);return}l?.(he,!0),Cn()}A.useEffect(()=>(re&&(ot(document.documentElement,{scrollBehavior:"auto"}),X.current=new Date),()=>{g_(document.documentElement,"scrollBehavior")}),[re]);function es(he){const Ie=he?(window.innerWidth-zn)/window.innerWidth:1,ze=he?-zn:0;be.current&&window.clearTimeout(be.current),ot(se.current,{transition:`transform ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,transform:rt(z)?`scale(${Ie}) translate3d(0, ${ze}px, 0)`:`scale(${Ie}) translate3d(${ze}px, 0, 0)`}),!he&&se.current&&(be.current=setTimeout(()=>{const Ce=zr(se.current,z);ot(se.current,{transition:"none",transform:rt(z)?`translate3d(0, ${Ce}px, 0)`:`translate3d(${Ce}px, 0, 0)`})},500))}function Jt(he,Ie){if(Ie<0)return;const ze=(window.innerWidth-zn)/window.innerWidth,Ce=ze+Ie*(1-ze),Ue=-zn+Ie*zn;ot(se.current,{transform:rt(z)?`scale(${Ce}) translate3d(0, ${Ue}px, 0)`:`scale(${Ce}) translate3d(${Ue}px, 0, 0)`,transition:"none"})}function Mn(he,Ie){const ze=rt(z)?window.innerHeight:window.innerWidth,Ce=Ie?(ze-zn)/ze:1,Ue=Ie?-zn:0;Ie&&ot(se.current,{transition:`transform ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,transform:rt(z)?`scale(${Ce}) translate3d(0, ${Ue}px, 0)`:`scale(${Ce}) translate3d(${Ue}px, 0, 0)`})}return A.useEffect(()=>{w||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[w]),A.createElement(qi,{defaultOpen:Q,onOpenChange:he=>{!y&&!he||(he?I(!0):gt(!0),Z(he))},open:re},A.createElement(ch.Provider,{value:{activeSnapPoint:_t,snapPoints:d,setActiveSnapPoint:un,drawerRef:se,overlayRef:E,onOpenChange:a,onPress:Sn,onRelease:En,onDrag:Pn,dismissible:y,shouldAnimate:xe,handleOnly:h,isOpen:re,isDragging:G,shouldFade:Jn,closeDrawer:gt,onNestedDrag:Jt,onNestedOpenChange:es,onNestedRelease:Mn,keyboardIsOpen:fe,modal:w,snapPointsOffset:ft,activeSnapPointIndex:Bt,direction:z,shouldScaleBackground:u,setBackgroundColorOnScale:p,noBodyStyles:P,container:F,autoFocus:C}},r))}const vh=A.forwardRef(function({...n},a){const{overlayRef:r,snapPoints:o,onRelease:l,shouldFade:d,isOpen:u,modal:p,shouldAnimate:g}=hr(),x=hh(a,r),y=o&&o.length>0;if(!p)return null;const h=A.useCallback(b=>l(b),[l]);return A.createElement(er,{onMouseUp:h,ref:x,"data-vaul-overlay":"","data-vaul-snap-points":u&&y?"true":"false","data-vaul-snap-points-overlay":u&&d?"true":"false","data-vaul-animate":g?.current?"true":"false",...n})});vh.displayName="Drawer.Overlay";const yh=A.forwardRef(function({onPointerDownOutside:n,style:a,onOpenAutoFocus:r,...o},l){const{drawerRef:d,onPress:u,onRelease:p,onDrag:g,keyboardIsOpen:x,snapPointsOffset:y,activeSnapPointIndex:h,modal:b,isOpen:_,direction:S,snapPoints:j,container:w,handleOnly:k,shouldAnimate:T,autoFocus:P}=hr(),[z,Q]=A.useState(!1),B=hh(l,d),H=A.useRef(null),R=A.useRef(null),W=A.useRef(!1),K=j&&j.length>0;N_();const F=(V,D,re=0)=>{if(W.current)return!0;const Z=Math.abs(V.y),te=Math.abs(V.x),I=te>Z,G=["bottom","right"].includes(D)?1:-1;if(D==="left"||D==="right"){if(!(V.x*G<0)&&te>=0&&te<=re)return I}else if(!(V.y*G<0)&&Z>=0&&Z<=re)return!I;return W.current=!0,!0};A.useEffect(()=>{K&&window.requestAnimationFrame(()=>{Q(!0)})},[]);function C(V){H.current=null,W.current=!1,p(V)}return A.createElement(tr,{"data-vaul-drawer-direction":S,"data-vaul-drawer":"","data-vaul-delayed-snap-points":z?"true":"false","data-vaul-snap-points":_&&K?"true":"false","data-vaul-custom-container":w?"true":"false","data-vaul-animate":T?.current?"true":"false",...o,ref:B,style:y&&y.length>0?{"--snap-point-height":`${y[h??0]}px`,...a}:a,onPointerDown:V=>{k||(o.onPointerDown==null||o.onPointerDown.call(o,V),H.current={x:V.pageX,y:V.pageY},u(V))},onOpenAutoFocus:V=>{r?.(V),P||V.preventDefault()},onPointerDownOutside:V=>{if(n?.(V),!b||V.defaultPrevented){V.preventDefault();return}x.current&&(x.current=!1)},onFocusOutside:V=>{if(!b){V.preventDefault();return}},onPointerMove:V=>{if(R.current=V,k||(o.onPointerMove==null||o.onPointerMove.call(o,V),!H.current))return;const D=V.pageY-H.current.y,re=V.pageX-H.current.x,Z=V.pointerType==="touch"?10:2;F({x:re,y:D},S,Z)?g(V):(Math.abs(re)>Z||Math.abs(D)>Z)&&(H.current=null)},onPointerUp:V=>{o.onPointerUp==null||o.onPointerUp.call(o,V),H.current=null,W.current=!1,p(V)},onPointerOut:V=>{o.onPointerOut==null||o.onPointerOut.call(o,V),C(R.current)},onContextMenu:V=>{o.onContextMenu==null||o.onContextMenu.call(o,V),R.current&&C(R.current)}})});yh.displayName="Drawer.Content";const P_=250,C_=120,T_=A.forwardRef(function({preventCycle:n=!1,children:a,...r},o){const{closeDrawer:l,isDragging:d,snapPoints:u,activeSnapPoint:p,setActiveSnapPoint:g,dismissible:x,handleOnly:y,isOpen:h,onPress:b,onDrag:_}=hr(),S=A.useRef(null),j=A.useRef(!1);function w(){if(j.current){P();return}window.setTimeout(()=>{k()},C_)}function k(){if(d||n||j.current){P();return}if(P(),!u||u.length===0){x||l();return}if(p===u[u.length-1]&&x){l();return}const Q=u.findIndex(H=>H===p);if(Q===-1)return;const B=u[Q+1];g(B)}function T(){S.current=window.setTimeout(()=>{j.current=!0},P_)}function P(){S.current&&window.clearTimeout(S.current),j.current=!1}return A.createElement("div",{onClick:w,onPointerCancel:P,onPointerDown:z=>{y&&b(z),T()},onPointerMove:z=>{y&&_(z)},ref:o,"data-vaul-drawer-visible":h?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},A.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},a))});T_.displayName="Drawer.Handle";function E_(n){const a=hr(),{container:r=a.container,...o}=n;return A.createElement(Wi,{container:r,...o})}const dn={Root:S_,Content:yh,Overlay:vh,Portal:E_,Title:nr,Description:sr},bh=({shouldScaleBackground:n=!0,...a})=>t.jsx(dn.Root,{shouldScaleBackground:n,...a});bh.displayName="Drawer";const M_=dn.Portal,wh=m.forwardRef(({className:n,...a},r)=>t.jsx(dn.Overlay,{ref:r,className:de("fixed inset-0 z-50 bg-black/80",n),...a}));wh.displayName=dn.Overlay.displayName;const _h=m.forwardRef(({className:n,children:a,...r},o)=>t.jsxs(M_,{children:[t.jsx(wh,{}),t.jsxs(dn.Content,{ref:o,className:de("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",n),...r,children:[t.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),a]})]}));_h.displayName="DrawerContent";const jh=({className:n,...a})=>t.jsx("div",{className:de("grid gap-1.5 p-4 text-center sm:text-left",n),...a});jh.displayName="DrawerHeader";const Nh=m.forwardRef(({className:n,...a},r)=>t.jsx(dn.Title,{ref:r,className:de("text-lg font-semibold leading-none tracking-tight",n),...a}));Nh.displayName=dn.Title.displayName;const L_=m.forwardRef(({className:n,...a},r)=>t.jsx(dn.Description,{ref:r,className:de("text-sm text-muted-foreground",n),...a}));L_.displayName=dn.Description.displayName;function kh(n,a){const r=m.useRef(a);m.useEffect(function(){a!==r.current&&n.attributionControl!=null&&(r.current!=null&&n.attributionControl.removeAttribution(r.current),a!=null&&n.attributionControl.addAttribution(a)),r.current=a},[n,a])}function A_(n,a,r){a.center!==r.center&&n.setLatLng(a.center),a.radius!=null&&a.radius!==r.radius&&n.setRadius(a.radius)}const R_=1;function I_(n){return Object.freeze({__version:R_,map:n})}function Sh(n,a){return Object.freeze({...n,...a})}const Ph=m.createContext(null),Ch=Ph.Provider;function ya(){const n=m.useContext(Ph);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function Th(n){function a(r,o){const{instance:l,context:d}=n(r).current;return m.useImperativeHandle(o,()=>l),r.children==null?null:A.createElement(Ch,{value:d},r.children)}return m.forwardRef(a)}function O_(n){function a(r,o){const[l,d]=m.useState(!1),{instance:u}=n(r,d).current;m.useImperativeHandle(o,()=>u),m.useEffect(function(){l&&u.update()},[u,l,r.children]);const p=u._contentNode;return p?na.createPortal(r.children,p):null}return m.forwardRef(a)}function D_(n){function a(r,o){const{instance:l}=n(r).current;return m.useImperativeHandle(o,()=>l),null}return m.forwardRef(a)}function No(n,a){const r=m.useRef();m.useEffect(function(){return a!=null&&n.instance.on(a),r.current=a,function(){r.current!=null&&n.instance.off(r.current),r.current=null}},[n,a])}function ba(n,a){const r=n.pane??a.pane;return r?{...n,pane:r}:n}function z_(n,a){return function(o,l){const d=ya(),u=n(ba(o,d),d);return kh(d.map,o.attribution),No(u.current,o.eventHandlers),a(u.current,d,o,l),u}}var Ws={exports:{}};var B_=Ws.exports,fc;function F_(){return fc||(fc=1,(function(n,a){(function(r,o){o(a)})(B_,(function(r){var o="1.9.4";function l(e){var s,i,c,f;for(i=1,c=arguments.length;i<c;i++){f=arguments[i];for(s in f)e[s]=f[s]}return e}var d=Object.create||(function(){function e(){}return function(s){return e.prototype=s,new e}})();function u(e,s){var i=Array.prototype.slice;if(e.bind)return e.bind.apply(e,i.call(arguments,1));var c=i.call(arguments,2);return function(){return e.apply(s,c.length?c.concat(i.call(arguments)):arguments)}}var p=0;function g(e){return"_leaflet_id"in e||(e._leaflet_id=++p),e._leaflet_id}function x(e,s,i){var c,f,v,N;return N=function(){c=!1,f&&(v.apply(i,f),f=!1)},v=function(){c?f=arguments:(e.apply(i,arguments),setTimeout(N,s),c=!0)},v}function y(e,s,i){var c=s[1],f=s[0],v=c-f;return e===c&&i?e:((e-f)%v+v)%v+f}function h(){return!1}function b(e,s){if(s===!1)return e;var i=Math.pow(10,s===void 0?6:s);return Math.round(e*i)/i}function _(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function S(e){return _(e).split(/\s+/)}function j(e,s){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?d(e.options):{});for(var i in s)e.options[i]=s[i];return e.options}function w(e,s,i){var c=[];for(var f in e)c.push(encodeURIComponent(i?f.toUpperCase():f)+"="+encodeURIComponent(e[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function T(e,s){return e.replace(k,function(i,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+i);return typeof f=="function"&&(f=f(s)),f})}var P=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function z(e,s){for(var i=0;i<e.length;i++)if(e[i]===s)return i;return-1}var Q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var H=0;function R(e){var s=+new Date,i=Math.max(0,16-(s-H));return H=s+i,window.setTimeout(e,i)}var W=window.requestAnimationFrame||B("RequestAnimationFrame")||R,K=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function F(e,s,i){if(i&&W===R)e.call(s);else return W.call(window,u(e,s))}function C(e){e&&K.call(window,e)}var V={__proto__:null,extend:l,create:d,bind:u,get lastId(){return p},stamp:g,throttle:x,wrapNum:y,falseFn:h,formatNum:b,trim:_,splitWords:S,setOptions:j,getParamString:w,template:T,isArray:P,indexOf:z,emptyImageUrl:Q,requestFn:W,cancelFn:K,requestAnimFrame:F,cancelAnimFrame:C};function D(){}D.extend=function(e){var s=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=s.__super__=this.prototype,c=d(i);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return e.statics&&l(s,e.statics),e.includes&&(re(e.includes),l.apply(null,[c].concat(e.includes))),l(c,e),delete c.statics,delete c.includes,c.options&&(c.options=i.options?d(i.options):{},l(c.options,e.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,N=c._initHooks.length;v<N;v++)c._initHooks[v].call(this)}},s},D.include=function(e){var s=this.prototype.options;return l(this.prototype,e),e.options&&(this.prototype.options=s,this.mergeOptions(e.options)),this},D.mergeOptions=function(e){return l(this.prototype.options,e),this},D.addInitHook=function(e){var s=Array.prototype.slice.call(arguments,1),i=typeof e=="function"?e:function(){this[e].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};function re(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=P(e)?e:[e];for(var s=0;s<e.length;s++)e[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(e,s,i){if(typeof e=="object")for(var c in e)this._on(c,e[c],s);else{e=S(e);for(var f=0,v=e.length;f<v;f++)this._on(e[f],s,i)}return this},off:function(e,s,i){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var c in e)this._off(c,e[c],s);else{e=S(e);for(var f=arguments.length===1,v=0,N=e.length;v<N;v++)f?this._off(e[v]):this._off(e[v],s,i)}return this},_on:function(e,s,i,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(e,s,i)===!1){i===this&&(i=void 0);var f={fn:s,ctx:i};c&&(f.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(f)}},_off:function(e,s,i){var c,f,v;if(this._events&&(c=this._events[e],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,v=c.length;f<v;f++)c[f].fn=h;delete this._events[e];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var N=this._listens(e,s,i);if(N!==!1){var M=c[N];this._firingCount&&(M.fn=h,this._events[e]=c=c.slice()),c.splice(N,1)}}},fire:function(e,s,i){if(!this.listens(e,i))return this;var c=l({},s,{type:e,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[e];if(f){this._firingCount=this._firingCount+1||1;for(var v=0,N=f.length;v<N;v++){var M=f[v],O=M.fn;M.once&&this.off(e,O,M.ctx),O.call(M.ctx||this,c)}this._firingCount--}}return i&&this._propagateEvent(c),this},listens:function(e,s,i,c){typeof e!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,i=void 0);var v=this._events&&this._events[e];if(v&&v.length&&this._listens(e,f,i)!==!1)return!0;if(c){for(var N in this._eventParents)if(this._eventParents[N].listens(e,s,i,c))return!0}return!1},_listens:function(e,s,i){if(!this._events)return!1;var c=this._events[e]||[];if(!s)return!!c.length;i===this&&(i=void 0);for(var f=0,v=c.length;f<v;f++)if(c[f].fn===s&&c[f].ctx===i)return f;return!1},once:function(e,s,i){if(typeof e=="object")for(var c in e)this._on(c,e[c],s,!0);else{e=S(e);for(var f=0,v=e.length;f<v;f++)this._on(e[f],s,i,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[g(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[g(e)],this},_propagateEvent:function(e){for(var s in this._eventParents)this._eventParents[s].fire(e.type,l({layer:e.target,propagatedFrom:e.target},e),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var te=D.extend(Z);function I(e,s,i){this.x=i?Math.round(e):e,this.y=i?Math.round(s):s}var G=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(e){return this.clone()._add(q(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(q(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new I(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new I(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(e){e=q(e);var s=e.x-this.x,i=e.y-this.y;return Math.sqrt(s*s+i*i)},equals:function(e){return e=q(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=q(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function q(e,s,i){return e instanceof I?e:P(e)?new I(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new I(e.x,e.y):new I(e,s,i)}function ue(e,s){if(e)for(var i=s?[e,s]:e,c=0,f=i.length;c<f;c++)this.extend(i[c])}ue.prototype={extend:function(e){var s,i;if(!e)return this;if(e instanceof I||typeof e[0]=="number"||"x"in e)s=i=q(e);else if(e=ye(e),s=e.min,i=e.max,!s||!i)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=i.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)),this},getCenter:function(e){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var s,i;return typeof e[0]=="number"||e instanceof I?e=q(e):e=ye(e),e instanceof ue?(s=e.min,i=e.max):s=i=e,s.x>=this.min.x&&i.x<=this.max.x&&s.y>=this.min.y&&i.y<=this.max.y},intersects:function(e){e=ye(e);var s=this.min,i=this.max,c=e.min,f=e.max,v=f.x>=s.x&&c.x<=i.x,N=f.y>=s.y&&c.y<=i.y;return v&&N},overlaps:function(e){e=ye(e);var s=this.min,i=this.max,c=e.min,f=e.max,v=f.x>s.x&&c.x<i.x,N=f.y>s.y&&c.y<i.y;return v&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var s=this.min,i=this.max,c=Math.abs(s.x-i.x)*e,f=Math.abs(s.y-i.y)*e;return ye(q(s.x-c,s.y-f),q(i.x+c,i.y+f))},equals:function(e){return e?(e=ye(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function ye(e,s){return!e||e instanceof ue?e:new ue(e,s)}function E(e,s){if(e)for(var i=s?[e,s]:e,c=0,f=i.length;c<f;c++)this.extend(i[c])}E.prototype={extend:function(e){var s=this._southWest,i=this._northEast,c,f;if(e instanceof J)c=e,f=e;else if(e instanceof E){if(c=e._southWest,f=e._northEast,!c||!f)return this}else return e?this.extend(Y(e)||X(e)):this;return!s&&!i?(this._southWest=new J(c.lat,c.lng),this._northEast=new J(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),i.lat=Math.max(f.lat,i.lat),i.lng=Math.max(f.lng,i.lng)),this},pad:function(e){var s=this._southWest,i=this._northEast,c=Math.abs(s.lat-i.lat)*e,f=Math.abs(s.lng-i.lng)*e;return new E(new J(s.lat-c,s.lng-f),new J(i.lat+c,i.lng+f))},getCenter:function(){return new J((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new J(this.getNorth(),this.getWest())},getSouthEast:function(){return new J(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof J||"lat"in e?e=Y(e):e=X(e);var s=this._southWest,i=this._northEast,c,f;return e instanceof E?(c=e.getSouthWest(),f=e.getNorthEast()):c=f=e,c.lat>=s.lat&&f.lat<=i.lat&&c.lng>=s.lng&&f.lng<=i.lng},intersects:function(e){e=X(e);var s=this._southWest,i=this._northEast,c=e.getSouthWest(),f=e.getNorthEast(),v=f.lat>=s.lat&&c.lat<=i.lat,N=f.lng>=s.lng&&c.lng<=i.lng;return v&&N},overlaps:function(e){e=X(e);var s=this._southWest,i=this._northEast,c=e.getSouthWest(),f=e.getNorthEast(),v=f.lat>s.lat&&c.lat<i.lat,N=f.lng>s.lng&&c.lng<i.lng;return v&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,s){return e?(e=X(e),this._southWest.equals(e.getSouthWest(),s)&&this._northEast.equals(e.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(e,s){return e instanceof E?e:new E(e,s)}function J(e,s,i){if(isNaN(e)||isNaN(s))throw new Error("Invalid LatLng object: ("+e+", "+s+")");this.lat=+e,this.lng=+s,i!==void 0&&(this.alt=+i)}J.prototype={equals:function(e,s){if(!e)return!1;e=Y(e);var i=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return i<=(s===void 0?1e-9:s)},toString:function(e){return"LatLng("+b(this.lat,e)+", "+b(this.lng,e)+")"},distanceTo:function(e){return ne.distance(this,Y(e))},wrap:function(){return ne.wrapLatLng(this)},toBounds:function(e){var s=180*e/40075017,i=s/Math.cos(Math.PI/180*this.lat);return X([this.lat-s,this.lng-i],[this.lat+s,this.lng+i])},clone:function(){return new J(this.lat,this.lng,this.alt)}};function Y(e,s,i){return e instanceof J?e:P(e)&&typeof e[0]!="object"?e.length===3?new J(e[0],e[1],e[2]):e.length===2?new J(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new J(e.lat,"lng"in e?e.lng:e.lon,e.alt):s===void 0?null:new J(e,s,i)}var $={latLngToPoint:function(e,s){var i=this.projection.project(e),c=this.scale(s);return this.transformation._transform(i,c)},pointToLatLng:function(e,s){var i=this.scale(s),c=this.transformation.untransform(e,i);return this.projection.unproject(c)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var s=this.projection.bounds,i=this.scale(e),c=this.transformation.transform(s.min,i),f=this.transformation.transform(s.max,i);return new ue(c,f)},infinite:!1,wrapLatLng:function(e){var s=this.wrapLng?y(e.lng,this.wrapLng,!0):e.lng,i=this.wrapLat?y(e.lat,this.wrapLat,!0):e.lat,c=e.alt;return new J(i,s,c)},wrapLatLngBounds:function(e){var s=e.getCenter(),i=this.wrapLatLng(s),c=s.lat-i.lat,f=s.lng-i.lng;if(c===0&&f===0)return e;var v=e.getSouthWest(),N=e.getNorthEast(),M=new J(v.lat-c,v.lng-f),O=new J(N.lat-c,N.lng-f);return new E(M,O)}},ne=l({},$,{wrapLng:[-180,180],R:6371e3,distance:function(e,s){var i=Math.PI/180,c=e.lat*i,f=s.lat*i,v=Math.sin((s.lat-e.lat)*i/2),N=Math.sin((s.lng-e.lng)*i/2),M=v*v+Math.cos(c)*Math.cos(f)*N*N,O=2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M));return this.R*O}}),be=6378137,pe={R:be,MAX_LATITUDE:85.0511287798,project:function(e){var s=Math.PI/180,i=this.MAX_LATITUDE,c=Math.max(Math.min(i,e.lat),-i),f=Math.sin(c*s);return new I(this.R*e.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(e){var s=180/Math.PI;return new J((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*s,e.x*s/this.R)},bounds:(function(){var e=be*Math.PI;return new ue([-e,-e],[e,e])})()};function fe(e,s,i,c){if(P(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=s,this._c=i,this._d=c}fe.prototype={transform:function(e,s){return this._transform(e.clone(),s)},_transform:function(e,s){return s=s||1,e.x=s*(this._a*e.x+this._b),e.y=s*(this._c*e.y+this._d),e},untransform:function(e,s){return s=s||1,new I((e.x/s-this._b)/this._a,(e.y/s-this._d)/this._c)}};function xe(e,s,i,c){return new fe(e,s,i,c)}var je=l({},ne,{code:"EPSG:3857",projection:pe,transformation:(function(){var e=.5/(Math.PI*pe.R);return xe(e,.5,-e,.5)})()}),se=l({},je,{code:"EPSG:900913"});function qe(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Je(e,s){var i="",c,f,v,N,M,O;for(c=0,v=e.length;c<v;c++){for(M=e[c],f=0,N=M.length;f<N;f++)O=M[f],i+=(f?"L":"M")+O.x+" "+O.y;i+=s?oe.svg?"z":"x":""}return i||"M0 0"}var et=document.documentElement.style,Xt="ActiveXObject"in window,_t=Xt&&!document.addEventListener,Bt="msLaunchUri"in navigator&&!("documentMode"in document),un=Nt("webkit"),ct=Nt("android"),ft=Nt("android 2")||Nt("android 3"),js=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Jn=ct&&Nt("Google")&&js<537&&!("AudioNode"in window),Wt=!!window.opera,Qn=!Bt&&Nt("chrome"),Zt=Nt("gecko")&&!un&&!Wt&&!Xt,Sn=!Qn&&Nt("safari"),Et=Nt("phantom"),Pn="OTransition"in et,gt=navigator.platform.indexOf("Win")===0,Cn=Xt&&"transition"in et,Tn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ft,En="MozPerspective"in et,es=!window.L_DISABLE_3D&&(Cn||Tn||En)&&!Pn&&!Et,Jt=typeof orientation<"u"||Nt("mobile"),Mn=Jt&&un,he=Jt&&Tn,Ie=!window.PointerEvent&&window.MSPointerEvent,ze=!!(window.PointerEvent||Ie),Ce="ontouchstart"in window||!!window.TouchEvent,Ue=!window.L_NO_TOUCH&&(Ce||ze),me=Jt&&Wt,Ee=Jt&&Zt,We=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ze=(function(){var e=!1;try{var s=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",h,s),window.removeEventListener("testPassiveEventSupport",h,s)}catch{}return e})(),xt=(function(){return!!document.createElement("canvas").getContext})(),Fe=!!(document.createElementNS&&qe("svg").createSVGRect),Ke=!!Fe&&(function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ft=!Fe&&(function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var s=e.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),mt=navigator.platform.indexOf("Mac")===0,jt=navigator.platform.indexOf("Linux")===0;function Nt(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var oe={ie:Xt,ielt9:_t,edge:Bt,webkit:un,android:ct,android23:ft,androidStock:Jn,opera:Wt,chrome:Qn,gecko:Zt,safari:Sn,phantom:Et,opera12:Pn,win:gt,ie3d:Cn,webkit3d:Tn,gecko3d:En,any3d:es,mobile:Jt,mobileWebkit:Mn,mobileWebkit3d:he,msPointer:Ie,pointer:ze,touch:Ue,touchNative:Ce,mobileOpera:me,mobileGecko:Ee,retina:We,passiveEvents:Ze,canvas:xt,svg:Fe,vml:Ft,inlineSvg:Ke,mac:mt,linux:jt},Pa=oe.msPointer?"MSPointerDown":"pointerdown",To=oe.msPointer?"MSPointerMove":"pointermove",Eo=oe.msPointer?"MSPointerUp":"pointerup",Mo=oe.msPointer?"MSPointerCancel":"pointercancel",Ca={touchstart:Pa,touchmove:To,touchend:Eo,touchcancel:Mo},Lo={touchstart:zm,touchmove:mr,touchend:mr,touchcancel:mr},ts={},Ao=!1;function Am(e,s,i){return s==="touchstart"&&Dm(),Lo[s]?(i=Lo[s].bind(this,i),e.addEventListener(Ca[s],i,!1),i):(console.warn("wrong event specified:",s),h)}function Rm(e,s,i){if(!Ca[s]){console.warn("wrong event specified:",s);return}e.removeEventListener(Ca[s],i,!1)}function Im(e){ts[e.pointerId]=e}function Om(e){ts[e.pointerId]&&(ts[e.pointerId]=e)}function Ro(e){delete ts[e.pointerId]}function Dm(){Ao||(document.addEventListener(Pa,Im,!0),document.addEventListener(To,Om,!0),document.addEventListener(Eo,Ro,!0),document.addEventListener(Mo,Ro,!0),Ao=!0)}function mr(e,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var i in ts)s.touches.push(ts[i]);s.changedTouches=[s],e(s)}}function zm(e,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ht(s),mr(e,s)}function Bm(e){var s={},i,c;for(c in e)i=e[c],s[c]=i&&i.bind?i.bind(e):i;return e=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Fm=200;function Hm(e,s){e.addEventListener("dblclick",s);var i=0,c;function f(v){if(v.detail!==1){c=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var N=Bo(v);if(!(N.some(function(O){return O instanceof HTMLLabelElement&&O.attributes.for})&&!N.some(function(O){return O instanceof HTMLInputElement||O instanceof HTMLSelectElement}))){var M=Date.now();M-i<=Fm?(c++,c===2&&s(Bm(v))):c=1,i=M}}}return e.addEventListener("click",f),{dblclick:s,simDblclick:f}}function Vm(e,s){e.removeEventListener("dblclick",s.dblclick),e.removeEventListener("click",s.simDblclick)}var Ta=gr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ns=gr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Io=Ns==="webkitTransition"||Ns==="OTransition"?Ns+"End":"transitionend";function Oo(e){return typeof e=="string"?document.getElementById(e):e}function ks(e,s){var i=e.style[s]||e.currentStyle&&e.currentStyle[s];if((!i||i==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(e,null);i=c?c[s]:null}return i==="auto"?null:i}function De(e,s,i){var c=document.createElement(e);return c.className=s||"",i&&i.appendChild(c),c}function Ge(e){var s=e.parentNode;s&&s.removeChild(e)}function fr(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function ns(e){var s=e.parentNode;s&&s.lastChild!==e&&s.appendChild(e)}function ss(e){var s=e.parentNode;s&&s.firstChild!==e&&s.insertBefore(e,s.firstChild)}function Ea(e,s){if(e.classList!==void 0)return e.classList.contains(s);var i=pr(e);return i.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(i)}function Ne(e,s){if(e.classList!==void 0)for(var i=S(s),c=0,f=i.length;c<f;c++)e.classList.add(i[c]);else if(!Ea(e,s)){var v=pr(e);Ma(e,(v?v+" ":"")+s)}}function Qe(e,s){e.classList!==void 0?e.classList.remove(s):Ma(e,_((" "+pr(e)+" ").replace(" "+s+" "," ")))}function Ma(e,s){e.className.baseVal===void 0?e.className=s:e.className.baseVal=s}function pr(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Mt(e,s){"opacity"in e.style?e.style.opacity=s:"filter"in e.style&&$m(e,s)}function $m(e,s){var i=!1,c="DXImageTransform.Microsoft.Alpha";try{i=e.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),i?(i.Enabled=s!==100,i.Opacity=s):e.style.filter+=" progid:"+c+"(opacity="+s+")"}function gr(e){for(var s=document.documentElement.style,i=0;i<e.length;i++)if(e[i]in s)return e[i];return!1}function Ln(e,s,i){var c=s||new I(0,0);e.style[Ta]=(oe.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(i?" scale("+i+")":"")}function tt(e,s){e._leaflet_pos=s,oe.any3d?Ln(e,s):(e.style.left=s.x+"px",e.style.top=s.y+"px")}function An(e){return e._leaflet_pos||new I(0,0)}var Ss,Ps,La;if("onselectstart"in document)Ss=function(){_e(window,"selectstart",ht)},Ps=function(){Ye(window,"selectstart",ht)};else{var Cs=gr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ss=function(){if(Cs){var e=document.documentElement.style;La=e[Cs],e[Cs]="none"}},Ps=function(){Cs&&(document.documentElement.style[Cs]=La,La=void 0)}}function Aa(){_e(window,"dragstart",ht)}function Ra(){Ye(window,"dragstart",ht)}var xr,Ia;function Oa(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(vr(),xr=e,Ia=e.style.outlineStyle,e.style.outlineStyle="none",_e(window,"keydown",vr))}function vr(){xr&&(xr.style.outlineStyle=Ia,xr=void 0,Ia=void 0,Ye(window,"keydown",vr))}function Do(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Da(e){var s=e.getBoundingClientRect();return{x:s.width/e.offsetWidth||1,y:s.height/e.offsetHeight||1,boundingClientRect:s}}var Wm={__proto__:null,TRANSFORM:Ta,TRANSITION:Ns,TRANSITION_END:Io,get:Oo,getStyle:ks,create:De,remove:Ge,empty:fr,toFront:ns,toBack:ss,hasClass:Ea,addClass:Ne,removeClass:Qe,setClass:Ma,getClass:pr,setOpacity:Mt,testProp:gr,setTransform:Ln,setPosition:tt,getPosition:An,get disableTextSelection(){return Ss},get enableTextSelection(){return Ps},disableImageDrag:Aa,enableImageDrag:Ra,preventOutline:Oa,restoreOutline:vr,getSizedParentNode:Do,getScale:Da};function _e(e,s,i,c){if(s&&typeof s=="object")for(var f in s)Ba(e,f,s[f],i);else{s=S(s);for(var v=0,N=s.length;v<N;v++)Ba(e,s[v],i,c)}return this}var qt="_leaflet_events";function Ye(e,s,i,c){if(arguments.length===1)zo(e),delete e[qt];else if(s&&typeof s=="object")for(var f in s)Fa(e,f,s[f],i);else if(s=S(s),arguments.length===2)zo(e,function(M){return z(s,M)!==-1});else for(var v=0,N=s.length;v<N;v++)Fa(e,s[v],i,c);return this}function zo(e,s){for(var i in e[qt]){var c=i.split(/\d/)[0];(!s||s(c))&&Fa(e,c,null,null,i)}}var za={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ba(e,s,i,c){var f=s+g(i)+(c?"_"+g(c):"");if(e[qt]&&e[qt][f])return this;var v=function(M){return i.call(c||e,M||window.event)},N=v;!oe.touchNative&&oe.pointer&&s.indexOf("touch")===0?v=Am(e,s,v):oe.touch&&s==="dblclick"?v=Hm(e,v):"addEventListener"in e?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?e.addEventListener(za[s]||s,v,oe.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(v=function(M){M=M||window.event,Va(e,M)&&N(M)},e.addEventListener(za[s],v,!1)):e.addEventListener(s,N,!1):e.attachEvent("on"+s,v),e[qt]=e[qt]||{},e[qt][f]=v}function Fa(e,s,i,c,f){f=f||s+g(i)+(c?"_"+g(c):"");var v=e[qt]&&e[qt][f];if(!v)return this;!oe.touchNative&&oe.pointer&&s.indexOf("touch")===0?Rm(e,s,v):oe.touch&&s==="dblclick"?Vm(e,v):"removeEventListener"in e?e.removeEventListener(za[s]||s,v,!1):e.detachEvent("on"+s,v),e[qt][f]=null}function Rn(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Ha(e){return Ba(e,"wheel",Rn),this}function Ts(e){return _e(e,"mousedown touchstart dblclick contextmenu",Rn),e._leaflet_disable_click=!0,this}function ht(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function In(e){return ht(e),Rn(e),this}function Bo(e){if(e.composedPath)return e.composedPath();for(var s=[],i=e.target;i;)s.push(i),i=i.parentNode;return s}function Fo(e,s){if(!s)return new I(e.clientX,e.clientY);var i=Da(s),c=i.boundingClientRect;return new I((e.clientX-c.left)/i.x-s.clientLeft,(e.clientY-c.top)/i.y-s.clientTop)}var Zm=oe.linux&&oe.chrome?window.devicePixelRatio:oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ho(e){return oe.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Zm:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Va(e,s){var i=s.relatedTarget;if(!i)return!0;try{for(;i&&i!==e;)i=i.parentNode}catch{return!1}return i!==e}var qm={__proto__:null,on:_e,off:Ye,stopPropagation:Rn,disableScrollPropagation:Ha,disableClickPropagation:Ts,preventDefault:ht,stop:In,getPropagationPath:Bo,getMousePosition:Fo,getWheelDelta:Ho,isExternalTarget:Va,addListener:_e,removeListener:Ye},Vo=te.extend({run:function(e,s,i,c){this.stop(),this._el=e,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=An(e),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(e){var s=+new Date-this._startTime,i=this._duration*1e3;s<i?this._runFrame(this._easeOut(s/i),e):(this._runFrame(1),this._complete())},_runFrame:function(e,s){var i=this._startPos.add(this._offset.multiplyBy(e));s&&i._round(),tt(this._el,i),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Oe=te.extend({options:{crs:je,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,s){s=j(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(Y(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ns&&oe.any3d&&!oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),_e(this._proxy,Io,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,s,i){if(s=s===void 0?this._zoom:this._limitZoom(s),e=this._limitCenter(Y(e),s,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==void 0&&(i.zoom=l({animate:i.animate},i.zoom),i.pan=l({animate:i.animate,duration:i.duration},i.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,s,i.zoom):this._tryAnimatedPan(e,i.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(e,s,i.pan&&i.pan.noMoveStart),this},setZoom:function(e,s){return this._loaded?this.setView(this.getCenter(),e,{zoom:s}):(this._zoom=e,this)},zoomIn:function(e,s){return e=e||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,s)},zoomOut:function(e,s){return e=e||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,s)},setZoomAround:function(e,s,i){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),v=e instanceof I?e:this.latLngToContainerPoint(e),N=v.subtract(f).multiplyBy(1-1/c),M=this.containerPointToLatLng(f.add(N));return this.setView(M,s,{zoom:i})},_getBoundsCenterZoom:function(e,s){s=s||{},e=e.getBounds?e.getBounds():X(e);var i=q(s.paddingTopLeft||s.padding||[0,0]),c=q(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(e,!1,i.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:e.getCenter(),zoom:f};var v=c.subtract(i).divideBy(2),N=this.project(e.getSouthWest(),f),M=this.project(e.getNorthEast(),f),O=this.unproject(N.add(M).divideBy(2).add(v),f);return{center:O,zoom:f}},fitBounds:function(e,s){if(e=X(e),!e.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(e,s);return this.setView(i.center,i.zoom,s)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,s){return this.setView(e,this._zoom,{pan:s})},panBy:function(e,s){if(e=q(e).round(),s=s||{},!e.x&&!e.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Ne(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,i,s.duration||.25,s.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,s,i){if(i=i||{},i.animate===!1||!oe.any3d)return this.setView(e,s,i);this._stop();var c=this.project(this.getCenter()),f=this.project(e),v=this.getSize(),N=this._zoom;e=Y(e),s=s===void 0?N:s;var M=Math.max(v.x,v.y),O=M*this.getZoomScale(N,s),U=f.distanceTo(c)||1,ie=1.42,ve=ie*ie;function Te(nt){var Er=nt?-1:1,If=nt?O:M,Of=O*O-M*M+Er*ve*ve*U*U,Df=2*If*ve*U,Qa=Of/Df,_l=Math.sqrt(Qa*Qa+1)-Qa,zf=_l<1e-9?-18:Math.log(_l);return zf}function pt(nt){return(Math.exp(nt)-Math.exp(-nt))/2}function dt(nt){return(Math.exp(nt)+Math.exp(-nt))/2}function At(nt){return pt(nt)/dt(nt)}var vt=Te(0);function cs(nt){return M*(dt(vt)/dt(vt+ie*nt))}function Mf(nt){return M*(dt(vt)*At(vt+ie*nt)-pt(vt))/ve}function Lf(nt){return 1-Math.pow(1-nt,1.5)}var Af=Date.now(),bl=(Te(1)-vt)/ie,Rf=i.duration?1e3*i.duration:1e3*bl*.8;function wl(){var nt=(Date.now()-Af)/Rf,Er=Lf(nt)*bl;nt<=1?(this._flyToFrame=F(wl,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(Mf(Er)/U)),N),this.getScaleZoom(M/cs(Er),N),{flyTo:!0})):this._move(e,s)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),wl.call(this),this},flyToBounds:function(e,s){var i=this._getBoundsCenterZoom(e,s);return this.flyTo(i.center,i.zoom,s)},setMaxBounds:function(e){return e=X(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var s=this.options.minZoom;return this.options.minZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var s=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,s){this._enforcingBounds=!0;var i=this.getCenter(),c=this._limitCenter(i,this._zoom,X(e));return i.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(e,s){s=s||{};var i=q(s.paddingTopLeft||s.padding||[0,0]),c=q(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),v=this.project(e),N=this.getPixelBounds(),M=ye([N.min.add(i),N.max.subtract(c)]),O=M.getSize();if(!M.contains(v)){this._enforcingBounds=!0;var U=v.subtract(M.getCenter()),ie=M.extend(v).getSize().subtract(O);f.x+=U.x<0?-ie.x:ie.x,f.y+=U.y<0?-ie.y:ie.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=l({animate:!1,pan:!0},e===!0?{animate:!0}:e);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),c=s.divideBy(2).round(),f=i.divideBy(2).round(),v=c.subtract(f);return!v.x&&!v.y?this:(e.animate&&e.pan?this.panBy(v):(e.pan&&this._rawPanBy(v),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:i}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=l({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),i=u(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,i,e):navigator.geolocation.getCurrentPosition(s,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var s=e.code,i=e.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var s=e.coords.latitude,i=e.coords.longitude,c=new J(s,i),f=c.toBounds(e.coords.accuracy*2),v=this._locateOptions;if(v.setView){var N=this.getBoundsZoom(f);this.setView(c,v.maxZoom?Math.min(N,v.maxZoom):N)}var M={latlng:c,bounds:f,timestamp:e.timestamp};for(var O in e.coords)typeof e.coords[O]=="number"&&(M[O]=e.coords[O]);this.fire("locationfound",M)}},addHandler:function(e,s){if(!s)return this;var i=this[e]=new s(this);return this._handlers.push(i),this.options[e]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ge(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Ge(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,s){var i="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),c=De("div",i,s||this._mapPane);return e&&(this._panes[e]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),s=this.unproject(e.getBottomLeft()),i=this.unproject(e.getTopRight());return new E(s,i)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,s,i){e=X(e),i=q(i||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),v=this.getMaxZoom(),N=e.getNorthWest(),M=e.getSouthEast(),O=this.getSize().subtract(i),U=ye(this.project(M,c),this.project(N,c)).getSize(),ie=oe.any3d?this.options.zoomSnap:1,ve=O.x/U.x,Te=O.y/U.y,pt=s?Math.max(ve,Te):Math.min(ve,Te);return c=this.getScaleZoom(pt,c),ie&&(c=Math.round(c/(ie/100))*(ie/100),c=s?Math.ceil(c/ie)*ie:Math.floor(c/ie)*ie),Math.max(f,Math.min(v,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,s){var i=this._getTopLeftPoint(e,s);return new ue(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,s){var i=this.options.crs;return s=s===void 0?this._zoom:s,i.scale(e)/i.scale(s)},getScaleZoom:function(e,s){var i=this.options.crs;s=s===void 0?this._zoom:s;var c=i.zoom(e*i.scale(s));return isNaN(c)?1/0:c},project:function(e,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(Y(e),s)},unproject:function(e,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(q(e),s)},layerPointToLatLng:function(e){var s=q(e).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(e){var s=this.project(Y(e))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(Y(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(X(e))},distance:function(e,s){return this.options.crs.distance(Y(e),Y(s))},containerPointToLayerPoint:function(e){return q(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return q(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var s=this.containerPointToLayerPoint(q(e));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Y(e)))},mouseEventToContainerPoint:function(e){return Fo(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var s=this._container=Oo(e);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");_e(s,"scroll",this._onScroll,this),this._containerId=g(s)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&oe.any3d,Ne(e,"leaflet-container"+(oe.touch?" leaflet-touch":"")+(oe.retina?" leaflet-retina":"")+(oe.ielt9?" leaflet-oldie":"")+(oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=ks(e,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),tt(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ne(e.markerPane,"leaflet-zoom-hide"),Ne(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,s,i){tt(this._mapPane,new I(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,i)._move(e,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(e,s){return e&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(e,s,i,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),c?i&&i.pinch&&this.fire("zoom",i):((f||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){tt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[g(this._container)]=this;var s=e?Ye:_e;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),oe.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,s){for(var i=[],c,f=s==="mouseout"||s==="mouseover",v=e.target||e.srcElement,N=!1;v;){if(c=this._targets[g(v)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){N=!0;break}if(c&&c.listens(s,!0)&&(f&&!Va(v,e)||(i.push(c),f))||v===this._container)break;v=v.parentNode}return!i.length&&!N&&!f&&this.listens(s,!0)&&(i=[this]),i},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var s=e.target||e.srcElement;if(!(!this._loaded||s._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(s))){var i=e.type;i==="mousedown"&&Oa(s),this._fireDOMEvent(e,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,s,i){if(e.type==="click"){var c=l({},e);c.type="preclick",this._fireDOMEvent(c,c.type,i)}var f=this._findEventTargets(e,s);if(i){for(var v=[],N=0;N<i.length;N++)i[N].listens(s,!0)&&v.push(i[N]);f=v.concat(f)}if(f.length){s==="contextmenu"&&ht(e);var M=f[0],O={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var U=M.getLatLng&&(!M._radius||M._radius<=10);O.containerPoint=U?this.latLngToContainerPoint(M.getLatLng()):this.mouseEventToContainerPoint(e),O.layerPoint=this.containerPointToLayerPoint(O.containerPoint),O.latlng=U?M.getLatLng():this.layerPointToLatLng(O.layerPoint)}for(N=0;N<f.length;N++)if(f[N].fire(s,O,!0),O.originalEvent._stopped||f[N].options.bubblingMouseEvents===!1&&z(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,s=this._handlers.length;e<s;e++)this._handlers[e].disable()},whenReady:function(e,s){return this._loaded?e.call(s||this,{target:this}):this.on("load",e,s),this},_getMapPanePos:function(){return An(this._mapPane)||new I(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,s){var i=e&&s!==void 0?this._getNewPixelOrigin(e,s):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,s){var i=this.getSize()._divideBy(2);return this.project(e,s)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,s,i){var c=this._getNewPixelOrigin(i,s);return this.project(e,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(e,s,i){var c=this._getNewPixelOrigin(i,s);return ye([this.project(e.getSouthWest(),s)._subtract(c),this.project(e.getNorthWest(),s)._subtract(c),this.project(e.getSouthEast(),s)._subtract(c),this.project(e.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,s,i){if(!i)return e;var c=this.project(e,s),f=this.getSize().divideBy(2),v=new ue(c.subtract(f),c.add(f)),N=this._getBoundsOffset(v,i,s);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?e:this.unproject(c.add(N),s)},_limitOffset:function(e,s){if(!s)return e;var i=this.getPixelBounds(),c=new ue(i.min.add(e),i.max.add(e));return e.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(e,s,i){var c=ye(this.project(s.getNorthEast(),i),this.project(s.getSouthWest(),i)),f=c.min.subtract(e.min),v=c.max.subtract(e.max),N=this._rebound(f.x,-v.x),M=this._rebound(f.y,-v.y);return new I(N,M)},_rebound:function(e,s){return e+s>0?Math.round(e-s)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(s))},_limitZoom:function(e){var s=this.getMinZoom(),i=this.getMaxZoom(),c=oe.any3d?this.options.zoomSnap:1;return c&&(e=Math.round(e/c)*c),Math.max(s,Math.min(i,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Qe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,s){var i=this._getCenterOffset(e)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(i)?!1:(this.panBy(i,s),!0)},_createAnimProxy:function(){var e=this._proxy=De("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(s){var i=Ta,c=this._proxy.style[i];Ln(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ge(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),s=this.getZoom();Ln(this._proxy,this.project(e,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,s,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(e)._divideBy(1-1/c);return i.animate!==!0&&!this.getSize().contains(f)?!1:(F(function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(e,s,!0)},this),!0)},_animateZoom:function(e,s,i,c){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=s,Ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Qe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Um(e,s){return new Oe(e,s)}var Ht=D.extend({options:{position:"topright"},initialize:function(e){j(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var s=this._map;return s&&s.removeControl(this),this.options.position=e,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var s=this._container=this.onAdd(e),i=this.getPosition(),c=e._controlCorners[i];return Ne(s,"leaflet-control"),i.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ge(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Es=function(e){return new Ht(e)};Oe.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},s="leaflet-",i=this._controlContainer=De("div",s+"control-container",this._container);function c(f,v){var N=s+f+" "+s+v;e[f+v]=De("div",N,i)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Ge(this._controlCorners[e]);Ge(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $o=Ht.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,s,i,c){return i<c?-1:c<i?1:0}},initialize:function(e,s,i){j(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in e)this._addLayer(e[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Ht.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,s){return this._addLayer(e,s),this._map?this._update():this},addOverlay:function(e,s){return this._addLayer(e,s,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var s=this._getLayer(g(e));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(Ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Qe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Qe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",s=this._container=De("div",e),i=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Ts(s),Ha(s);var c=this._section=De("section",e+"-list");i&&(this._map.on("click",this.collapse,this),_e(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=De("a",e+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),_e(f,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){ht(v),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=De("div",e+"-base",c),this._separator=De("div",e+"-separator",c),this._overlaysList=De("div",e+"-overlays",c),s.appendChild(c)},_getLayer:function(e){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&g(this._layers[s].layer)===e)return this._layers[s]},_addLayer:function(e,s,i){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:s,overlay:i}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fr(this._baseLayersList),fr(this._overlaysList),this._layerControlInputs=[];var e,s,i,c,f=0;for(i=0;i<this._layers.length;i++)c=this._layers[i],this._addItem(c),s=s||c.overlay,e=e||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(e=e&&f>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=s&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var s=this._getLayer(g(e.target)),i=s.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;i&&this._map.fire(i,s)},_createRadioElement:function(e,s){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=i,c.firstChild},_addItem:function(e){var s=document.createElement("label"),i=this._map.hasLayer(e.layer),c;e.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=i):c=this._createRadioElement("leaflet-base-layers_"+g(this),i),this._layerControlInputs.push(c),c.layerId=g(e.layer),_e(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+e.name;var v=document.createElement("span");s.appendChild(v),v.appendChild(c),v.appendChild(f);var N=e.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,s,i,c=[],f=[];this._handlingClick=!0;for(var v=e.length-1;v>=0;v--)s=e[v],i=this._getLayer(s.layerId).layer,s.checked?c.push(i):s.checked||f.push(i);for(v=0;v<f.length;v++)this._map.hasLayer(f[v])&&this._map.removeLayer(f[v]);for(v=0;v<c.length;v++)this._map.hasLayer(c[v])||this._map.addLayer(c[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,s,i,c=this._map.getZoom(),f=e.length-1;f>=0;f--)s=e[f],i=this._getLayer(s.layerId).layer,s.disabled=i.options.minZoom!==void 0&&c<i.options.minZoom||i.options.maxZoom!==void 0&&c>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,_e(e,"click",ht),this.expand();var s=this;setTimeout(function(){Ye(e,"click",ht),s._preventClick=!1})}}),Ym=function(e,s,i){return new $o(e,s,i)},$a=Ht.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var s="leaflet-control-zoom",i=De("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",i,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,s,i,c,f){var v=De("a",i,c);return v.innerHTML=e,v.href="#",v.title=s,v.setAttribute("role","button"),v.setAttribute("aria-label",s),Ts(v),_e(v,"click",In),_e(v,"click",f,this),_e(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var e=this._map,s="leaflet-disabled";Qe(this._zoomInButton,s),Qe(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(Ne(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(Ne(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Oe.mergeOptions({zoomControl:!0}),Oe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $a,this.addControl(this.zoomControl))});var Km=function(e){return new $a(e)},Wo=Ht.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var s="leaflet-control-scale",i=De("div",s),c=this.options;return this._addScales(c,s+"-line",i),e.on(c.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),i},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,s,i){e.metric&&(this._mScale=De("div",s,i)),e.imperial&&(this._iScale=De("div",s,i))},_update:function(){var e=this._map,s=e.getSize().y/2,i=e.distance(e.containerPointToLatLng([0,s]),e.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(i)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var s=this._getRoundNum(e),i=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,i,s/e)},_updateImperial:function(e){var s=e*3.2808399,i,c,f;s>5280?(i=s/5280,c=this._getRoundNum(i),this._updateScale(this._iScale,c+" mi",c/i)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(e,s,i){e.style.width=Math.round(this.options.maxWidth*i)+"px",e.innerHTML=s},_getRoundNum:function(e){var s=Math.pow(10,(Math.floor(e)+"").length-1),i=e/s;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,s*i}}),Gm=function(e){return new Wo(e)},Xm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Wa=Ht.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(oe.inlineSvg?Xm+" ":"")+"Leaflet</a>"},initialize:function(e){j(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=De("div","leaflet-control-attribution"),Ts(this._container);for(var s in e._layers)e._layers[s].getAttribution&&this.addAttribution(e._layers[s].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var s in this._attributions)this._attributions[s]&&e.push(s);var i=[];this.options.prefix&&i.push(this.options.prefix),e.length&&i.push(e.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});Oe.mergeOptions({attributionControl:!0}),Oe.addInitHook(function(){this.options.attributionControl&&new Wa().addTo(this)});var Jm=function(e){return new Wa(e)};Ht.Layers=$o,Ht.Zoom=$a,Ht.Scale=Wo,Ht.Attribution=Wa,Es.layers=Ym,Es.zoom=Km,Es.scale=Gm,Es.attribution=Jm;var Ut=D.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ut.addTo=function(e,s){return e.addHandler(s,this),this};var Qm={Events:Z},Zo=oe.touch?"touchstart mousedown":"mousedown",hn=te.extend({options:{clickTolerance:3},initialize:function(e,s,i,c){j(this,c),this._element=e,this._dragStartTarget=s||e,this._preventOutline=i},enable:function(){this._enabled||(_e(this._dragStartTarget,Zo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(hn._dragging===this&&this.finishDrag(!0),Ye(this._dragStartTarget,Zo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Ea(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){hn._dragging===this&&this.finishDrag();return}if(!(hn._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(hn._dragging=this,this._preventOutline&&Oa(this._element),Aa(),Ss(),!this._moving)){this.fire("down");var s=e.touches?e.touches[0]:e,i=Do(this._element);this._startPoint=new I(s.clientX,s.clientY),this._startPos=An(this._element),this._parentScale=Da(i);var c=e.type==="mousedown";_e(document,c?"mousemove":"touchmove",this._onMove,this),_e(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var s=e.touches&&e.touches.length===1?e.touches[0]:e,i=new I(s.clientX,s.clientY)._subtract(this._startPoint);!i.x&&!i.y||Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,ht(e),this._moved||(this.fire("dragstart"),this._moved=!0,Ne(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),tt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Qe(document.body,"leaflet-dragging"),this._lastTarget&&(Qe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ye(document,"mousemove touchmove",this._onMove,this),Ye(document,"mouseup touchend touchcancel",this._onUp,this),Ra(),Ps();var s=this._moved&&this._moving;this._moving=!1,hn._dragging=!1,s&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function qo(e,s,i){var c,f=[1,4,2,8],v,N,M,O,U,ie,ve,Te;for(v=0,ie=e.length;v<ie;v++)e[v]._code=On(e[v],s);for(M=0;M<4;M++){for(ve=f[M],c=[],v=0,ie=e.length,N=ie-1;v<ie;N=v++)O=e[v],U=e[N],O._code&ve?U._code&ve||(Te=yr(U,O,ve,s,i),Te._code=On(Te,s),c.push(Te)):(U._code&ve&&(Te=yr(U,O,ve,s,i),Te._code=On(Te,s),c.push(Te)),c.push(O));e=c}return e}function Uo(e,s){var i,c,f,v,N,M,O,U,ie;if(!e||e.length===0)throw new Error("latlngs not passed");Lt(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var ve=Y([0,0]),Te=X(e),pt=Te.getNorthWest().distanceTo(Te.getSouthWest())*Te.getNorthEast().distanceTo(Te.getNorthWest());pt<1700&&(ve=Za(e));var dt=e.length,At=[];for(i=0;i<dt;i++){var vt=Y(e[i]);At.push(s.project(Y([vt.lat-ve.lat,vt.lng-ve.lng])))}for(M=O=U=0,i=0,c=dt-1;i<dt;c=i++)f=At[i],v=At[c],N=f.y*v.x-v.y*f.x,O+=(f.x+v.x)*N,U+=(f.y+v.y)*N,M+=N*3;M===0?ie=At[0]:ie=[O/M,U/M];var cs=s.unproject(q(ie));return Y([cs.lat+ve.lat,cs.lng+ve.lng])}function Za(e){for(var s=0,i=0,c=0,f=0;f<e.length;f++){var v=Y(e[f]);s+=v.lat,i+=v.lng,c++}return Y([s/c,i/c])}var ef={__proto__:null,clipPolygon:qo,polygonCenter:Uo,centroid:Za};function Yo(e,s){if(!s||!e.length)return e.slice();var i=s*s;return e=sf(e,i),e=nf(e,i),e}function Ko(e,s,i){return Math.sqrt(Ms(e,s,i,!0))}function tf(e,s,i){return Ms(e,s,i)}function nf(e,s){var i=e.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(i);f[0]=f[i-1]=1,qa(e,f,s,0,i-1);var v,N=[];for(v=0;v<i;v++)f[v]&&N.push(e[v]);return N}function qa(e,s,i,c,f){var v=0,N,M,O;for(M=c+1;M<=f-1;M++)O=Ms(e[M],e[c],e[f],!0),O>v&&(N=M,v=O);v>i&&(s[N]=1,qa(e,s,i,c,N),qa(e,s,i,N,f))}function sf(e,s){for(var i=[e[0]],c=1,f=0,v=e.length;c<v;c++)rf(e[c],e[f])>s&&(i.push(e[c]),f=c);return f<v-1&&i.push(e[v-1]),i}var Go;function Xo(e,s,i,c,f){var v=c?Go:On(e,i),N=On(s,i),M,O,U;for(Go=N;;){if(!(v|N))return[e,s];if(v&N)return!1;M=v||N,O=yr(e,s,M,i,f),U=On(O,i),M===v?(e=O,v=U):(s=O,N=U)}}function yr(e,s,i,c,f){var v=s.x-e.x,N=s.y-e.y,M=c.min,O=c.max,U,ie;return i&8?(U=e.x+v*(O.y-e.y)/N,ie=O.y):i&4?(U=e.x+v*(M.y-e.y)/N,ie=M.y):i&2?(U=O.x,ie=e.y+N*(O.x-e.x)/v):i&1&&(U=M.x,ie=e.y+N*(M.x-e.x)/v),new I(U,ie,f)}function On(e,s){var i=0;return e.x<s.min.x?i|=1:e.x>s.max.x&&(i|=2),e.y<s.min.y?i|=4:e.y>s.max.y&&(i|=8),i}function rf(e,s){var i=s.x-e.x,c=s.y-e.y;return i*i+c*c}function Ms(e,s,i,c){var f=s.x,v=s.y,N=i.x-f,M=i.y-v,O=N*N+M*M,U;return O>0&&(U=((e.x-f)*N+(e.y-v)*M)/O,U>1?(f=i.x,v=i.y):U>0&&(f+=N*U,v+=M*U)),N=e.x-f,M=e.y-v,c?N*N+M*M:new I(f,v)}function Lt(e){return!P(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Jo(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Lt(e)}function Qo(e,s){var i,c,f,v,N,M,O,U;if(!e||e.length===0)throw new Error("latlngs not passed");Lt(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var ie=Y([0,0]),ve=X(e),Te=ve.getNorthWest().distanceTo(ve.getSouthWest())*ve.getNorthEast().distanceTo(ve.getNorthWest());Te<1700&&(ie=Za(e));var pt=e.length,dt=[];for(i=0;i<pt;i++){var At=Y(e[i]);dt.push(s.project(Y([At.lat-ie.lat,At.lng-ie.lng])))}for(i=0,c=0;i<pt-1;i++)c+=dt[i].distanceTo(dt[i+1])/2;if(c===0)U=dt[0];else for(i=0,v=0;i<pt-1;i++)if(N=dt[i],M=dt[i+1],f=N.distanceTo(M),v+=f,v>c){O=(v-c)/f,U=[M.x-O*(M.x-N.x),M.y-O*(M.y-N.y)];break}var vt=s.unproject(q(U));return Y([vt.lat+ie.lat,vt.lng+ie.lng])}var af={__proto__:null,simplify:Yo,pointToSegmentDistance:Ko,closestPointOnSegment:tf,clipSegment:Xo,_getEdgeIntersection:yr,_getBitCode:On,_sqClosestPointOnSegment:Ms,isFlat:Lt,_flat:Jo,polylineCenter:Qo},Ua={project:function(e){return new I(e.lng,e.lat)},unproject:function(e){return new J(e.y,e.x)},bounds:new ue([-180,-90],[180,90])},Ya={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var s=Math.PI/180,i=this.R,c=e.lat*s,f=this.R_MINOR/i,v=Math.sqrt(1-f*f),N=v*Math.sin(c),M=Math.tan(Math.PI/4-c/2)/Math.pow((1-N)/(1+N),v/2);return c=-i*Math.log(Math.max(M,1e-10)),new I(e.lng*s*i,c)},unproject:function(e){for(var s=180/Math.PI,i=this.R,c=this.R_MINOR/i,f=Math.sqrt(1-c*c),v=Math.exp(-e.y/i),N=Math.PI/2-2*Math.atan(v),M=0,O=.1,U;M<15&&Math.abs(O)>1e-7;M++)U=f*Math.sin(N),U=Math.pow((1-U)/(1+U),f/2),O=Math.PI/2-2*Math.atan(v*U)-N,N+=O;return new J(N*s,e.x*s/i)}},of={__proto__:null,LonLat:Ua,Mercator:Ya,SphericalMercator:pe},lf=l({},ne,{code:"EPSG:3395",projection:Ya,transformation:(function(){var e=.5/(Math.PI*Ya.R);return xe(e,.5,-e,.5)})()}),el=l({},ne,{code:"EPSG:4326",projection:Ua,transformation:xe(1/180,1,-1/180,.5)}),cf=l({},$,{projection:Ua,transformation:xe(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,s){var i=s.lng-e.lng,c=s.lat-e.lat;return Math.sqrt(i*i+c*c)},infinite:!0});$.Earth=ne,$.EPSG3395=lf,$.EPSG3857=je,$.EPSG900913=se,$.EPSG4326=el,$.Simple=cf;var Vt=te.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[g(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[g(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var s=e.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var i=this.getEvents();s.on(i,this),this.once("remove",function(){s.off(i,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Oe.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var s=g(e);return this._layers[s]?this:(this._layers[s]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var s=g(e);return this._layers[s]?(this._loaded&&e.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return g(e)in this._layers},eachLayer:function(e,s){for(var i in this._layers)e.call(s,this._layers[i]);return this},_addLayers:function(e){e=e?P(e)?e:[e]:[];for(var s=0,i=e.length;s<i;s++)this.addLayer(e[s])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[g(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var s=g(e);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,s=-1/0,i=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;e=f.minZoom===void 0?e:Math.min(e,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=e===1/0?void 0:e,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var rs=Vt.extend({initialize:function(e,s){j(this,s),this._layers={};var i,c;if(e)for(i=0,c=e.length;i<c;i++)this.addLayer(e[i])},addLayer:function(e){var s=this.getLayerId(e);return this._layers[s]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var s=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(e){var s=typeof e=="number"?e:this.getLayerId(e);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var s=Array.prototype.slice.call(arguments,1),i,c;for(i in this._layers)c=this._layers[i],c[e]&&c[e].apply(c,s);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,s){for(var i in this._layers)e.call(s,this._layers[i]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return g(e)}}),df=function(e,s){return new rs(e,s)},Qt=rs.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),rs.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),rs.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new E;for(var s in this._layers){var i=this._layers[s];e.extend(i.getBounds?i.getBounds():i.getLatLng())}return e}}),uf=function(e,s){return new Qt(e,s)},as=D.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){j(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,s){var i=this._getIconUrl(e);if(!i){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(i,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(e,s){var i=this.options,c=i[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=q(c),v=q(s==="shadow"&&i.shadowAnchor||i.iconAnchor||f&&f.divideBy(2,!0));e.className="leaflet-marker-"+s+" "+(i.className||""),v&&(e.style.marginLeft=-v.x+"px",e.style.marginTop=-v.y+"px"),f&&(e.style.width=f.x+"px",e.style.height=f.y+"px")},_createImg:function(e,s){return s=s||document.createElement("img"),s.src=e,s},_getIconUrl:function(e){return oe.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function hf(e){return new as(e)}var Ls=as.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Ls.imagePath!="string"&&(Ls.imagePath=this._detectIconPath()),(this.options.imagePath||Ls.imagePath)+as.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var s=function(i,c,f){var v=c.exec(i);return v&&v[f]};return e=s(e,/^url\((['"])?(.+)\1\)$/,2),e&&s(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=De("div","leaflet-default-icon-path",document.body),s=ks(e,"background-image")||ks(e,"backgroundImage");if(document.body.removeChild(e),s=this._stripUrl(s),s)return s;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),tl=Ut.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new hn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ne(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Qe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var s=this._marker,i=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,v=An(s._icon),N=i.getPixelBounds(),M=i.getPixelOrigin(),O=ye(N.min._subtract(M).add(f),N.max._subtract(M).subtract(f));if(!O.contains(v)){var U=q((Math.max(O.max.x,v.x)-O.max.x)/(N.max.x-O.max.x)-(Math.min(O.min.x,v.x)-O.min.x)/(N.min.x-O.min.x),(Math.max(O.max.y,v.y)-O.max.y)/(N.max.y-O.max.y)-(Math.min(O.min.y,v.y)-O.min.y)/(N.min.y-O.min.y)).multiplyBy(c);i.panBy(U,{animate:!1}),this._draggable._newPos._add(U),this._draggable._startPos._add(U),tt(s._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=F(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,e)))},_onDrag:function(e){var s=this._marker,i=s._shadow,c=An(s._icon),f=s._map.layerPointToLatLng(c);i&&tt(i,c),s._latlng=f,e.latlng=f,e.oldLatLng=this._oldLatLng,s.fire("move",e).fire("drag",e)},_onDragEnd:function(e){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),br=Vt.extend({options:{icon:new Ls,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,s){j(this,s),this._latlng=Y(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var s=this._latlng;return this._latlng=Y(e),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=e.icon.createIcon(this._icon),c=!1;i!==this._icon&&(this._icon&&this._removeIcon(),c=!0,e.title&&(i.title=e.title),i.tagName==="IMG"&&(i.alt=e.alt||"")),Ne(i,s),e.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(i,"focus",this._panOnFocus,this);var f=e.icon.createShadow(this._shadow),v=!1;f!==this._shadow&&(this._removeShadow(),v=!0),f&&(Ne(f,s),f.alt=""),this._shadow=f,e.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&v&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ye(this._icon,"focus",this._panOnFocus,this),Ge(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ge(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&tt(this._icon,e),this._shadow&&tt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tl)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tl(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Mt(this._icon,e),this._shadow&&Mt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var s=this.options.icon.options,i=s.iconSize?q(s.iconSize):q(0,0),c=s.iconAnchor?q(s.iconAnchor):q(0,0);e.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:i.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function mf(e,s){return new br(e,s)}var mn=Vt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return j(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wr=mn.extend({options:{fill:!0,radius:10},initialize:function(e,s){j(this,s),this._latlng=Y(e),this._radius=this.options.radius},setLatLng:function(e){var s=this._latlng;return this._latlng=Y(e),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var s=e&&e.radius||this._radius;return mn.prototype.setStyle.call(this,e),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,s=this._radiusY||e,i=this._clickTolerance(),c=[e+i,s+i];this._pxBounds=new ue(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ff(e,s){return new wr(e,s)}var Ka=wr.extend({initialize:function(e,s,i){if(typeof s=="number"&&(s=l({},i,{radius:s})),j(this,s),this._latlng=Y(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new E(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:mn.prototype.setStyle,_project:function(){var e=this._latlng.lng,s=this._latlng.lat,i=this._map,c=i.options.crs;if(c.distance===ne.distance){var f=Math.PI/180,v=this._mRadius/ne.R/f,N=i.project([s+v,e]),M=i.project([s-v,e]),O=N.add(M).divideBy(2),U=i.unproject(O).lat,ie=Math.acos((Math.cos(v*f)-Math.sin(s*f)*Math.sin(U*f))/(Math.cos(s*f)*Math.cos(U*f)))/f;(isNaN(ie)||ie===0)&&(ie=v/Math.cos(Math.PI/180*s)),this._point=O.subtract(i.getPixelOrigin()),this._radius=isNaN(ie)?0:O.x-i.project([U,e-ie]).x,this._radiusY=O.y-N.y}else{var ve=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(ve).x}this._updateBounds()}});function pf(e,s,i){return new Ka(e,s,i)}var en=mn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,s){j(this,s),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var s=1/0,i=null,c=Ms,f,v,N=0,M=this._parts.length;N<M;N++)for(var O=this._parts[N],U=1,ie=O.length;U<ie;U++){f=O[U-1],v=O[U];var ve=c(e,f,v,!0);ve<s&&(s=ve,i=c(e,f,v))}return i&&(i.distance=Math.sqrt(s)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,s){return s=s||this._defaultShape(),e=Y(e),s.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new E,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Lt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var s=[],i=Lt(e),c=0,f=e.length;c<f;c++)i?(s[c]=Y(e[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(e[c]);return s},_project:function(){var e=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),s=new I(e,e);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(e,s,i){var c=e[0]instanceof J,f=e.length,v,N;if(c){for(N=[],v=0;v<f;v++)N[v]=this._map.latLngToLayerPoint(e[v]),i.extend(N[v]);s.push(N)}else for(v=0;v<f;v++)this._projectLatlngs(e[v],s,i)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,i,c,f,v,N,M,O;for(i=0,f=0,v=this._rings.length;i<v;i++)for(O=this._rings[i],c=0,N=O.length;c<N-1;c++)M=Xo(O[c],O[c+1],e,c,!0),M&&(s[f]=s[f]||[],s[f].push(M[0]),(M[1]!==O[c+1]||c===N-2)&&(s[f].push(M[1]),f++))}},_simplifyPoints:function(){for(var e=this._parts,s=this.options.smoothFactor,i=0,c=e.length;i<c;i++)e[i]=Yo(e[i],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,s){var i,c,f,v,N,M,O=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,v=this._parts.length;i<v;i++)for(M=this._parts[i],c=0,N=M.length,f=N-1;c<N;f=c++)if(!(!s&&c===0)&&Ko(e,M[f],M[c])<=O)return!0;return!1}});function gf(e,s){return new en(e,s)}en._flat=Jo;var is=en.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Uo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var s=en.prototype._convertLatLngs.call(this,e),i=s.length;return i>=2&&s[0]instanceof J&&s[0].equals(s[i-1])&&s.pop(),s},_setLatLngs:function(e){en.prototype._setLatLngs.call(this,e),Lt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Lt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,s=this.options.weight,i=new I(s,s);if(e=new ue(e.min.subtract(i),e.max.add(i)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,v;c<f;c++)v=qo(this._rings[c],e,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var s=!1,i,c,f,v,N,M,O,U;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(v=0,O=this._parts.length;v<O;v++)for(i=this._parts[v],N=0,U=i.length,M=U-1;N<U;M=N++)c=i[N],f=i[M],c.y>e.y!=f.y>e.y&&e.x<(f.x-c.x)*(e.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||en.prototype._containsPoint.call(this,e,!0)}});function xf(e,s){return new is(e,s)}var tn=Qt.extend({initialize:function(e,s){j(this,s),this._layers={},e&&this.addData(e)},addData:function(e){var s=P(e)?e:e.features,i,c,f;if(s){for(i=0,c=s.length;i<c;i++)f=s[i],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var v=this.options;if(v.filter&&!v.filter(e))return this;var N=_r(e,v);return N?(N.feature=kr(e),N.defaultOptions=N.options,this.resetStyle(N),v.onEachFeature&&v.onEachFeature(e,N),this.addLayer(N)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=l({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(s){this._setLayerStyle(s,e)},this)},_setLayerStyle:function(e,s){e.setStyle&&(typeof s=="function"&&(s=s(e.feature)),e.setStyle(s))}});function _r(e,s){var i=e.type==="Feature"?e.geometry:e,c=i?i.coordinates:null,f=[],v=s&&s.pointToLayer,N=s&&s.coordsToLatLng||Ga,M,O,U,ie;if(!c&&!i)return null;switch(i.type){case"Point":return M=N(c),nl(v,e,M,s);case"MultiPoint":for(U=0,ie=c.length;U<ie;U++)M=N(c[U]),f.push(nl(v,e,M,s));return new Qt(f);case"LineString":case"MultiLineString":return O=jr(c,i.type==="LineString"?0:1,N),new en(O,s);case"Polygon":case"MultiPolygon":return O=jr(c,i.type==="Polygon"?1:2,N),new is(O,s);case"GeometryCollection":for(U=0,ie=i.geometries.length;U<ie;U++){var ve=_r({geometry:i.geometries[U],type:"Feature",properties:e.properties},s);ve&&f.push(ve)}return new Qt(f);case"FeatureCollection":for(U=0,ie=i.features.length;U<ie;U++){var Te=_r(i.features[U],s);Te&&f.push(Te)}return new Qt(f);default:throw new Error("Invalid GeoJSON object.")}}function nl(e,s,i,c){return e?e(s,i):new br(i,c&&c.markersInheritOptions&&c)}function Ga(e){return new J(e[1],e[0],e[2])}function jr(e,s,i){for(var c=[],f=0,v=e.length,N;f<v;f++)N=s?jr(e[f],s-1,i):(i||Ga)(e[f]),c.push(N);return c}function Xa(e,s){return e=Y(e),e.alt!==void 0?[b(e.lng,s),b(e.lat,s),b(e.alt,s)]:[b(e.lng,s),b(e.lat,s)]}function Nr(e,s,i,c){for(var f=[],v=0,N=e.length;v<N;v++)f.push(s?Nr(e[v],Lt(e[v])?0:s-1,i,c):Xa(e[v],c));return!s&&i&&f.length>0&&f.push(f[0].slice()),f}function os(e,s){return e.feature?l({},e.feature,{geometry:s}):kr(s)}function kr(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Ja={toGeoJSON:function(e){return os(this,{type:"Point",coordinates:Xa(this.getLatLng(),e)})}};br.include(Ja),Ka.include(Ja),wr.include(Ja),en.include({toGeoJSON:function(e){var s=!Lt(this._latlngs),i=Nr(this._latlngs,s?1:0,!1,e);return os(this,{type:(s?"Multi":"")+"LineString",coordinates:i})}}),is.include({toGeoJSON:function(e){var s=!Lt(this._latlngs),i=s&&!Lt(this._latlngs[0]),c=Nr(this._latlngs,i?2:s?1:0,!0,e);return s||(c=[c]),os(this,{type:(i?"Multi":"")+"Polygon",coordinates:c})}}),rs.include({toMultiPoint:function(e){var s=[];return this.eachLayer(function(i){s.push(i.toGeoJSON(e).geometry.coordinates)}),os(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(e){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(e);var i=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var v=f.toGeoJSON(e);if(i)c.push(v.geometry);else{var N=kr(v);N.type==="FeatureCollection"?c.push.apply(c,N.features):c.push(N)}}}),i?os(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function sl(e,s){return new tn(e,s)}var vf=sl,Sr=Vt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,s,i){this._url=e,this._bounds=X(s),j(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ge(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&ns(this._image),this},bringToBack:function(){return this._map&&ss(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=X(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",s=this._image=e?this._url:De("img");if(Ne(s,"leaflet-image-layer"),this._zoomAnimated&&Ne(s,"leaflet-zoom-animated"),this.options.className&&Ne(s,this.options.className),s.onselectstart=h,s.onmousemove=h,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(e){var s=this._map.getZoomScale(e.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Ln(this._image,i,s)},_reset:function(){var e=this._image,s=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=s.getSize();tt(e,s.min),e.style.width=i.x+"px",e.style.height=i.y+"px"},_updateOpacity:function(){Mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),yf=function(e,s,i){return new Sr(e,s,i)},rl=Sr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",s=this._image=e?this._url:De("video");if(Ne(s,"leaflet-image-layer"),this._zoomAnimated&&Ne(s,"leaflet-zoom-animated"),this.options.className&&Ne(s,this.options.className),s.onselectstart=h,s.onmousemove=h,s.onloadeddata=u(this.fire,this,"load"),e){for(var i=s.getElementsByTagName("source"),c=[],f=0;f<i.length;f++)c.push(i[f].src);this._url=i.length>0?c:[s.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var N=De("source");N.src=this._url[v],s.appendChild(N)}}});function bf(e,s,i){return new rl(e,s,i)}var al=Sr.extend({_initImage:function(){var e=this._image=this._url;Ne(e,"leaflet-image-layer"),this._zoomAnimated&&Ne(e,"leaflet-zoom-animated"),this.options.className&&Ne(e,this.options.className),e.onselectstart=h,e.onmousemove=h}});function wf(e,s,i){return new al(e,s,i)}var Yt=Vt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,s){e&&(e instanceof J||P(e))?(this._latlng=Y(e),j(this,s)):(j(this,e),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Mt(this._container,1),this.bringToFront(),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Mt(this._container,0),this._removeTimeout=setTimeout(u(Ge,void 0,this._container),200)):Ge(this._container),this.options.interactive&&(Qe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=Y(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ns(this._container),this},bringToBack:function(){return this._map&&ss(this._container),this},_prepareOpen:function(e){var s=this._source;if(!s._map)return!1;if(s instanceof Qt){s=null;var i=this._source._layers;for(var c in i)if(i[c]._map){s=i[c];break}if(!s)return!1;this._source=s}if(!e)if(s.getCenter)e=s.getCenter();else if(s.getLatLng)e=s.getLatLng();else if(s.getBounds)e=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")e.innerHTML=s;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),s=q(this.options.offset),i=this._getAnchor();this._zoomAnimated?tt(this._container,e.add(i)):s=s.add(e).add(i);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});Oe.include({_initOverlay:function(e,s,i,c){var f=s;return f instanceof e||(f=new e(c).setContent(s)),i&&f.setLatLng(i),f}}),Vt.include({_initOverlay:function(e,s,i,c){var f=i;return f instanceof e?(j(f,c),f._source=this):(f=s&&!c?s:new e(c,this),f.setContent(i)),f}});var Pr=Yt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Yt.prototype.openOn.call(this,e)},onAdd:function(e){Yt.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof mn||this._source.on("preclick",Rn))},onRemove:function(e){Yt.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof mn||this._source.off("preclick",Rn))},getEvents:function(){var e=Yt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",s=this._container=De("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=De("div",e+"-content-wrapper",s);if(this._contentNode=De("div",e+"-content",i),Ts(s),Ha(this._contentNode),_e(s,"contextmenu",Rn),this._tipContainer=De("div",e+"-tip-container",s),this._tip=De("div",e+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=De("a",e+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',_e(c,"click",function(f){ht(f),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,s=e.style;s.width="",s.whiteSpace="nowrap";var i=e.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),s.width=i+1+"px",s.whiteSpace="",s.height="";var c=e.offsetHeight,f=this.options.maxHeight,v="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",Ne(e,v)):Qe(e,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),i=this._getAnchor();tt(this._container,s.add(i))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,s=parseInt(ks(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+s,c=this._containerWidth,f=new I(this._containerLeft,-i-this._containerBottom);f._add(An(this._container));var v=e.layerPointToContainerPoint(f),N=q(this.options.autoPanPadding),M=q(this.options.autoPanPaddingTopLeft||N),O=q(this.options.autoPanPaddingBottomRight||N),U=e.getSize(),ie=0,ve=0;v.x+c+O.x>U.x&&(ie=v.x+c-U.x+O.x),v.x-ie-M.x<0&&(ie=v.x-M.x),v.y+i+O.y>U.y&&(ve=v.y+i-U.y+O.y),v.y-ve-M.y<0&&(ve=v.y-M.y),(ie||ve)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([ie,ve]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_f=function(e,s){return new Pr(e,s)};Oe.mergeOptions({closePopupOnClick:!0}),Oe.include({openPopup:function(e,s,i){return this._initOverlay(Pr,e,s,i).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Vt.include({bindPopup:function(e,s){return this._popup=this._initOverlay(Pr,this._popup,e,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Qt||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){In(e);var s=e.layer||e.target;if(this._popup._source===s&&!(s instanceof mn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=s,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Cr=Yt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Yt.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Yt.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Yt.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",s=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=De("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var s,i,c=this._map,f=this._container,v=c.latLngToContainerPoint(c.getCenter()),N=c.layerPointToContainerPoint(e),M=this.options.direction,O=f.offsetWidth,U=f.offsetHeight,ie=q(this.options.offset),ve=this._getAnchor();M==="top"?(s=O/2,i=U):M==="bottom"?(s=O/2,i=0):M==="center"?(s=O/2,i=U/2):M==="right"?(s=0,i=U/2):M==="left"?(s=O,i=U/2):N.x<v.x?(M="right",s=0,i=U/2):(M="left",s=O+(ie.x+ve.x)*2,i=U/2),e=e.subtract(q(s,i,!0)).add(ie).add(ve),Qe(f,"leaflet-tooltip-right"),Qe(f,"leaflet-tooltip-left"),Qe(f,"leaflet-tooltip-top"),Qe(f,"leaflet-tooltip-bottom"),Ne(f,"leaflet-tooltip-"+M),tt(f,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Mt(this._container,e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(s)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),jf=function(e,s){return new Cr(e,s)};Oe.include({openTooltip:function(e,s,i){return this._initOverlay(Cr,e,s,i).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Vt.include({bindTooltip:function(e,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Cr,this._tooltip,e,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var s=e?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[s](i),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Qt||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var s=typeof e.getElement=="function"&&e.getElement();s&&(_e(s,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),_e(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var s=typeof e.getElement=="function"&&e.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var s=e.latlng,i,c;this._tooltip.options.sticky&&e.originalEvent&&(i=this._map.mouseEventToContainerPoint(e.originalEvent),c=this._map.containerPointToLayerPoint(i),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var il=as.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var s=e&&e.tagName==="DIV"?e:document.createElement("div"),i=this.options;if(i.html instanceof Element?(fr(s),s.appendChild(i.html)):s.innerHTML=i.html!==!1?i.html:"",i.bgPos){var c=q(i.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Nf(e){return new il(e)}as.Default=Ls;var As=Vt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){j(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Ge(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ns(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ss(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof I?e:new I(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var s=this.getPane().children,i=-e(-1/0,1/0),c=0,f=s.length,v;c<f;c++)v=s[c].style.zIndex,s[c]!==this._container&&v&&(i=e(i,+v));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!oe.ielt9){Mt(this._container,this.options.opacity);var e=+new Date,s=!1,i=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var v=Math.min(1,(e-f.loaded)/200);Mt(f.el,v),v<1?s=!0:(f.active?i=!0:this._onOpaqueTile(f),f.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),s&&(C(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=De("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,s=this.options.maxZoom;if(e!==void 0){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===e?(this._levels[i].el.style.zIndex=s-Math.abs(e-i),this._onUpdateLevel(i)):(Ge(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var c=this._levels[e],f=this._map;return c||(c=this._levels[e]={},c.el=De("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),e).round(),c.zoom=e,this._setZoomTransform(c,f.getCenter(),f.getZoom()),h(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var e,s,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)s=this._tiles[e],s.retain=s.current;for(e in this._tiles)if(s=this._tiles[e],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var s in this._tiles)this._tiles[s].coords.z===e&&this._removeTile(s)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Ge(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,s,i,c){var f=Math.floor(e/2),v=Math.floor(s/2),N=i-1,M=new I(+f,+v);M.z=+N;var O=this._tileCoordsToKey(M),U=this._tiles[O];return U&&U.active?(U.retain=!0,!0):(U&&U.loaded&&(U.retain=!0),N>c?this._retainParent(f,v,N,c):!1)},_retainChildren:function(e,s,i,c){for(var f=2*e;f<2*e+2;f++)for(var v=2*s;v<2*s+2;v++){var N=new I(f,v);N.z=i+1;var M=this._tileCoordsToKey(N),O=this._tiles[M];if(O&&O.active){O.retain=!0;continue}else O&&O.loaded&&(O.retain=!0);i+1<c&&this._retainChildren(f,v,i+1,c)}},_resetView:function(e){var s=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var s=this.options;return s.minNativeZoom!==void 0&&e<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<e?s.maxNativeZoom:e},_setView:function(e,s,i,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var v=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||v)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(e),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(e,s)},_setZoomTransforms:function(e,s){for(var i in this._levels)this._setZoomTransform(this._levels[i],e,s)},_setZoomTransform:function(e,s,i){var c=this._map.getZoomScale(i,e.zoom),f=e.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,i)).round();oe.any3d?Ln(e.el,f,c):tt(e.el,f)},_resetGrid:function(){var e=this._map,s=e.options.crs,i=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,s.wrapLng[0]],c).x/i.x),Math.ceil(e.project([0,s.wrapLng[1]],c).x/i.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([s.wrapLat[0],0],c).y/i.x),Math.ceil(e.project([s.wrapLat[1],0],c).y/i.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var s=this._map,i=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(i,this._tileZoom),f=s.project(e,this._tileZoom).floor(),v=s.getSize().divideBy(c*2);return new ue(f.subtract(v),f.add(v))},_update:function(e){var s=this._map;if(s){var i=this._clampZoom(s.getZoom());if(e===void 0&&(e=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(e),f=this._pxBoundsToTileRange(c),v=f.getCenter(),N=[],M=this.options.keepBuffer,O=new ue(f.getBottomLeft().subtract([M,-M]),f.getTopRight().add([M,-M]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var U in this._tiles){var ie=this._tiles[U].coords;(ie.z!==this._tileZoom||!O.contains(new I(ie.x,ie.y)))&&(this._tiles[U].current=!1)}if(Math.abs(i-this._tileZoom)>1){this._setView(e,i);return}for(var ve=f.min.y;ve<=f.max.y;ve++)for(var Te=f.min.x;Te<=f.max.x;Te++){var pt=new I(Te,ve);if(pt.z=this._tileZoom,!!this._isValidTile(pt)){var dt=this._tiles[this._tileCoordsToKey(pt)];dt?dt.current=!0:N.push(pt)}}if(N.sort(function(vt,cs){return vt.distanceTo(v)-cs.distanceTo(v)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var At=document.createDocumentFragment();for(Te=0;Te<N.length;Te++)this._addTile(N[Te],At);this._level.el.appendChild(At)}}}},_isValidTile:function(e){var s=this._map.options.crs;if(!s.infinite){var i=this._globalTileRange;if(!s.wrapLng&&(e.x<i.min.x||e.x>i.max.x)||!s.wrapLat&&(e.y<i.min.y||e.y>i.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(e);return X(this.options.bounds).overlaps(c)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var s=this._map,i=this.getTileSize(),c=e.scaleBy(i),f=c.add(i),v=s.unproject(c,e.z),N=s.unproject(f,e.z);return[v,N]},_tileCoordsToBounds:function(e){var s=this._tileCoordsToNwSe(e),i=new E(s[0],s[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var s=e.split(":"),i=new I(+s[0],+s[1]);return i.z=+s[2],i},_removeTile:function(e){var s=this._tiles[e];s&&(Ge(s.el),delete this._tiles[e],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Ne(e,"leaflet-tile");var s=this.getTileSize();e.style.width=s.x+"px",e.style.height=s.y+"px",e.onselectstart=h,e.onmousemove=h,oe.ielt9&&this.options.opacity<1&&Mt(e,this.options.opacity)},_addTile:function(e,s){var i=this._getTilePos(e),c=this._tileCoordsToKey(e),f=this.createTile(this._wrapCoords(e),u(this._tileReady,this,e));this._initTile(f),this.createTile.length<2&&F(u(this._tileReady,this,e,null,f)),tt(f,i),this._tiles[c]={el:f,coords:e,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:e})},_tileReady:function(e,s,i){s&&this.fire("tileerror",{error:s,tile:i,coords:e});var c=this._tileCoordsToKey(e);i=this._tiles[c],i&&(i.loaded=+new Date,this._map._fadeAnimated?(Mt(i.el,0),C(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),s||(Ne(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),oe.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var s=new I(this._wrapX?y(e.x,this._wrapX):e.x,this._wrapY?y(e.y,this._wrapY):e.y);return s.z=e.z,s},_pxBoundsToTileRange:function(e){var s=this.getTileSize();return new ue(e.min.unscaleBy(s).floor(),e.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function kf(e){return new As(e)}var ls=As.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,s){this._url=e,s=j(this,s),s.detectRetina&&oe.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,s){return this._url===e&&s===void 0&&(s=!0),this._url=e,s||this.redraw(),this},createTile:function(e,s){var i=document.createElement("img");return _e(i,"load",u(this._tileOnLoad,this,s,i)),_e(i,"error",u(this._tileOnError,this,s,i)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(e),i},getTileUrl:function(e){var s={r:oe.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(s.y=i),s["-y"]=i}return T(this._url,l(s,this.options))},_tileOnLoad:function(e,s){oe.ielt9?setTimeout(u(e,this,null,s),0):e(null,s)},_tileOnError:function(e,s,i){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),e(i,s)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,s=this.options.maxZoom,i=this.options.zoomReverse,c=this.options.zoomOffset;return i&&(e=s-e),e+c},_getSubdomain:function(e){var s=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var e,s;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(s=this._tiles[e].el,s.onload=h,s.onerror=h,!s.complete)){s.src=Q;var i=this._tiles[e].coords;Ge(s),delete this._tiles[e],this.fire("tileabort",{tile:s,coords:i})}},_removeTile:function(e){var s=this._tiles[e];if(s)return s.el.setAttribute("src",Q),As.prototype._removeTile.call(this,e)},_tileReady:function(e,s,i){if(!(!this._map||i&&i.getAttribute("src")===Q))return As.prototype._tileReady.call(this,e,s,i)}});function ol(e,s){return new ls(e,s)}var ll=ls.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,s){this._url=e;var i=l({},this.defaultWmsParams);for(var c in s)c in this.options||(i[c]=s[c]);s=j(this,s);var f=s.detectRetina&&oe.retina?2:1,v=this.getTileSize();i.width=v.x*f,i.height=v.y*f,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,ls.prototype.onAdd.call(this,e)},getTileUrl:function(e){var s=this._tileCoordsToNwSe(e),i=this._crs,c=ye(i.project(s[0]),i.project(s[1])),f=c.min,v=c.max,N=(this._wmsVersion>=1.3&&this._crs===el?[f.y,f.x,v.y,v.x]:[f.x,f.y,v.x,v.y]).join(","),M=ls.prototype.getTileUrl.call(this,e);return M+w(this.wmsParams,M,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(e,s){return l(this.wmsParams,e),s||this.redraw(),this}});function Sf(e,s){return new ll(e,s)}ls.WMS=ll,ol.wms=Sf;var nn=Vt.extend({options:{padding:.1},initialize:function(e){j(this,e),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,s){var i=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),v=c.multiplyBy(-i).add(f).subtract(this._map._getNewPixelOrigin(e,s));oe.any3d?Ln(this._container,v,i):tt(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,s=this._map.getSize(),i=this._map.containerPointToLayerPoint(s.multiplyBy(-e)).round();this._bounds=new ue(i,i.add(s.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cl=nn.extend({options:{tolerance:0},getEvents:function(){var e=nn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){nn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");_e(e,"mousemove",this._onMouseMove,this),_e(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),_e(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,Ge(this._container),Ye(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var s in this._layers)e=this._layers[s],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){nn.prototype._update.call(this);var e=this._bounds,s=this._container,i=e.getSize(),c=oe.retina?2:1;tt(s,e.min),s.width=c*i.x,s.height=c*i.y,s.style.width=i.x+"px",s.style.height=i.y+"px",oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){nn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[g(e)]=e;var s=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var s=e._order,i=s.next,c=s.prev;i?i.prev=c:this._drawLast=c,c?c.next=i:this._drawFirst=i,delete e._order,delete this._layers[g(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var s=e.options.dashArray.split(/[, ]+/),i=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;i.push(c)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var s=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(e._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(e._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var s=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,s=this._redrawBounds;if(this._ctx.save(),s){var i=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)e=c.layer,(!s||e._pxBounds&&e._pxBounds.intersects(s))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,s){if(this._drawing){var i,c,f,v,N=e._parts,M=N.length,O=this._ctx;if(M){for(O.beginPath(),i=0;i<M;i++){for(c=0,f=N[i].length;c<f;c++)v=N[i][c],O[c?"lineTo":"moveTo"](v.x,v.y);s&&O.closePath()}this._fillStroke(O,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var s=e._point,i=this._ctx,c=Math.max(Math.round(e._radius),1),f=(Math.max(Math.round(e._radiusY),1)||c)/c;f!==1&&(i.save(),i.scale(1,f)),i.beginPath(),i.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&i.restore(),this._fillStroke(i,e)}},_fillStroke:function(e,s){var i=s.options;i.fill&&(e.globalAlpha=i.fillOpacity,e.fillStyle=i.fillColor||i.color,e.fill(i.fillRule||"evenodd")),i.stroke&&i.weight!==0&&(e.setLineDash&&e.setLineDash(s.options&&s.options._dashArray||[]),e.globalAlpha=i.opacity,e.lineWidth=i.weight,e.strokeStyle=i.color,e.lineCap=i.lineCap,e.lineJoin=i.lineJoin,e.stroke())},_onClick:function(e){for(var s=this._map.mouseEventToLayerPoint(e),i,c,f=this._drawFirst;f;f=f.next)i=f.layer,i.options.interactive&&i._containsPoint(s)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(i))&&(c=i);this._fireEvent(c?[c]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,s)}},_handleMouseOut:function(e){var s=this._hoveredLayer;s&&(Qe(this._container,"leaflet-interactive"),this._fireEvent([s],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,s){if(!this._mouseHoverThrottled){for(var i,c,f=this._drawFirst;f;f=f.next)i=f.layer,i.options.interactive&&i._containsPoint(s)&&(c=i);c!==this._hoveredLayer&&(this._handleMouseOut(e),c&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([c],e,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,s,i){this._map._fireDOMEvent(s,i||s.type,e)},_bringToFront:function(e){var s=e._order;if(s){var i=s.next,c=s.prev;if(i)i.prev=c;else return;c?c.next=i:i&&(this._drawFirst=i),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(e)}},_bringToBack:function(e){var s=e._order;if(s){var i=s.next,c=s.prev;if(c)c.next=i;else return;i?i.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(e)}}});function dl(e){return oe.canvas?new cl(e):null}var Rs=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Pf={_initContainer:function(){this._container=De("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(nn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var s=e._container=Rs("shape");Ne(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",e._path=Rs("path"),s.appendChild(e._path),this._updateStyle(e),this._layers[g(e)]=e},_addPath:function(e){var s=e._container;this._container.appendChild(s),e.options.interactive&&e.addInteractiveTarget(s)},_removePath:function(e){var s=e._container;Ge(s),e.removeInteractiveTarget(s),delete this._layers[g(e)]},_updateStyle:function(e){var s=e._stroke,i=e._fill,c=e.options,f=e._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=e._stroke=Rs("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=P(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),e._stroke=null),c.fill?(i||(i=e._fill=Rs("fill")),f.appendChild(i),i.color=c.fillColor||c.color,i.opacity=c.fillOpacity):i&&(f.removeChild(i),e._fill=null)},_updateCircle:function(e){var s=e._point.round(),i=Math.round(e._radius),c=Math.round(e._radiusY||i);this._setPath(e,e._empty()?"M0 0":"AL "+s.x+","+s.y+" "+i+","+c+" 0,"+65535*360)},_setPath:function(e,s){e._path.v=s},_bringToFront:function(e){ns(e._container)},_bringToBack:function(e){ss(e._container)}},Tr=oe.vml?Rs:qe,Is=nn.extend({_initContainer:function(){this._container=Tr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Tr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ge(this._container),Ye(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){nn.prototype._update.call(this);var e=this._bounds,s=e.getSize(),i=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,i.setAttribute("width",s.x),i.setAttribute("height",s.y)),tt(i,e.min),i.setAttribute("viewBox",[e.min.x,e.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(e){var s=e._path=Tr("path");e.options.className&&Ne(s,e.options.className),e.options.interactive&&Ne(s,"leaflet-interactive"),this._updateStyle(e),this._layers[g(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Ge(e._path),e.removeInteractiveTarget(e._path),delete this._layers[g(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var s=e._path,i=e.options;s&&(i.stroke?(s.setAttribute("stroke",i.color),s.setAttribute("stroke-opacity",i.opacity),s.setAttribute("stroke-width",i.weight),s.setAttribute("stroke-linecap",i.lineCap),s.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?s.setAttribute("stroke-dasharray",i.dashArray):s.removeAttribute("stroke-dasharray"),i.dashOffset?s.setAttribute("stroke-dashoffset",i.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),i.fill?(s.setAttribute("fill",i.fillColor||i.color),s.setAttribute("fill-opacity",i.fillOpacity),s.setAttribute("fill-rule",i.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(e,s){this._setPath(e,Je(e._parts,s))},_updateCircle:function(e){var s=e._point,i=Math.max(Math.round(e._radius),1),c=Math.max(Math.round(e._radiusY),1)||i,f="a"+i+","+c+" 0 1,0 ",v=e._empty()?"M0 0":"M"+(s.x-i)+","+s.y+f+i*2+",0 "+f+-i*2+",0 ";this._setPath(e,v)},_setPath:function(e,s){e._path.setAttribute("d",s)},_bringToFront:function(e){ns(e._path)},_bringToBack:function(e){ss(e._path)}});oe.vml&&Is.include(Pf);function ul(e){return oe.svg||oe.vml?new Is(e):null}Oe.include({getRenderer:function(e){var s=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var s=this._paneRenderers[e];return s===void 0&&(s=this._createRenderer({pane:e}),this._paneRenderers[e]=s),s},_createRenderer:function(e){return this.options.preferCanvas&&dl(e)||ul(e)}});var hl=is.extend({initialize:function(e,s){is.prototype.initialize.call(this,this._boundsToLatLngs(e),s)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=X(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Cf(e,s){return new hl(e,s)}Is.create=Tr,Is.pointsToPath=Je,tn.geometryToLayer=_r,tn.coordsToLatLng=Ga,tn.coordsToLatLngs=jr,tn.latLngToCoords=Xa,tn.latLngsToCoords=Nr,tn.getFeature=os,tn.asFeature=kr,Oe.mergeOptions({boxZoom:!0});var ml=Ut.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ye(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ge(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ss(),Aa(),this._startPoint=this._map.mouseEventToContainerPoint(e),_e(document,{contextmenu:In,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=De("div","leaflet-zoom-box",this._container),Ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var s=new ue(this._point,this._startPoint),i=s.getSize();tt(this._box,s.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(Ge(this._box),Qe(this._container,"leaflet-crosshair")),Ps(),Ra(),Ye(document,{contextmenu:In,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new E(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Oe.addInitHook("addHandler","boxZoom",ml),Oe.mergeOptions({doubleClickZoom:!0});var fl=Ut.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var s=this._map,i=s.getZoom(),c=s.options.zoomDelta,f=e.originalEvent.shiftKey?i-c:i+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(e.containerPoint,f)}});Oe.addInitHook("addHandler","doubleClickZoom",fl),Oe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var pl=Ut.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new hn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}Ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Qe(this._map._container,"leaflet-grab"),Qe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=X(this._map.options.maxBounds);this._offsetLimit=ye(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var s=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(s),this._prunePositions(s)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,s){return e-(e-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;e.x<s.min.x&&(e.x=this._viscousLimit(e.x,s.min.x)),e.y<s.min.y&&(e.y=this._viscousLimit(e.y,s.min.y)),e.x>s.max.x&&(e.x=this._viscousLimit(e.x,s.max.x)),e.y>s.max.y&&(e.y=this._viscousLimit(e.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,s=Math.round(e/2),i=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+i)%e+s-i,v=(c+s+i)%e-s-i,N=Math.abs(f+i)<Math.abs(v+i)?f:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(e){var s=this._map,i=s.options,c=!i.inertia||e.noInertia||this._times.length<2;if(s.fire("dragend",e),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,N=i.easeLinearity,M=f.multiplyBy(N/v),O=M.distanceTo([0,0]),U=Math.min(i.inertiaMaxSpeed,O),ie=M.multiplyBy(U/O),ve=U/(i.inertiaDeceleration*N),Te=ie.multiplyBy(-ve/2).round();!Te.x&&!Te.y?s.fire("moveend"):(Te=s._limitOffset(Te,s.options.maxBounds),F(function(){s.panBy(Te,{duration:ve,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});Oe.addInitHook("addHandler","dragging",pl),Oe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gl=Ut.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),_e(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ye(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,s=document.documentElement,i=e.scrollTop||s.scrollTop,c=e.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var s=this._panKeys={},i=this.keyCodes,c,f;for(c=0,f=i.left.length;c<f;c++)s[i.left[c]]=[-1*e,0];for(c=0,f=i.right.length;c<f;c++)s[i.right[c]]=[e,0];for(c=0,f=i.down.length;c<f;c++)s[i.down[c]]=[0,e];for(c=0,f=i.up.length;c<f;c++)s[i.up[c]]=[0,-1*e]},_setZoomDelta:function(e){var s=this._zoomKeys={},i=this.keyCodes,c,f;for(c=0,f=i.zoomIn.length;c<f;c++)s[i.zoomIn[c]]=e;for(c=0,f=i.zoomOut.length;c<f;c++)s[i.zoomOut[c]]=-e},_addHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ye(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var s=e.keyCode,i=this._map,c;if(s in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(c=this._panKeys[s],e.shiftKey&&(c=q(c).multiplyBy(3)),i.options.maxBounds&&(c=i._limitOffset(q(c),i.options.maxBounds)),i.options.worldCopyJump){var f=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(c)));i.panTo(f)}else i.panBy(c)}else if(s in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&i._popup&&i._popup.options.closeOnEscapeKey)i.closePopup();else return;In(e)}}});Oe.addInitHook("addHandler","keyboard",gl),Oe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xl=Ut.extend({addHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ye(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var s=Ho(e),i=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var c=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),In(e)},_performZoom:function(){var e=this._map,s=e.getZoom(),i=this._map.options.zoomSnap||0;e._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,v=i?Math.ceil(f/i)*i:f,N=e._limitZoom(s+(this._delta>0?v:-v))-s;this._delta=0,this._startTime=null,N&&(e.options.scrollWheelZoom==="center"?e.setZoom(s+N):e.setZoomAround(this._lastMousePos,s+N))}});Oe.addInitHook("addHandler","scrollWheelZoom",xl);var Tf=600;Oe.mergeOptions({tapHold:oe.touchNative&&oe.safari&&oe.mobile,tapTolerance:15});var vl=Ut.extend({addHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ye(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var s=e.touches[0];this._startPos=this._newPos=new I(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(_e(document,"touchend",ht),_e(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Tf),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ye(document,"touchend",ht),Ye(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ye(document,"touchend touchcancel contextmenu",this._cancel,this),Ye(document,"touchmove",this._onMove,this)},_onMove:function(e){var s=e.touches[0];this._newPos=new I(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,s){var i=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});i._simulated=!0,s.target.dispatchEvent(i)}});Oe.addInitHook("addHandler","tapHold",vl),Oe.mergeOptions({touchZoom:oe.touch,bounceAtZoomLimits:!0});var yl=Ut.extend({addHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Qe(this._map._container,"leaflet-touch-zoom"),Ye(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var s=this._map;if(!(!e.touches||e.touches.length!==2||s._animatingZoom||this._zooming)){var i=s.mouseEventToContainerPoint(e.touches[0]),c=s.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(i.add(c)._divideBy(2))),this._startDist=i.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),ht(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var s=this._map,i=s.mouseEventToContainerPoint(e.touches[0]),c=s.mouseEventToContainerPoint(e.touches[1]),f=i.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var v=i._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&v.x===0&&v.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var N=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(N,this,!0),ht(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,C(this._animRequest),Ye(document,"touchmove",this._onTouchMove,this),Ye(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Oe.addInitHook("addHandler","touchZoom",yl),Oe.BoxZoom=ml,Oe.DoubleClickZoom=fl,Oe.Drag=pl,Oe.Keyboard=gl,Oe.ScrollWheelZoom=xl,Oe.TapHold=vl,Oe.TouchZoom=yl,r.Bounds=ue,r.Browser=oe,r.CRS=$,r.Canvas=cl,r.Circle=Ka,r.CircleMarker=wr,r.Class=D,r.Control=Ht,r.DivIcon=il,r.DivOverlay=Yt,r.DomEvent=qm,r.DomUtil=Wm,r.Draggable=hn,r.Evented=te,r.FeatureGroup=Qt,r.GeoJSON=tn,r.GridLayer=As,r.Handler=Ut,r.Icon=as,r.ImageOverlay=Sr,r.LatLng=J,r.LatLngBounds=E,r.Layer=Vt,r.LayerGroup=rs,r.LineUtil=af,r.Map=Oe,r.Marker=br,r.Mixin=Qm,r.Path=mn,r.Point=I,r.PolyUtil=ef,r.Polygon=is,r.Polyline=en,r.Popup=Pr,r.PosAnimation=Vo,r.Projection=of,r.Rectangle=hl,r.Renderer=nn,r.SVG=Is,r.SVGOverlay=al,r.TileLayer=ls,r.Tooltip=Cr,r.Transformation=fe,r.Util=V,r.VideoOverlay=rl,r.bind=u,r.bounds=ye,r.canvas=dl,r.circle=pf,r.circleMarker=ff,r.control=Es,r.divIcon=Nf,r.extend=l,r.featureGroup=uf,r.geoJSON=sl,r.geoJson=vf,r.gridLayer=kf,r.icon=hf,r.imageOverlay=yf,r.latLng=Y,r.latLngBounds=X,r.layerGroup=df,r.map=Um,r.marker=mf,r.point=q,r.polygon=xf,r.polyline=gf,r.popup=_f,r.rectangle=Cf,r.setOptions=j,r.stamp=g,r.svg=ul,r.svgOverlay=wf,r.tileLayer=ol,r.tooltip=jf,r.transformation=xe,r.version=o,r.videoOverlay=bf;var Ef=window.L;r.noConflict=function(){return window.L=Ef,this},window.L=r}))})(Ws,Ws.exports)),Ws.exports}var Xn=F_();const Eh=Fc(Xn);function wa(n,a,r){return Object.freeze({instance:n,context:a,container:r})}function _a(n,a){return a==null?function(o,l){const d=m.useRef();return d.current||(d.current=n(o,l)),d}:function(o,l){const d=m.useRef();d.current||(d.current=n(o,l));const u=m.useRef(o),{instance:p}=d.current;return m.useEffect(function(){u.current!==o&&(a(p,o,u.current),u.current=o)},[p,o,l]),d}}function Mh(n,a){m.useEffect(function(){return(a.layerContainer??a.map).addLayer(n.instance),function(){a.layerContainer?.removeLayer(n.instance),a.map.removeLayer(n.instance)}},[a,n])}function Lh(n){return function(r){const o=ya(),l=n(ba(r,o),o);return kh(o.map,r.attribution),No(l.current,r.eventHandlers),Mh(l.current,o),l}}function H_(n,a){const r=m.useRef();m.useEffect(function(){if(a.pathOptions!==r.current){const l=a.pathOptions??{};n.instance.setStyle(l),r.current=l}},[n,a])}function V_(n){return function(r){const o=ya(),l=n(ba(r,o),o);return No(l.current,r.eventHandlers),Mh(l.current,o),H_(l.current,r),l}}function $_(n,a){const r=_a(n,a),o=Lh(r);return Th(o)}function W_(n,a){const r=_a(n),o=z_(r,a);return O_(o)}function Z_(n,a){const r=_a(n,a),o=V_(r);return Th(o)}function q_(n,a){const r=_a(n,a),o=Lh(r);return D_(o)}function U_(n,a,r){const{opacity:o,zIndex:l}=a;o!=null&&o!==r.opacity&&n.setOpacity(o),l!=null&&l!==r.zIndex&&n.setZIndex(l)}function Y_(){return ya().map}const K_=Z_(function({center:a,children:r,...o},l){const d=new Xn.Circle(a,o);return wa(d,Sh(l,{overlayContainer:d}))},A_);function Ii(){return Ii=Object.assign||function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Ii.apply(this,arguments)}function G_({bounds:n,boundsOptions:a,center:r,children:o,className:l,id:d,placeholder:u,style:p,whenReady:g,zoom:x,...y},h){const[b]=m.useState({className:l,id:d,style:p}),[_,S]=m.useState(null);m.useImperativeHandle(h,()=>_?.map??null,[_]);const j=m.useCallback(k=>{if(k!==null&&_===null){const T=new Xn.Map(k,y);r!=null&&x!=null?T.setView(r,x):n!=null&&T.fitBounds(n,a),g!=null&&T.whenReady(g),S(I_(T))}},[]);m.useEffect(()=>()=>{_?.map.remove()},[_]);const w=_?A.createElement(Ch,{value:_},o):u??null;return A.createElement("div",Ii({},b,{ref:j}),w)}const Ah=m.forwardRef(G_),Oi=$_(function({position:a,...r},o){const l=new Xn.Marker(a,r);return wa(l,Sh(o,{overlayContainer:l}))},function(a,r,o){r.position!==o.position&&a.setLatLng(r.position),r.icon!=null&&r.icon!==o.icon&&a.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==o.zIndexOffset&&a.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==o.opacity&&a.setOpacity(r.opacity),a.dragging!=null&&r.draggable!==o.draggable&&(r.draggable===!0?a.dragging.enable():a.dragging.disable())}),Di=W_(function(a,r){const o=new Xn.Popup(a,r.overlayContainer);return wa(o,r)},function(a,r,{position:o},l){m.useEffect(function(){const{instance:u}=a;function p(x){x.popup===u&&(u.update(),l(!0))}function g(x){x.popup===u&&l(!1)}return r.map.on({popupopen:p,popupclose:g}),r.overlayContainer==null?(o!=null&&u.setLatLng(o),u.openOn(r.map)):r.overlayContainer.bindPopup(u),function(){r.map.off({popupopen:p,popupclose:g}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(u)}},[a,r,l,o])}),Rh=q_(function({url:a,...r},o){const l=new Xn.TileLayer(a,ba(r,o));return wa(l,o)},function(a,r,o){U_(a,r,o);const{url:l}=r;l!=null&&l!==o.url&&a.setUrl(l)}),X_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",J_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Q_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete Eh.Icon.Default.prototype._getIconUrl;Eh.Icon.Default.mergeOptions({iconUrl:J_,iconRetinaUrl:X_,shadowUrl:Q_});function e1({center:n=[34.0522,-118.2437],zoom:a=13,markers:r=[],className:o="h-[400px] w-full rounded-xl z-0"}){return t.jsx("div",{className:`${o} overflow-hidden shadow-lg border border-border relative z-0`,children:t.jsxs(Ah,{center:n,zoom:a,scrollWheelZoom:!1,className:"h-full w-full z-0",style:{zIndex:0},children:[t.jsx(Rh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.map((l,d)=>t.jsx(Oi,{position:l.position,children:t.jsx(Di,{children:t.jsxs("div",{className:"p-1",children:[t.jsx("h3",{className:"font-bold text-sm",children:l.title}),l.description&&t.jsx("p",{className:"text-xs text-muted-foreground",children:l.description})]})})},d))]})})}function Se({className:n,...a}){return t.jsx("div",{className:de("animate-pulse rounded-md bg-primary/10",n),...a})}function t1(){return t.jsxs(Be,{className:"overflow-hidden",children:[t.jsx("div",{className:"relative",children:t.jsx(Se,{className:"h-48 w-full"})}),t.jsxs(He,{className:"pt-4",children:[t.jsx(Se,{className:"h-5 w-3/4 mb-2"}),t.jsx(Se,{className:"h-4 w-full mb-3"}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsx(Se,{className:"h-6 w-12"}),t.jsx(Se,{className:"h-6 w-12"}),t.jsx(Se,{className:"h-6 w-12"})]}),t.jsx(Se,{className:"h-8 w-20"})]})]})}function n1(){return t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((n,a)=>t.jsx(t1,{},a))})}function s1(){return t.jsxs(Be,{className:"hover-elevate",children:[t.jsxs(an,{children:[t.jsx(Se,{className:"h-5 w-3/4 mb-2"}),t.jsx(Se,{className:"h-4 w-1/2"})]}),t.jsxs(He,{className:"space-y-3",children:[t.jsx(Se,{className:"h-4 w-full"}),t.jsx(Se,{className:"h-4 w-3/4"}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx(Se,{className:"h-8 w-24"}),t.jsx(Se,{className:"h-8 w-24"})]})]})]})}function FN(){return t.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((n,a)=>t.jsx(s1,{},a))})}function r1(){return t.jsx(Be,{children:t.jsx(He,{className:"py-4",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(Se,{className:"h-5 w-2/3 mb-2"}),t.jsx(Se,{className:"h-4 w-1/2"})]}),t.jsx(Se,{className:"h-6 w-20"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Se,{className:"h-8 w-16"}),t.jsx(Se,{className:"h-8 w-16"})]})]})})})}function HN(){return t.jsx("div",{className:"space-y-2",children:Array.from({length:4}).map((n,a)=>t.jsx(r1,{},a))})}function a1({property:n,onQuickView:a}){const[r,o]=m.useState(null),[l,d]=m.useState(0),{toggleFavorite:u,isFavorited:p}=co(),g=jn,x=r?.imageUrls.thumbnail||g;m.useEffect(()=>{(async()=>{try{const _=await fetch(`/api/images/property/${n.id}`);if(_.ok){const j=(await _.json()).data||[];d(j.length);const w=j[0]||null;w&&o(w)}}catch{d(0)}})()},[n.id]);const y=b=>{b.preventDefault(),b.stopPropagation(),u(n.id)},h=typeof n.price=="string"?parseInt(n.price):n.price;return t.jsx(Be,{className:"overflow-hidden group cursor-pointer transition-all duration-200 hover:shadow-lg",onClick:()=>a?.(n),"data-testid":`list-card-property-${n.id}`,children:t.jsxs("div",{className:"flex flex-col sm:flex-row",children:[t.jsxs("div",{className:"relative w-full sm:w-64 h-48 sm:h-auto sm:min-h-[180px] flex-shrink-0 overflow-hidden",children:[t.jsx(Ae,{href:`/property/${n.id}`,"data-testid":`link-property-image-${n.id}`,children:t.jsx("span",{className:"block w-full h-full",onClick:b=>b.stopPropagation(),children:t.jsx("img",{src:x,alt:n.title,loading:"lazy",className:"object-cover w-full h-full group-hover:scale-105 transition-transform duration-300","data-testid":"img-property-list-preview"})})}),t.jsxs("div",{className:"absolute top-2 left-2 flex gap-2",children:[t.jsx(lt,{className:"bg-secondary text-primary-foreground font-bold text-xs","data-testid":"badge-for-rent",children:"For Rent"}),l>0&&t.jsxs(lt,{className:"bg-black/60 text-white text-xs flex items-center gap-1","data-testid":`badge-photo-count-${n.id}`,children:[t.jsx(Wr,{className:"h-3 w-3"}),l]})]}),t.jsx("button",{onClick:y,className:"absolute top-2 right-2 p-2 rounded-full bg-white/90 dark:bg-card shadow-md transition-colors hover:bg-white dark:hover:bg-muted","aria-label":p(n.id)?"Remove from favorites":"Add to favorites","data-testid":"button-toggle-favorite",children:t.jsx(qn,{className:`h-4 w-4 transition-colors ${p(n.id)?"fill-red-500 text-red-500":"text-muted-foreground"}`})})]}),t.jsxs("div",{className:"flex-1 p-4 flex flex-col justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.jsxs("div",{children:[t.jsx(Ae,{href:`/property/${n.id}`,"data-testid":`link-property-title-${n.id}`,children:t.jsx("h3",{className:"font-semibold text-lg text-foreground hover:text-primary transition-colors line-clamp-1",onClick:b=>b.stopPropagation(),"data-testid":"text-property-title",children:n.title})}),t.jsxs("div",{className:"flex items-center text-muted-foreground text-sm mt-1",children:[t.jsx(Tt,{className:"h-3.5 w-3.5 mr-1 flex-shrink-0"}),t.jsxs("span",{className:"line-clamp-1","data-testid":"text-property-address",children:[n.address,n.city?`, ${n.city}`:""]})]})]}),t.jsxs("div",{className:"text-right flex-shrink-0",children:[t.jsxs("span",{className:"text-xl font-bold text-primary","data-testid":"text-property-price",children:["$",(h||0).toLocaleString()]}),t.jsx("span",{className:"text-muted-foreground text-sm",children:"/mo"})]})]}),t.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3","data-testid":"text-property-description",children:n.description||"Beautiful property available for rent. Contact us for more details."}),t.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(ar,{className:"h-4 w-4 text-primary"}),t.jsxs("span",{"data-testid":"text-bedrooms",children:[n.bedrooms||0," Beds"]})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(ra,{className:"h-4 w-4 text-primary"}),t.jsxs("span",{"data-testid":"text-bathrooms",children:[n.bathrooms||0," Baths"]})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(ia,{className:"h-4 w-4 text-primary"}),t.jsxs("span",{"data-testid":"text-sqft",children:[(n.square_feet||0).toLocaleString()," sqft"]})]}),n.property_type&&t.jsx(lt,{variant:"secondary",className:"text-xs","data-testid":"badge-property-type",children:n.property_type})]})]}),t.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t",children:[t.jsx("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Wn,{className:"h-3.5 w-3.5"}),t.jsx("span",{children:"Available Now"})]})}),t.jsx(Ae,{href:`/property/${n.id}`,"data-testid":`link-view-details-${n.id}`,children:t.jsx(ae,{size:"sm",onClick:b=>b.stopPropagation(),"data-testid":"button-view-details",children:"View Details"})})]})]})]})})}function i1(){const{properties:n,loading:a}=ju(),[r,o]=m.useState(n),[l,d]=m.useState(!1),[u,p]=m.useState("grid"),[g,x]=m.useState([]),[y,h]=m.useState(!1);m.useEffect(()=>{bo({title:"Rental Properties for Rent - Search Apartments & Homes | Choice Properties",description:"Search 500+ available rental properties in Troy, MI. Filter by price, bedrooms, bathrooms, and property type. Find and apply for your perfect rental home instantly.",image:"https://choiceproperties.com/og-image.png",url:"https://choiceproperties.com/properties"})},[]);const[b,_]=m.useState("featured"),[S,j]=m.useState(null);m.useEffect(()=>{o(n)},[n]);const[w,k]=m.useState(!1),[T,P]=m.useState(""),[z,Q]=m.useState("0"),[B,H]=m.useState("10000"),[R,W]=m.useState("any"),[K,F]=m.useState("any"),[C,V]=m.useState("any"),[D,re]=m.useState(JSON.parse(localStorage.getItem("choiceProperties_savedSearches")||"[]"));m.useEffect(()=>{let E=n;if(T){const Y=T.toLowerCase();E=E.filter($=>$.title.toLowerCase().includes(Y)||$.address.toLowerCase().includes(Y)||$.city?.toLowerCase().includes(Y)||!1)}const X=parseInt(z)||0,J=parseInt(B)||1e4;if(E=E.filter(Y=>{const $=Y.price?parseInt(Y.price):0;return $>=X&&$<=J}),R!=="any"){const Y=parseInt(R);E=E.filter($=>($.bedrooms||0)>=Y)}if(K!=="any"){const Y=parseFloat(K);E=E.filter($=>(parseFloat($.bathrooms||"0")||0)>=Y)}C!=="any"&&(E=E.filter(Y=>Y.property_type?.toLowerCase()===C.toLowerCase())),b==="price-low"?E=[...E].sort((Y,$)=>(parseInt(Y.price||"0")||0)-(parseInt($.price||"0")||0)):b==="price-high"?E=[...E].sort((Y,$)=>(parseInt($.price||"0")||0)-(parseInt(Y.price||"0")||0)):b==="newest"&&(E=[...E].reverse()),o(E)},[T,z,B,R,K,C,b,n]);const Z=()=>{const E={search:T,priceMin:z,priceMax:B,bedrooms:R,bathrooms:K,homeType:C};if(D.some(J=>J.search===T&&J.priceMin===z&&J.priceMax===B&&J.bedrooms===R&&J.bathrooms===K&&J.homeType===C))Ur.info("This search is already saved.");else{const J=[...D,E];re(J),localStorage.setItem("choiceProperties_savedSearches",JSON.stringify(J)),Ur.success("Search saved! You can find it in your saved searches.")}},te=E=>{x(X=>X.filter(J=>J.id!==E))},I=E=>{P(E.search),Q(E.priceMin),H(E.priceMax),W(E.bedrooms),F(E.bathrooms),V(E.homeType)},G=E=>{const X=D.filter((J,Y)=>Y!==E);re(X),localStorage.setItem("choiceProperties_savedSearches",JSON.stringify(X))},q=()=>{P(""),Q("0"),H("10000"),W("any"),F("any"),V("any"),_("featured")},ue=E=>{j(E),k(!0)},ye=r.filter(E=>E.price&&E.latitude&&E.longitude).map(E=>{const X=parseFloat(E.latitude||"34.0522"),J=parseFloat(E.longitude||"-118.2437"),Y=typeof E.price=="string"?parseInt(E.price):E.price||0;return{position:[X,J],title:`$${Y.toLocaleString()}`,description:E.address}});return t.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[t.jsx(Jr,{}),t.jsx(vw,{items:[{label:"Properties"}]}),D.length>0&&t.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 border-b border-blue-200 dark:border-blue-800 px-4 py-2 text-sm",children:t.jsxs("span",{className:"text-blue-900 dark:text-blue-100 flex items-center gap-2",children:[t.jsx(si,{className:"h-4 w-4"}),t.jsx("strong",{children:D.length})," saved search",D.length!==1?"es":""]})}),t.jsx("div",{className:"hidden md:block border-b bg-white dark:bg-gray-950 shadow-sm p-3 z-20 sticky top-0 transition-all duration-300",children:t.jsxs("div",{className:"container mx-auto max-w-7xl flex flex-col md:flex-row gap-3 items-center",children:[t.jsxs("div",{className:"relative flex-1 w-full md:w-auto",children:[t.jsx(Dt,{placeholder:"Address, Neighborhood, or Zip",className:"pl-3 pr-10 h-10 border-gray-300 dark:border-gray-700 focus:border-primary dark:bg-gray-800 dark:text-white",value:T,onChange:E=>P(E.target.value),"data-testid":"input-search-address"}),t.jsx(wn,{className:"absolute right-3 top-2.5 h-5 w-5 text-primary dark:text-blue-400 cursor-pointer"})]}),t.jsxs("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0 items-center",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 whitespace-nowrap",children:"$"}),t.jsx("input",{type:"number",min:"0",max:"10000",step:"100",value:z,onChange:E=>Q(E.target.value),className:"w-[80px] h-10 px-2 border border-gray-300 dark:border-gray-700 rounded dark:bg-gray-800 dark:text-white text-sm focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"Min","data-testid":"input-price-min"}),t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"to"}),t.jsx("input",{type:"number",min:"0",max:"10000",step:"100",value:B,onChange:E=>H(E.target.value),className:"w-[80px] h-10 px-2 border border-gray-300 dark:border-gray-700 rounded dark:bg-gray-800 dark:text-white text-sm focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"Max","data-testid":"input-price-max"})]}),t.jsxs(It,{value:R,onValueChange:W,children:[t.jsx(kt,{className:`w-[120px] h-10 border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white transition-all duration-200 ${R!=="any"?"border-primary dark:border-blue-400 ring-2 ring-primary/20 dark:ring-blue-500/20":""}`,"data-testid":"select-bedrooms",children:t.jsx(Ot,{placeholder:"Beds"})}),t.jsxs(St,{children:[t.jsx(ge,{value:"any",children:"Any Beds"}),t.jsx(ge,{value:"1",children:"1+ Bd"}),t.jsx(ge,{value:"2",children:"2+ Bd"}),t.jsx(ge,{value:"3",children:"3+ Bd"}),t.jsx(ge,{value:"4",children:"4+ Bd"})]})]}),t.jsxs(It,{value:K,onValueChange:F,children:[t.jsx(kt,{className:`w-[120px] h-10 border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white transition-all duration-200 ${K!=="any"?"border-primary dark:border-blue-400 ring-2 ring-primary/20 dark:ring-blue-500/20":""}`,"data-testid":"select-bathrooms",children:t.jsx(Ot,{placeholder:"Baths"})}),t.jsxs(St,{children:[t.jsx(ge,{value:"any",children:"Any Baths"}),t.jsx(ge,{value:"1",children:"1+ Ba"}),t.jsx(ge,{value:"1.5",children:"1.5+ Ba"}),t.jsx(ge,{value:"2",children:"2+ Ba"}),t.jsx(ge,{value:"3",children:"3+ Ba"})]})]}),t.jsxs(It,{value:C,onValueChange:V,children:[t.jsx(kt,{className:`w-[140px] h-10 border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white transition-all duration-200 ${C!=="any"?"border-primary dark:border-blue-400 ring-2 ring-primary/20 dark:ring-blue-500/20":""}`,"data-testid":"select-home-type",children:t.jsx(Ot,{placeholder:"Home Type"})}),t.jsxs(St,{children:[t.jsx(ge,{value:"any",children:"Any Type"}),t.jsx(ge,{value:"House",children:"Houses"}),t.jsx(ge,{value:"Apartment",children:"Apartments"}),t.jsx(ge,{value:"Condo",children:"Condos"}),t.jsx(ge,{value:"Townhome",children:"Townhomes"})]})]}),t.jsxs(It,{value:b,onValueChange:_,children:[t.jsx(kt,{className:"w-[140px] h-10 border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white","data-testid":"select-sort-by",children:t.jsx(Ot,{placeholder:"Sort"})}),t.jsxs(St,{children:[t.jsx(ge,{value:"featured",children:"Featured"}),t.jsx(ge,{value:"price-low",children:"Price: Low to High"}),t.jsx(ge,{value:"price-high",children:"Price: High to Low"}),t.jsx(ge,{value:"newest",children:"Newest"})]})]}),t.jsxs(ae,{variant:"outline",className:"h-10 border-primary text-primary hover:bg-primary/5 dark:border-blue-400 dark:text-blue-400 dark:hover:bg-blue-950/20 flex items-center gap-2 transition-all duration-200",onClick:Z,"data-testid":"button-save-search",children:[t.jsx(si,{className:"h-4 w-4"})," Save"]}),t.jsx(ae,{variant:"outline",className:"h-10 border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all duration-200",onClick:q,"data-testid":"button-reset-filters",children:"Clear"}),t.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-700 rounded-lg overflow-hidden",children:[t.jsx("button",{onClick:()=>p("grid"),className:`p-2.5 transition-colors ${u==="grid"?"bg-primary text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,title:"Grid View","data-testid":"button-grid-view",children:t.jsx(Zg,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>p("list"),className:`p-2.5 transition-colors ${u==="list"?"bg-primary text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,title:"List View","data-testid":"button-list-view",children:t.jsx(Ug,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>p("map"),className:`p-2.5 transition-colors ${u==="map"?"bg-primary text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,title:"Map View","data-testid":"button-map-view",children:t.jsx(ex,{className:"h-4 w-4"})})]})]})]})}),t.jsx("div",{className:"md:hidden border-b bg-white dark:bg-gray-950 shadow-sm p-3 z-20 sticky top-0",children:t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>d(!0),className:"flex items-center gap-2","data-testid":"button-mobile-filters",children:[t.jsx(sd,{className:"h-4 w-4"}),"Filters"]}),t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Dt,{placeholder:"Address, Zip",className:"pl-3 pr-10 h-9 border-gray-300 dark:border-gray-700 focus:border-primary dark:bg-gray-800 dark:text-white text-sm",value:T,onChange:E=>P(E.target.value),"data-testid":"input-search-address-mobile"}),t.jsx(wn,{className:"absolute right-3 top-2 h-4 w-4 text-primary dark:text-blue-400"})]})]})}),t.jsx(bh,{open:l,onOpenChange:d,children:t.jsxs(_h,{children:[t.jsx(jh,{className:"border-b",children:t.jsx(Nh,{children:"Filters"})}),t.jsxs("div",{className:"p-4 space-y-4 pb-8",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 block",children:"Price Range"}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("input",{type:"number",min:"0",max:"10000",step:"100",value:z,onChange:E=>Q(E.target.value),className:"flex-1 h-9 px-2 border border-gray-300 dark:border-gray-700 rounded dark:bg-gray-800 dark:text-white text-sm",placeholder:"Min ($)","data-testid":"input-price-min-mobile"}),t.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"to"}),t.jsx("input",{type:"number",min:"0",max:"10000",step:"100",value:B,onChange:E=>H(E.target.value),className:"flex-1 h-9 px-2 border border-gray-300 dark:border-gray-700 rounded dark:bg-gray-800 dark:text-white text-sm",placeholder:"Max ($)","data-testid":"input-price-max-mobile"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 block",children:"Bedrooms"}),t.jsxs(It,{value:R,onValueChange:W,children:[t.jsx(kt,{className:"w-full","data-testid":"select-bedrooms-mobile",children:t.jsx(Ot,{placeholder:"Select bedrooms"})}),t.jsxs(St,{children:[t.jsx(ge,{value:"any",children:"Any Beds"}),t.jsx(ge,{value:"1",children:"1+ Bd"}),t.jsx(ge,{value:"2",children:"2+ Bd"}),t.jsx(ge,{value:"3",children:"3+ Bd"}),t.jsx(ge,{value:"4",children:"4+ Bd"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 block",children:"Bathrooms"}),t.jsxs(It,{value:K,onValueChange:F,children:[t.jsx(kt,{className:"w-full","data-testid":"select-bathrooms-mobile",children:t.jsx(Ot,{placeholder:"Select bathrooms"})}),t.jsxs(St,{children:[t.jsx(ge,{value:"any",children:"Any Baths"}),t.jsx(ge,{value:"1",children:"1+ Ba"}),t.jsx(ge,{value:"1.5",children:"1.5+ Ba"}),t.jsx(ge,{value:"2",children:"2+ Ba"}),t.jsx(ge,{value:"3",children:"3+ Ba"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 block",children:"Home Type"}),t.jsxs(It,{value:C,onValueChange:V,children:[t.jsx(kt,{className:"w-full","data-testid":"select-home-type-mobile",children:t.jsx(Ot,{placeholder:"Select home type"})}),t.jsxs(St,{children:[t.jsx(ge,{value:"any",children:"Any Type"}),t.jsx(ge,{value:"House",children:"Houses"}),t.jsx(ge,{value:"Apartment",children:"Apartments"}),t.jsx(ge,{value:"Condo",children:"Condos"}),t.jsx(ge,{value:"Townhome",children:"Townhomes"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 block",children:"Sort By"}),t.jsxs(It,{value:b,onValueChange:_,children:[t.jsx(kt,{className:"w-full","data-testid":"select-sort-by-mobile",children:t.jsx(Ot,{placeholder:"Select sort option"})}),t.jsxs(St,{children:[t.jsx(ge,{value:"featured",children:"Featured"}),t.jsx(ge,{value:"price-low",children:"Price: Low to High"}),t.jsx(ge,{value:"price-high",children:"Price: High to Low"}),t.jsx(ge,{value:"newest",children:"Newest"})]})]})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(ae,{variant:"outline",className:"flex-1",onClick:q,"data-testid":"button-reset-filters-mobile",children:"Clear All"}),t.jsxs(ae,{className:"flex-1",onClick:Z,"data-testid":"button-save-search-mobile",children:[t.jsx(si,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto bg-white dark:bg-gray-950",children:t.jsxs("div",{className:"max-w-7xl mx-auto w-full px-4 py-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:"Rental Properties Available"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Browse and apply to homes in your area"})]}),t.jsxs("span",{className:"text-gray-600 dark:text-gray-400 text-sm font-semibold bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-lg","data-testid":"text-results-count",children:[r.length," results"]})]}),D.length>0&&t.jsxs("div",{className:"mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-3 uppercase tracking-wide",children:"Saved Searches"}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:D.map((E,X)=>t.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg px-4 py-2 text-sm",children:[t.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:E.search||"All Properties"}),t.jsx("button",{onClick:()=>I(E),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-semibold text-xs",children:"Load"}),t.jsx("button",{onClick:()=>G(X),className:"text-gray-400 dark:text-gray-500 hover:text-red-500 dark:hover:text-red-400 ml-1",children:""})]},X))})]}),a?t.jsx(n1,{}):r.length>0?u==="grid"?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:r.map(E=>t.jsx(Si,{property:E},E.id))}):u==="list"?t.jsx("div",{className:"space-y-4",children:r.map(E=>t.jsx(a1,{property:E,onQuickView:ue},E.id))}):t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx("div",{className:"lg:sticky lg:top-20 h-[500px] lg:h-[calc(100vh-200px)]",children:t.jsx(e1,{center:ye.length>0?ye[0].position:[42.6064,-83.1498],zoom:12,markers:ye,className:"h-full w-full rounded-xl"})}),t.jsx("div",{className:"space-y-4 max-h-[calc(100vh-200px)] overflow-y-auto pr-2",children:r.slice(0,20).map(E=>t.jsx(Si,{property:E},E.id))})]}):t.jsx(yw,{onReset:q}),t.jsx("div",{className:"mt-12 text-center text-xs text-gray-400 dark:text-gray-600 py-6 border-t border-gray-200 dark:border-gray-800",children:"Choice Properties Inc. | Updated every 5 minutes."})]})}),t.jsx(bw,{property:S,isOpen:w,onClose:()=>k(!1)}),t.jsx(xw,{properties:g,isOpen:y,onClose:()=>h(!1),onRemove:te}),g.length>0&&t.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-2xl z-50 p-4 animate-in slide-in-from-bottom duration-300",children:t.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[t.jsx(px,{className:"h-5 w-5"}),t.jsxs("span",{className:"font-semibold",children:[g.length," properties selected"]})]}),t.jsx("div",{className:"hidden md:flex items-center gap-2",children:g.map(E=>t.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-sm",children:[t.jsx("span",{className:"truncate max-w-[100px]",children:E.title}),t.jsx("button",{onClick:()=>te(E.id),className:"text-gray-400 hover:text-red-500",children:t.jsx(cn,{className:"h-3 w-3"})})]},E.id))})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ae,{variant:"outline",size:"sm",onClick:()=>x([]),children:"Clear All"}),t.jsx(ae,{size:"sm",onClick:()=>h(!0),disabled:g.length<2,children:"Compare Now"})]})]})}),t.jsx(Qr,{})]})}function o1(n,a=[]){let r=[];function o(d,u){const p=m.createContext(u);p.displayName=d+"Context";const g=r.length;r=[...r,u];const x=h=>{const{scope:b,children:_,...S}=h,j=b?.[n]?.[g]||p,w=m.useMemo(()=>S,Object.values(S));return t.jsx(j.Provider,{value:w,children:_})};x.displayName=d+"Provider";function y(h,b){const _=b?.[n]?.[g]||p,S=m.useContext(_);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${h}\` must be used within \`${d}\``)}return[x,y]}const l=()=>{const d=r.map(u=>m.createContext(u));return function(p){const g=p?.[n]||d;return m.useMemo(()=>({[`__scope${n}`]:{...p,[n]:g}}),[p,g])}};return l.scopeName=n,[o,l1(l,...a)]}function l1(...n){const a=n[0];if(n.length===1)return a;const r=()=>{const o=n.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(d){const u=o.reduce((p,{useScope:g,scopeName:x})=>{const h=g(d)[`__scope${x}`];return{...p,...h}},{});return m.useMemo(()=>({[`__scope${a.scopeName}`]:u}),[u])}};return r.scopeName=a.scopeName,r}var c1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ko=c1.reduce((n,a)=>{const r=da(`Primitive.${a}`),o=m.forwardRef((l,d)=>{const{asChild:u,...p}=l,g=u?r:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(g,{...p,ref:d})});return o.displayName=`Primitive.${a}`,{...n,[a]:o}},{});function d1(){return Vc.useSyncExternalStore(u1,()=>!0,()=>!1)}function u1(){return()=>{}}var So="Avatar",[h1]=o1(So),[m1,Ih]=h1(So),Oh=m.forwardRef((n,a)=>{const{__scopeAvatar:r,...o}=n,[l,d]=m.useState("idle");return t.jsx(m1,{scope:r,imageLoadingStatus:l,onImageLoadingStatusChange:d,children:t.jsx(ko.span,{...o,ref:a})})});Oh.displayName=So;var Dh="AvatarImage",zh=m.forwardRef((n,a)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:l=()=>{},...d}=n,u=Ih(Dh,r),p=f1(o,d),g=Pt(x=>{l(x),u.onImageLoadingStatusChange(x)});return Ct(()=>{p!=="idle"&&g(p)},[p,g]),p==="loaded"?t.jsx(ko.img,{...d,ref:a,src:o}):null});zh.displayName=Dh;var Bh="AvatarFallback",Fh=m.forwardRef((n,a)=>{const{__scopeAvatar:r,delayMs:o,...l}=n,d=Ih(Bh,r),[u,p]=m.useState(o===void 0);return m.useEffect(()=>{if(o!==void 0){const g=window.setTimeout(()=>p(!0),o);return()=>window.clearTimeout(g)}},[o]),u&&d.imageLoadingStatus!=="loaded"?t.jsx(ko.span,{...l,ref:a}):null});Fh.displayName=Bh;function pc(n,a){return n?a?(n.src!==a&&(n.src=a),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function f1(n,{referrerPolicy:a,crossOrigin:r}){const o=d1(),l=m.useRef(null),d=o?(l.current||(l.current=new window.Image),l.current):null,[u,p]=m.useState(()=>pc(d,n));return Ct(()=>{p(pc(d,n))},[d,n]),Ct(()=>{const g=h=>()=>{p(h)};if(!d)return;const x=g("loaded"),y=g("error");return d.addEventListener("load",x),d.addEventListener("error",y),a&&(d.referrerPolicy=a),typeof r=="string"&&(d.crossOrigin=r),()=>{d.removeEventListener("load",x),d.removeEventListener("error",y)}},[d,r,a]),u}var Hh=Oh,Vh=zh,$h=Fh;const Wh=m.forwardRef(({className:n,...a},r)=>t.jsx(Hh,{ref:r,className:de("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...a}));Wh.displayName=Hh.displayName;const Zh=m.forwardRef(({className:n,...a},r)=>t.jsx(Vh,{ref:r,className:de("aspect-square h-full w-full",n),...a}));Zh.displayName=Vh.displayName;const qh=m.forwardRef(({className:n,...a},r)=>t.jsx($h,{ref:r,className:de("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...a}));qh.displayName=$h.displayName;const ja=m.forwardRef(({className:n,...a},r)=>t.jsx("textarea",{className:de("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","aria-[invalid=true]:border-destructive aria-[invalid=true]:ring-destructive aria-[invalid=true]:focus-visible:ring-destructive",n),ref:r,...a}));ja.displayName="Textarea";var Na="Switch",[p1]=Kn(Na),[g1,x1]=p1(Na),Uh=m.forwardRef((n,a)=>{const{__scopeSwitch:r,name:o,checked:l,defaultChecked:d,required:u,disabled:p,value:g="on",onCheckedChange:x,form:y,...h}=n,[b,_]=m.useState(null),S=$e(a,P=>_(P)),j=m.useRef(!1),w=b?y||!!b.closest("form"):!0,[k,T]=ms({prop:l,defaultProp:d??!1,onChange:x,caller:Na});return t.jsxs(g1,{scope:r,checked:k,disabled:p,children:[t.jsx(Re.button,{type:"button",role:"switch","aria-checked":k,"aria-required":u,"data-state":Xh(k),"data-disabled":p?"":void 0,disabled:p,value:g,...h,ref:S,onClick:we(n.onClick,P=>{T(z=>!z),w&&(j.current=P.isPropagationStopped(),j.current||P.stopPropagation())})}),w&&t.jsx(Gh,{control:b,bubbles:!j.current,name:o,value:g,checked:k,required:u,disabled:p,form:y,style:{transform:"translateX(-100%)"}})]})});Uh.displayName=Na;var Yh="SwitchThumb",Kh=m.forwardRef((n,a)=>{const{__scopeSwitch:r,...o}=n,l=x1(Yh,r);return t.jsx(Re.span,{"data-state":Xh(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:a})});Kh.displayName=Yh;var v1="SwitchBubbleInput",Gh=m.forwardRef(({__scopeSwitch:n,control:a,checked:r,bubbles:o=!0,...l},d)=>{const u=m.useRef(null),p=$e(u,d),g=pa(r),x=Yi(a);return m.useEffect(()=>{const y=u.current;if(!y)return;const h=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(h,"checked").set;if(g!==r&&_){const S=new Event("click",{bubbles:o});_.call(y,r),y.dispatchEvent(S)}},[g,r,o]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:p,style:{...l.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Gh.displayName=v1;function Xh(n){return n?"checked":"unchecked"}var Jh=Uh,y1=Kh;const ta=m.forwardRef(({className:n,...a},r)=>t.jsx(Jh,{className:de("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...a,ref:r,children:t.jsx(y1,{className:de("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));ta.displayName=Jh.displayName;var b1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],w1=b1.reduce((n,a)=>{const r=da(`Primitive.${a}`),o=m.forwardRef((l,d)=>{const{asChild:u,...p}=l,g=u?r:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(g,{...p,ref:d})});return o.displayName=`Primitive.${a}`,{...n,[a]:o}},{}),_1="Label",Qh=m.forwardRef((n,a)=>t.jsx(w1.label,{...n,ref:a,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(n.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Qh.displayName=_1;var em=Qh;const j1=lr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),bt=m.forwardRef(({className:n,...a},r)=>t.jsx(em,{ref:r,className:de(j1(),n),...a}));bt.displayName=em.displayName;const N1=rp,tm=m.forwardRef(({className:n,...a},r)=>t.jsx(Oc,{ref:r,className:de("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n),...a}));tm.displayName=Oc.displayName;const Zs=m.forwardRef(({className:n,...a},r)=>t.jsx(Dc,{ref:r,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n),...a}));Zs.displayName=Dc.displayName;const qs=m.forwardRef(({className:n,...a},r)=>t.jsx(zc,{ref:r,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...a}));qs.displayName=zc.displayName;const gc=[{value:"draft",label:"Draft",color:"bg-gray-500"},{value:"available",label:"Available",color:"bg-green-500"},{value:"rented",label:"Rented",color:"bg-blue-500"},{value:"under_maintenance",label:"Under Maintenance",color:"bg-yellow-500"},{value:"coming_soon",label:"Coming Soon",color:"bg-purple-500"},{value:"unpublished",label:"Unpublished",color:"bg-red-500"}],k1=[{value:"public",label:"Public"},{value:"private",label:"Private"},{value:"featured",label:"Featured"}];function S1({property:n,onUpdate:a}){const[r,o]=m.useState(""),[l,d]=m.useState("general"),[u,p]=m.useState(n.scheduledPublishAt?ut(new Date(n.scheduledPublishAt),"yyyy-MM-dd"):""),{data:g}=$n({queryKey:["/api/properties",n.id,"analytics"]}),{data:x,refetch:y}=$n({queryKey:["/api/properties",n.id,"notes"]}),h=xn({mutationFn:async P=>vn("PATCH",`/api/properties/${n.id}/status`,P),onSuccess:()=>{Fn.invalidateQueries({queryKey:["/api/properties",n.id]}),a?.()}}),b=xn({mutationFn:async P=>vn("PATCH",`/api/properties/${n.id}/expiration`,P),onSuccess:()=>{Fn.invalidateQueries({queryKey:["/api/properties",n.id]}),a?.()}}),_=xn({mutationFn:async P=>vn("PATCH",`/api/properties/${n.id}/price`,{price:P}),onSuccess:()=>{Fn.invalidateQueries({queryKey:["/api/properties",n.id]}),Fn.invalidateQueries({queryKey:["/api/properties",n.id,"analytics"]}),a?.()}}),S=xn({mutationFn:async P=>vn("POST",`/api/properties/${n.id}/notes`,P),onSuccess:()=>{o(""),y()}}),j=xn({mutationFn:async P=>vn("DELETE",`/api/properties/${n.id}/notes/${P}`,{}),onSuccess:()=>{y()}}),w=xn({mutationFn:async({noteId:P,isPinned:z})=>vn("PATCH",`/api/properties/${n.id}/notes/${P}`,{isPinned:z}),onSuccess:()=>{y()}}),k=xn({mutationFn:async P=>vn("PATCH",`/api/properties/${n.id}/scheduled-publish`,{scheduledPublishAt:P?new Date(P).toISOString():null}),onSuccess:()=>{Fn.invalidateQueries({queryKey:["/api/properties",n.id]}),a?.()}}),T=gc.find(P=>P.value===(n.listingStatus||"draft"));return t.jsx("div",{className:"space-y-6",children:t.jsxs(N1,{defaultValue:"status",className:"w-full",children:[t.jsxs(tm,{className:"grid w-full grid-cols-4",children:[t.jsx(Zs,{value:"status","data-testid":"tab-status",children:"Status"}),t.jsx(Zs,{value:"analytics","data-testid":"tab-analytics",children:"Analytics"}),t.jsx(Zs,{value:"settings","data-testid":"tab-settings",children:"Settings"}),t.jsx(Zs,{value:"notes","data-testid":"tab-notes",children:"Notes"})]}),t.jsx(qs,{value:"status",className:"space-y-4",children:t.jsxs(Be,{children:[t.jsx(an,{children:t.jsxs(yn,{className:"flex items-center gap-2",children:[t.jsx(od,{className:"h-5 w-5"}),"Listing Status"]})}),t.jsxs(He,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(bt,{children:"Current Status"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(lt,{className:T?.color,children:T?.label||"Unknown"})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(bt,{children:"Change Status"}),t.jsxs(It,{value:n.listingStatus||"draft",onValueChange:P=>h.mutate({listingStatus:P}),"data-testid":"select-listing-status",children:[t.jsx(kt,{children:t.jsx(Ot,{placeholder:"Select status"})}),t.jsx(St,{children:gc.map(P=>t.jsx(ge,{value:P.value,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${P.color}`}),P.label]})},P.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(bt,{children:"Visibility"}),t.jsxs(It,{value:n.visibility||"public",onValueChange:P=>h.mutate({visibility:P}),"data-testid":"select-visibility",children:[t.jsx(kt,{children:t.jsx(Ot,{placeholder:"Select visibility"})}),t.jsx(St,{children:k1.map(P=>t.jsx(ge,{value:P.value,children:P.label},P.value))})]})]})]})]})}),t.jsxs(qs,{value:"analytics",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(Be,{children:t.jsxs(He,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(to,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"Views"})]}),t.jsx("p",{className:"text-2xl font-bold mt-2","data-testid":"text-view-count",children:g?.data?.views||n.viewCount||0})]})}),t.jsx(Be,{children:t.jsxs(He,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qn,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"Saves"})]}),t.jsx("p",{className:"text-2xl font-bold mt-2","data-testid":"text-save-count",children:g?.data?.saves||n.saveCount||0})]})}),t.jsx(Be,{children:t.jsxs(He,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(no,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"Applications"})]}),t.jsx("p",{className:"text-2xl font-bold mt-2","data-testid":"text-application-count",children:g?.data?.applicationCount||n.applicationCount||0})]})}),t.jsx(Be,{children:t.jsxs(He,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ys,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"Listed"})]}),t.jsx("p",{className:"text-sm font-medium mt-2","data-testid":"text-listed-date",children:n.listedAt?ut(new Date(n.listedAt),"MMM d, yyyy"):"Not listed"})]})})]}),g?.data?.priceHistory&&g.data.priceHistory.length>0&&t.jsxs(Be,{children:[t.jsx(an,{children:t.jsxs(yn,{className:"flex items-center gap-2",children:[t.jsx(cd,{className:"h-5 w-5"}),"Price History"]})}),t.jsx(He,{children:t.jsx("div",{className:"space-y-2",children:g.data.priceHistory.map((P,z)=>t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:ut(new Date(P.changedAt),"MMM d, yyyy")}),t.jsxs("span",{className:"font-medium",children:["$",parseFloat(P.price).toLocaleString()]})]},z))})})]})]}),t.jsxs(qs,{value:"settings",className:"space-y-4",children:[t.jsxs(Be,{children:[t.jsx(an,{children:t.jsxs(yn,{className:"flex items-center gap-2",children:[t.jsx(Ys,{className:"h-5 w-5"}),"Expiration Settings"]})}),t.jsxs(He,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(bt,{children:"Auto-Unpublish"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically unpublish listing after expiration"})]}),t.jsx(ta,{checked:n.autoUnpublish??!0,onCheckedChange:P=>b.mutate({autoUnpublish:P}),"data-testid":"switch-auto-unpublish"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(bt,{children:"Expiration Days"}),t.jsxs(It,{value:String(n.expirationDays||90),onValueChange:P=>b.mutate({expirationDays:parseInt(P)}),"data-testid":"select-expiration-days",children:[t.jsx(kt,{children:t.jsx(Ot,{placeholder:"Select days"})}),t.jsxs(St,{children:[t.jsx(ge,{value:"30",children:"30 days"}),t.jsx(ge,{value:"60",children:"60 days"}),t.jsx(ge,{value:"90",children:"90 days"}),t.jsx(ge,{value:"180",children:"180 days"}),t.jsx(ge,{value:"365",children:"1 year"})]})]})]}),n.expiresAt&&t.jsx("div",{className:"p-3 bg-muted rounded-md",children:t.jsxs("p",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Expires:"})," ",t.jsx("span",{className:"font-medium",children:ut(new Date(n.expiresAt),"MMMM d, yyyy")})]})})]})]}),t.jsxs(Be,{children:[t.jsx(an,{children:t.jsxs(yn,{className:"flex items-center gap-2",children:[t.jsx(Ks,{className:"h-5 w-5"}),"Update Price"]})}),t.jsxs(He,{className:"space-y-4",children:[t.jsx("div",{className:"flex gap-2",children:t.jsx(Dt,{type:"number",placeholder:"New price",defaultValue:n.price||"",onBlur:P=>{P.target.value&&P.target.value!==n.price&&_.mutate(P.target.value)},"data-testid":"input-new-price"})}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Price changes are tracked in history for your records"})]})]}),t.jsxs(Be,{children:[t.jsx(an,{children:t.jsxs(yn,{className:"flex items-center gap-2",children:[t.jsx(Wn,{className:"h-5 w-5"}),"Scheduled Publishing"]})}),t.jsxs(He,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(bt,{children:"Publish Date (Optional)"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Set a future date to automatically publish this listing"}),t.jsx(Dt,{type:"date",value:u,onChange:P=>p(P.target.value),min:ut(new Date,"yyyy-MM-dd"),"data-testid":"input-scheduled-publish-date"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ae,{onClick:()=>k.mutate(u||null),disabled:k.isPending,"data-testid":"button-set-scheduled-publish",children:k.isPending?"Setting...":"Set Schedule"}),u&&t.jsx(ae,{variant:"outline",onClick:()=>{p(""),k.mutate(null)},"data-testid":"button-clear-scheduled-publish",children:"Clear"})]}),n.scheduledPublishAt&&t.jsx("div",{className:"p-3 bg-muted rounded-md",children:t.jsxs("p",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Scheduled to publish:"})," ",t.jsx("span",{className:"font-medium",children:ut(new Date(n.scheduledPublishAt),"MMMM d, yyyy")})]})})]})]})]}),t.jsx(qs,{value:"notes",className:"space-y-4",children:t.jsxs(Be,{children:[t.jsx(an,{children:t.jsxs(yn,{className:"flex items-center gap-2",children:[t.jsx(Ix,{className:"h-5 w-5"}),"Internal Notes"]})}),t.jsxs(He,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ja,{placeholder:"Add a private note about this property...",value:r,onChange:P=>o(P.target.value),className:"min-h-[100px]","data-testid":"textarea-new-note"}),t.jsxs("div",{className:"flex gap-2 justify-between items-center",children:[t.jsxs(It,{value:l,onValueChange:d,children:[t.jsx(kt,{className:"w-[150px]","data-testid":"select-note-type",children:t.jsx(Ot,{})}),t.jsxs(St,{children:[t.jsx(ge,{value:"general",children:"General"}),t.jsx(ge,{value:"maintenance",children:"Maintenance"}),t.jsx(ge,{value:"tenant",children:"Tenant"}),t.jsx(ge,{value:"inspection",children:"Inspection"})]})]}),t.jsxs(ae,{onClick:()=>S.mutate({content:r,noteType:l}),disabled:!r.trim()||S.isPending,"data-testid":"button-add-note",children:[t.jsx(ux,{className:"h-4 w-4 mr-2"}),"Add Note"]})]})]}),t.jsxs("div",{className:"space-y-3 mt-4",children:[x?.data?.map(P=>t.jsx("div",{className:`p-3 border rounded-md ${P.is_pinned?"border-primary bg-primary/5":""}`,"data-testid":`note-${P.id}`,children:t.jsxs("div",{className:"flex justify-between items-start gap-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(lt,{variant:"outline",className:"text-xs",children:P.note_type}),P.is_pinned&&t.jsx(Bl,{className:"h-3 w-3 text-primary"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:ut(new Date(P.created_at),"MMM d, yyyy")})]}),t.jsx("p",{className:"text-sm",children:P.content})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(ae,{size:"icon",variant:"ghost",onClick:()=>w.mutate({noteId:P.id,isPinned:!P.is_pinned}),"data-testid":`button-pin-note-${P.id}`,children:t.jsx(Bl,{className:`h-4 w-4 ${P.is_pinned?"text-primary":""}`})}),t.jsx(ae,{size:"icon",variant:"ghost",onClick:()=>j.mutate(P.id),"data-testid":`button-delete-note-${P.id}`,children:t.jsx(Bx,{className:"h-4 w-4 text-destructive"})})]})]})},P.id)),(!x?.data||x.data.length===0)&&t.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No notes yet. Add your first note above."})]})]})]})})]})})}const P1=()=>null;var nm=["PageUp","PageDown"],sm=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rm={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},_s="Slider",[zi,C1,T1]=$i(_s),[am]=Kn(_s,[T1]),[E1,ka]=am(_s),im=m.forwardRef((n,a)=>{const{name:r,min:o=0,max:l=100,step:d=1,orientation:u="horizontal",disabled:p=!1,minStepsBetweenThumbs:g=0,defaultValue:x=[o],value:y,onValueChange:h=()=>{},onValueCommit:b=()=>{},inverted:_=!1,form:S,...j}=n,w=m.useRef(new Set),k=m.useRef(0),P=u==="horizontal"?M1:L1,[z=[],Q]=ms({prop:y,defaultProp:x,onChange:F=>{[...w.current][k.current]?.focus(),h(F)}}),B=m.useRef(z);function H(F){const C=D1(z,F);K(F,C)}function R(F){K(F,k.current)}function W(){const F=B.current[k.current];z[k.current]!==F&&b(z)}function K(F,C,{commit:V}={commit:!1}){const D=H1(d),re=V1(Math.round((F-o)/d)*d+o,D),Z=Js(re,[o,l]);Q((te=[])=>{const I=I1(te,Z,C);if(F1(I,g*d)){k.current=I.indexOf(Z);const G=String(I)!==String(te);return G&&V&&b(I),G?I:te}else return te})}return t.jsx(E1,{scope:n.__scopeSlider,name:r,disabled:p,min:o,max:l,valueIndexToChangeRef:k,thumbs:w.current,values:z,orientation:u,form:S,children:t.jsx(zi.Provider,{scope:n.__scopeSlider,children:t.jsx(zi.Slot,{scope:n.__scopeSlider,children:t.jsx(P,{"aria-disabled":p,"data-disabled":p?"":void 0,...j,ref:a,onPointerDown:we(j.onPointerDown,()=>{p||(B.current=z)}),min:o,max:l,inverted:_,onSlideStart:p?void 0:H,onSlideMove:p?void 0:R,onSlideEnd:p?void 0:W,onHomeKeyDown:()=>!p&&K(o,0,{commit:!0}),onEndKeyDown:()=>!p&&K(l,z.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:C})=>{if(!p){const re=nm.includes(F.key)||F.shiftKey&&sm.includes(F.key)?10:1,Z=k.current,te=z[Z],I=d*re*C;K(te+I,Z,{commit:!0})}}})})})})});im.displayName=_s;var[om,lm]=am(_s,{startEdge:"left",endEdge:"right",size:"width",direction:1}),M1=m.forwardRef((n,a)=>{const{min:r,max:o,dir:l,inverted:d,onSlideStart:u,onSlideMove:p,onSlideEnd:g,onStepKeyDown:x,...y}=n,[h,b]=m.useState(null),_=$e(a,P=>b(P)),S=m.useRef(void 0),j=sa(l),w=j==="ltr",k=w&&!d||!w&&d;function T(P){const z=S.current||h.getBoundingClientRect(),Q=[0,z.width],H=Po(Q,k?[r,o]:[o,r]);return S.current=z,H(P-z.left)}return t.jsx(om,{scope:n.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:t.jsx(cm,{dir:j,"data-orientation":"horizontal",...y,ref:_,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const z=T(P.clientX);u?.(z)},onSlideMove:P=>{const z=T(P.clientX);p?.(z)},onSlideEnd:()=>{S.current=void 0,g?.()},onStepKeyDown:P=>{const Q=rm[k?"from-left":"from-right"].includes(P.key);x?.({event:P,direction:Q?-1:1})}})})}),L1=m.forwardRef((n,a)=>{const{min:r,max:o,inverted:l,onSlideStart:d,onSlideMove:u,onSlideEnd:p,onStepKeyDown:g,...x}=n,y=m.useRef(null),h=$e(a,y),b=m.useRef(void 0),_=!l;function S(j){const w=b.current||y.current.getBoundingClientRect(),k=[0,w.height],P=Po(k,_?[o,r]:[r,o]);return b.current=w,P(j-w.top)}return t.jsx(om,{scope:n.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:t.jsx(cm,{"data-orientation":"vertical",...x,ref:h,style:{...x.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:j=>{const w=S(j.clientY);d?.(w)},onSlideMove:j=>{const w=S(j.clientY);u?.(w)},onSlideEnd:()=>{b.current=void 0,p?.()},onStepKeyDown:j=>{const k=rm[_?"from-bottom":"from-top"].includes(j.key);g?.({event:j,direction:k?-1:1})}})})}),cm=m.forwardRef((n,a)=>{const{__scopeSlider:r,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onHomeKeyDown:u,onEndKeyDown:p,onStepKeyDown:g,...x}=n,y=ka(_s,r);return t.jsx(Re.span,{...x,ref:a,onKeyDown:we(n.onKeyDown,h=>{h.key==="Home"?(u(h),h.preventDefault()):h.key==="End"?(p(h),h.preventDefault()):nm.concat(sm).includes(h.key)&&(g(h),h.preventDefault())}),onPointerDown:we(n.onPointerDown,h=>{const b=h.target;b.setPointerCapture(h.pointerId),h.preventDefault(),y.thumbs.has(b)?b.focus():o(h)}),onPointerMove:we(n.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&l(h)}),onPointerUp:we(n.onPointerUp,h=>{const b=h.target;b.hasPointerCapture(h.pointerId)&&(b.releasePointerCapture(h.pointerId),d(h))})})}),dm="SliderTrack",um=m.forwardRef((n,a)=>{const{__scopeSlider:r,...o}=n,l=ka(dm,r);return t.jsx(Re.span,{"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation,...o,ref:a})});um.displayName=dm;var Bi="SliderRange",hm=m.forwardRef((n,a)=>{const{__scopeSlider:r,...o}=n,l=ka(Bi,r),d=lm(Bi,r),u=m.useRef(null),p=$e(a,u),g=l.values.length,x=l.values.map(b=>pm(b,l.min,l.max)),y=g>1?Math.min(...x):0,h=100-Math.max(...x);return t.jsx(Re.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...o,ref:p,style:{...n.style,[d.startEdge]:y+"%",[d.endEdge]:h+"%"}})});hm.displayName=Bi;var Fi="SliderThumb",mm=m.forwardRef((n,a)=>{const r=C1(n.__scopeSlider),[o,l]=m.useState(null),d=$e(a,p=>l(p)),u=m.useMemo(()=>o?r().findIndex(p=>p.ref.current===o):-1,[r,o]);return t.jsx(A1,{...n,ref:d,index:u})}),A1=m.forwardRef((n,a)=>{const{__scopeSlider:r,index:o,name:l,...d}=n,u=ka(Fi,r),p=lm(Fi,r),[g,x]=m.useState(null),y=$e(a,T=>x(T)),h=g?u.form||!!g.closest("form"):!0,b=Yi(g),_=u.values[o],S=_===void 0?0:pm(_,u.min,u.max),j=O1(o,u.values.length),w=b?.[p.size],k=w?z1(w,S,p.direction):0;return m.useEffect(()=>{if(g)return u.thumbs.add(g),()=>{u.thumbs.delete(g)}},[g,u.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[p.startEdge]:`calc(${S}% + ${k}px)`},children:[t.jsx(zi.ItemSlot,{scope:n.__scopeSlider,children:t.jsx(Re.span,{role:"slider","aria-label":n["aria-label"]||j,"aria-valuemin":u.min,"aria-valuenow":_,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...d,ref:y,style:_===void 0?{display:"none"}:n.style,onFocus:we(n.onFocus,()=>{u.valueIndexToChangeRef.current=o})})}),h&&t.jsx(fm,{name:l??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:_},o)]})});mm.displayName=Fi;var R1="RadioBubbleInput",fm=m.forwardRef(({__scopeSlider:n,value:a,...r},o)=>{const l=m.useRef(null),d=$e(l,o),u=pa(a);return m.useEffect(()=>{const p=l.current;if(!p)return;const g=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(g,"value").set;if(u!==a&&y){const h=new Event("input",{bubbles:!0});y.call(p,a),p.dispatchEvent(h)}},[u,a]),t.jsx(Re.input,{style:{display:"none"},...r,ref:d,defaultValue:a})});fm.displayName=R1;function I1(n=[],a,r){const o=[...n];return o[r]=a,o.sort((l,d)=>l-d)}function pm(n,a,r){const d=100/(r-a)*(n-a);return Js(d,[0,100])}function O1(n,a){return a>2?`Value ${n+1} of ${a}`:a===2?["Minimum","Maximum"][n]:void 0}function D1(n,a){if(n.length===1)return 0;const r=n.map(l=>Math.abs(l-a)),o=Math.min(...r);return r.indexOf(o)}function z1(n,a,r){const o=n/2,d=Po([0,50],[0,o]);return(o-d(a)*r)*r}function B1(n){return n.slice(0,-1).map((a,r)=>n[r+1]-a)}function F1(n,a){if(a>0){const r=B1(n);return Math.min(...r)>=a}return!0}function Po(n,a){return r=>{if(n[0]===n[1]||a[0]===a[1])return a[0];const o=(a[1]-a[0])/(n[1]-n[0]);return a[0]+o*(r-n[0])}}function H1(n){return(String(n).split(".")[1]||"").length}function V1(n,a){const r=Math.pow(10,a);return Math.round(n*r)/r}var gm=im,$1=um,W1=hm,Z1=mm;const Hi=m.forwardRef(({className:n,...a},r)=>t.jsxs(gm,{ref:r,className:de("relative flex w-full touch-none select-none items-center",n),...a,children:[t.jsx($1,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:t.jsx(W1,{className:"absolute h-full bg-primary"})}),t.jsx(Z1,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));Hi.displayName=gm.displayName;function q1({monthlyRent:n,securityDeposit:a=n,petDeposit:r=500,parkingFee:o=150,petsAllowed:l=!1,parkingIncluded:d=!1}){const[u,p]=m.useState(!1),[g,x]=m.useState(!1),[y,h]=m.useState(150),[b,_]=m.useState(30),S=n+y+b+(g&&!d?o:0)+(u&&l?50:0),j=a+n+(u&&l?r:0)+(g&&!d?o:0),w=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(k);return t.jsxs(Be,{className:"border-0 shadow-lg bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-950",children:[t.jsx(an,{className:"pb-4",children:t.jsxs(yn,{className:"flex items-center gap-2 text-lg",children:[t.jsx(sg,{className:"h-5 w-5 text-primary"}),"Cost Calculator"]})}),t.jsxs(He,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 rounded-lg bg-primary/10 dark:bg-primary/20",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Monthly Total"}),t.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"text-monthly-total",children:w(S)})]}),t.jsxs("div",{className:"p-4 rounded-lg bg-green-100 dark:bg-green-900/30",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Move-in Cost"}),t.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400","data-testid":"text-movein-total",children:w(j)})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"Monthly Breakdown"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center py-2 border-b dark:border-gray-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ks,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{children:"Base Rent"})]}),t.jsx("span",{className:"font-semibold",children:w(n)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xs,{className:"h-4 w-4 text-yellow-500"}),t.jsx("span",{children:"Utilities Estimate"})]}),t.jsx("span",{className:"font-semibold",children:w(y)})]}),t.jsx(Hi,{value:[y],onValueChange:k=>h(k[0]),min:50,max:300,step:10,className:"w-full","data-testid":"slider-utilities"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Adjust based on your usage"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(cd,{className:"h-4 w-4 text-blue-500"}),t.jsx("span",{children:"Renter's Insurance"})]}),t.jsx("span",{className:"font-semibold",children:w(b)})]}),t.jsx(Hi,{value:[b],onValueChange:k=>_(k[0]),min:15,max:75,step:5,className:"w-full","data-testid":"slider-insurance"})]}),l&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-t dark:border-gray-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(so,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{children:"Pet Rent"}),t.jsx(lt,{variant:"outline",className:"text-xs",children:"Optional"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`font-semibold ${u?"":"text-muted-foreground"}`,children:u?"+$50/mo":"$0"}),t.jsx(ta,{checked:u,onCheckedChange:p,"data-testid":"switch-pet"})]})]}),!d&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-t dark:border-gray-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ig,{className:"h-4 w-4 text-purple-500"}),t.jsx("span",{children:"Parking"}),t.jsx(lt,{variant:"outline",className:"text-xs",children:"Optional"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`font-semibold ${g?"":"text-muted-foreground"}`,children:g?w(o):"$0"}),t.jsx(ta,{checked:g,onCheckedChange:x,"data-testid":"switch-parking"})]})]})]})]}),t.jsxs("div",{className:"pt-4 border-t dark:border-gray-800",children:[t.jsx("h4",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide mb-3",children:"Move-in Breakdown"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"First Month's Rent"}),t.jsx("span",{className:"font-medium",children:w(n)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Security Deposit"}),t.jsx("span",{className:"font-medium",children:w(a)})]}),u&&l&&t.jsxs("div",{className:"flex justify-between text-orange-600 dark:text-orange-400",children:[t.jsx("span",{children:"Pet Deposit"}),t.jsx("span",{className:"font-medium",children:w(r)})]}),g&&!d&&t.jsxs("div",{className:"flex justify-between text-purple-600 dark:text-purple-400",children:[t.jsx("span",{children:"First Month Parking"}),t.jsx("span",{className:"font-medium",children:w(o)})]}),t.jsxs("div",{className:"flex justify-between pt-2 border-t dark:border-gray-800 text-base font-bold",children:[t.jsx("span",{children:"Total Due at Move-in"}),t.jsx("span",{className:"text-green-600 dark:text-green-400",children:w(j)})]})]})]})]})]})}var Co="Radio",[U1,xm]=Kn(Co),[Y1,K1]=U1(Co),vm=m.forwardRef((n,a)=>{const{__scopeRadio:r,name:o,checked:l=!1,required:d,disabled:u,value:p="on",onCheck:g,form:x,...y}=n,[h,b]=m.useState(null),_=$e(a,w=>b(w)),S=m.useRef(!1),j=h?x||!!h.closest("form"):!0;return t.jsxs(Y1,{scope:r,checked:l,disabled:u,children:[t.jsx(Re.button,{type:"button",role:"radio","aria-checked":l,"data-state":_m(l),"data-disabled":u?"":void 0,disabled:u,value:p,...y,ref:_,onClick:we(n.onClick,w=>{l||g?.(),j&&(S.current=w.isPropagationStopped(),S.current||w.stopPropagation())})}),j&&t.jsx(wm,{control:h,bubbles:!S.current,name:o,value:p,checked:l,required:d,disabled:u,form:x,style:{transform:"translateX(-100%)"}})]})});vm.displayName=Co;var ym="RadioIndicator",bm=m.forwardRef((n,a)=>{const{__scopeRadio:r,forceMount:o,...l}=n,d=K1(ym,r);return t.jsx(xs,{present:o||d.checked,children:t.jsx(Re.span,{"data-state":_m(d.checked),"data-disabled":d.disabled?"":void 0,...l,ref:a})})});bm.displayName=ym;var G1="RadioBubbleInput",wm=m.forwardRef(({__scopeRadio:n,control:a,checked:r,bubbles:o=!0,...l},d)=>{const u=m.useRef(null),p=$e(u,d),g=pa(r),x=Yi(a);return m.useEffect(()=>{const y=u.current;if(!y)return;const h=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(h,"checked").set;if(g!==r&&_){const S=new Event("click",{bubbles:o});_.call(y,r),y.dispatchEvent(S)}},[g,r,o]),t.jsx(Re.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:p,style:{...l.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wm.displayName=G1;function _m(n){return n?"checked":"unchecked"}var X1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Sa="RadioGroup",[J1]=Kn(Sa,[Bc,xm]),jm=Bc(),Nm=xm(),[Q1,ej]=J1(Sa),km=m.forwardRef((n,a)=>{const{__scopeRadioGroup:r,name:o,defaultValue:l,value:d,required:u=!1,disabled:p=!1,orientation:g,dir:x,loop:y=!0,onValueChange:h,...b}=n,_=jm(r),S=sa(x),[j,w]=ms({prop:d,defaultProp:l??null,onChange:h,caller:Sa});return t.jsx(Q1,{scope:r,name:o,required:u,disabled:p,value:j,onValueChange:w,children:t.jsx(ap,{asChild:!0,..._,orientation:g,dir:S,loop:y,children:t.jsx(Re.div,{role:"radiogroup","aria-required":u,"aria-orientation":g,"data-disabled":p?"":void 0,dir:S,...b,ref:a})})})});km.displayName=Sa;var Sm="RadioGroupItem",Pm=m.forwardRef((n,a)=>{const{__scopeRadioGroup:r,disabled:o,...l}=n,d=ej(Sm,r),u=d.disabled||o,p=jm(r),g=Nm(r),x=m.useRef(null),y=$e(a,x),h=d.value===l.value,b=m.useRef(!1);return m.useEffect(()=>{const _=j=>{X1.includes(j.key)&&(b.current=!0)},S=()=>b.current=!1;return document.addEventListener("keydown",_),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",_),document.removeEventListener("keyup",S)}},[]),t.jsx(ip,{asChild:!0,...p,focusable:!u,active:h,children:t.jsx(vm,{disabled:u,required:d.required,checked:h,...g,...l,name:d.name,ref:y,onCheck:()=>d.onValueChange(l.value),onKeyDown:we(_=>{_.key==="Enter"&&_.preventDefault()}),onFocus:we(l.onFocus,()=>{b.current&&x.current?.click()})})})});Pm.displayName=Sm;var tj="RadioGroupIndicator",Cm=m.forwardRef((n,a)=>{const{__scopeRadioGroup:r,...o}=n,l=Nm(r);return t.jsx(bm,{...l,...o,ref:a})});Cm.displayName=tj;var Tm=km,Em=Pm,nj=Cm;const Mm=m.forwardRef(({className:n,...a},r)=>t.jsx(Tm,{className:de("grid gap-2",n),...a,ref:r}));Mm.displayName=Tm.displayName;const Vi=m.forwardRef(({className:n,...a},r)=>t.jsx(Em,{ref:r,className:de("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),...a,children:t.jsx(nj,{className:"flex items-center justify-center",children:t.jsx(nd,{className:"h-3.5 w-3.5 fill-primary"})})}));Vi.displayName=Em.displayName;const sj=["9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM"];function rj({propertyId:n,propertyTitle:a,propertyAddress:r,onSchedule:o,open:l=!1,onOpenChange:d}){const{toast:u}=ao(),[p,g]=m.useState(1),[x,y]=m.useState(0),[h,b]=m.useState(null),[_,S]=m.useState(null),[j,w]=m.useState("in-person"),[k,T]=m.useState({name:"",email:"",phone:"",message:""}),[P,z]=m.useState(!1),Q=Qs(new Date),B=ec(gs(Q,{weekStartsOn:0}),x*7),H=Array.from({length:7},(C,V)=>ec(B,V)),R=C=>{oc(C,Q)||(b(C),S(null))},W=async()=>{if(!h||!_)return;z(!0);const C={date:h,time:_,tourType:j,...k};try{o&&await o(C),u({title:"Tour Scheduled!",description:`Your ${j} tour is confirmed for ${ut(h,"MMMM d")} at ${_}.`}),g(4)}catch{u({title:"Error",description:"Failed to schedule tour. Please try again.",variant:"destructive"})}finally{z(!1)}},K=()=>{g(1),b(null),S(null),T({name:"",email:"",phone:"",message:""})},F=()=>{K(),d?.(!1)};return t.jsx(fa,{open:l,onOpenChange:C=>{C?d?.(C):F()},children:t.jsxs(cr,{className:"sm:max-w-[500px] p-0 overflow-hidden",children:[t.jsxs(dr,{className:"p-6 pb-4 bg-gradient-to-r from-primary/10 to-primary/5",children:[t.jsxs(ur,{className:"flex items-center gap-2",children:[t.jsx(Wn,{className:"h-5 w-5 text-primary"}),"Schedule a Tour"]}),t.jsx(wo,{className:"text-sm",children:a})]}),t.jsx("div",{className:"px-6 py-2",children:t.jsx("div",{className:"flex items-center justify-between mb-4",children:[1,2,3].map(C=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${p>=C?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:p>C?t.jsx(Vr,{className:"h-4 w-4"}):C}),C<3&&t.jsx("div",{className:`w-16 h-0.5 mx-2 ${p>C?"bg-primary":"bg-muted"}`})]},C))})}),t.jsxs("div",{className:"px-6 pb-6",children:[p===1&&t.jsxs("div",{className:"space-y-4","data-testid":"tour-step-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>y(Math.max(0,x-1)),disabled:x===0,"data-testid":"button-prev-week",children:t.jsx($r,{className:"h-4 w-4"})}),t.jsxs("span",{className:"font-medium",children:[ut(H[0],"MMM d")," - ",ut(H[6],"MMM d, yyyy")]}),t.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>y(x+1),disabled:x>=3,"data-testid":"button-next-week",children:t.jsx(fs,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"grid grid-cols-7 gap-2",children:H.map(C=>{const V=oc(C,Q),D=h&&nc(C,h),re=nc(C,Q);return t.jsxs("button",{onClick:()=>R(C),disabled:V,className:`p-2 rounded-lg text-center transition-all ${V?"opacity-40 cursor-not-allowed":D?"bg-primary text-primary-foreground":"hover:bg-muted"} ${re&&!D?"ring-2 ring-primary ring-offset-2":""}`,"data-testid":`date-${ut(C,"yyyy-MM-dd")}`,children:[t.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:ut(C,"EEE")}),t.jsx("div",{className:"text-lg font-medium",children:ut(C,"d")})]},C.toISOString())})}),h&&t.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[t.jsxs("p",{className:"text-sm font-medium",children:["Available times for ",ut(h,"EEEE, MMMM d")]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:sj.map(C=>t.jsx(ae,{variant:_===C?"default":"outline",size:"sm",onClick:()=>S(C),"data-testid":`time-${C.replace(/\s/g,"-")}`,children:C},C))})]}),t.jsx(ae,{className:"w-full",disabled:!h||!_,onClick:()=>g(2),"data-testid":"button-continue-step-1",children:"Continue"})]}),p===2&&t.jsxs("div",{className:"space-y-4","data-testid":"tour-step-2",children:[t.jsxs("div",{className:"p-3 bg-muted rounded-lg flex items-center gap-3",children:[t.jsx(Ys,{className:"h-5 w-5 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:h&&ut(h,"EEEE, MMMM d")}),t.jsx("p",{className:"text-sm text-muted-foreground",children:_})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(bt,{children:"Tour Type"}),t.jsxs(Mm,{value:j,onValueChange:C=>w(C),className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx(Vi,{value:"in-person",id:"in-person",className:"peer sr-only"}),t.jsxs(bt,{htmlFor:"in-person",className:"flex flex-col items-center justify-center p-4 border-2 rounded-lg cursor-pointer peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5",children:[t.jsx(Tt,{className:"h-6 w-6 mb-2"}),t.jsx("span",{className:"font-medium",children:"In-Person"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:"Visit the property"})]})]}),t.jsxs("div",{children:[t.jsx(Vi,{value:"video",id:"video",className:"peer sr-only"}),t.jsxs(bt,{htmlFor:"video",className:"flex flex-col items-center justify-center p-4 border-2 rounded-lg cursor-pointer peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5",children:[t.jsx(yi,{className:"h-6 w-6 mb-2"}),t.jsx("span",{className:"font-medium",children:"Video Tour"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:"Live video call"})]})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ae,{variant:"outline",onClick:()=>g(1),className:"flex-1",children:"Back"}),t.jsx(ae,{onClick:()=>g(3),className:"flex-1","data-testid":"button-continue-step-2",children:"Continue"})]})]}),p===3&&t.jsxs("div",{className:"space-y-4","data-testid":"tour-step-3",children:[t.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[j==="in-person"?t.jsx(Tt,{className:"h-4 w-4 text-primary"}):t.jsx(yi,{className:"h-4 w-4 text-primary"}),t.jsxs("span",{className:"font-medium capitalize",children:[j," Tour"]})]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[h&&ut(h,"EEEE, MMMM d")," at ",_]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx(bt,{htmlFor:"name",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(dd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(Dt,{id:"name",placeholder:"John Doe",value:k.name,onChange:C=>T({...k,name:C.target.value}),className:"pl-10","data-testid":"input-name"})]})]}),t.jsxs("div",{children:[t.jsx(bt,{htmlFor:"email",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(aa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(Dt,{id:"email",type:"email",placeholder:"john@example.com",value:k.email,onChange:C=>T({...k,email:C.target.value}),className:"pl-10","data-testid":"input-email"})]})]}),t.jsxs("div",{children:[t.jsx(bt,{htmlFor:"phone",children:"Phone"}),t.jsxs("div",{className:"relative",children:[t.jsx(oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(Dt,{id:"phone",type:"tel",placeholder:"(555) 123-4567",value:k.phone,onChange:C=>T({...k,phone:C.target.value}),className:"pl-10","data-testid":"input-phone"})]})]}),t.jsxs("div",{children:[t.jsx(bt,{htmlFor:"message",children:"Message (Optional)"}),t.jsx(ja,{id:"message",placeholder:"Any questions or special requests?",value:k.message,onChange:C=>T({...k,message:C.target.value}),rows:3,"data-testid":"input-message"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ae,{variant:"outline",onClick:()=>g(2),className:"flex-1",children:"Back"}),t.jsx(ae,{onClick:W,className:"flex-1",disabled:!k.name||!k.email||!k.phone||P,"data-testid":"button-confirm-tour",children:P?"Scheduling...":"Confirm Tour"})]})]}),p===4&&t.jsxs("div",{className:"text-center space-y-4 py-6","data-testid":"tour-step-4",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto",children:t.jsx(Vr,{className:"h-8 w-8 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-1",children:"Tour Scheduled!"}),t.jsxs("p",{className:"text-muted-foreground",children:["Your ",j," tour is confirmed for"]}),t.jsxs("p",{className:"font-medium text-lg",children:[h&&ut(h,"EEEE, MMMM d")," at ",_]})]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["A confirmation email has been sent to ",k.email]}),t.jsx(ae,{onClick:F,className:"w-full","data-testid":"button-done",children:"Done"})]})]})]})})}function aj({price:n,propertyId:a,propertyTitle:r,onContactClick:o,onScheduleClick:l,onCallClick:d,isFavorited:u,onFavoriteClick:p,agentPhone:g}){const[x,y]=m.useState(!1),h=async()=>{navigator.share?await navigator.share({title:r,url:window.location.href}):navigator.clipboard.writeText(window.location.href)};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white dark:bg-gray-900 border-t shadow-2xl md:hidden transform transition-transform","data-testid":"sticky-action-bar",children:[x&&t.jsxs("div",{className:"p-4 border-b dark:border-gray-800 animate-in slide-in-from-bottom duration-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs(ae,{variant:"outline",className:"flex items-center gap-2",onClick:p,"data-testid":"button-sticky-save",children:[t.jsx(qn,{className:`h-4 w-4 ${u?"fill-red-500 text-red-500":""}`}),u?"Saved":"Save"]}),t.jsxs(ae,{variant:"outline",className:"flex items-center gap-2",onClick:h,"data-testid":"button-sticky-share",children:[t.jsx(la,{className:"h-4 w-4"}),"Share"]})]}),g&&t.jsxs(ae,{variant:"outline",className:"w-full mt-3 flex items-center justify-center gap-2",onClick:d,"data-testid":"button-sticky-call",children:[t.jsx(oa,{className:"h-4 w-4"}),"Call ",g]})]}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-2xl font-bold",children:Vn(n)}),t.jsx("span",{className:"text-muted-foreground",children:"/mo"})]}),t.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>y(!x),"data-testid":"button-expand-actions",children:t.jsx(Hn,{className:`h-5 w-5 transition-transform ${x?"rotate-180":""}`})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs(ae,{onClick:l,variant:"outline",className:"flex items-center gap-2","data-testid":"button-sticky-schedule",children:[t.jsx(Wn,{className:"h-4 w-4"}),"Schedule Tour"]}),t.jsxs(ae,{onClick:o,className:"flex items-center gap-2 bg-primary","data-testid":"button-sticky-contact",children:[t.jsx(rx,{className:"h-4 w-4"}),"Contact"]})]})]})]}),t.jsx("div",{className:"h-[140px] md:hidden","aria-hidden":"true"})]})}function ij(n,a){return!n||!a?{}:{}}const oj={Parking:{icon:id,label:"Parking",color:"text-blue-600 dark:text-blue-400"},"Air Conditioning":{icon:Fl,label:"Air Conditioning",color:"text-cyan-600 dark:text-cyan-400"},AC:{icon:Fl,label:"Air Conditioning",color:"text-cyan-600 dark:text-cyan-400"},Heating:{icon:Tg,label:"Heating",color:"text-orange-600 dark:text-orange-400"},"Pet Friendly":{icon:Il,label:"Pet Friendly",color:"text-amber-600 dark:text-amber-400"},"Pets Allowed":{icon:Il,label:"Pet Friendly",color:"text-amber-600 dark:text-amber-400"},Furnished:{icon:qp,label:"Furnished",color:"text-yellow-600 dark:text-yellow-400"},Balcony:{icon:ld,label:"Balcony",color:"text-green-600 dark:text-green-400"},"In-Unit Laundry":{icon:Xs,label:"In-Unit Laundry",color:"text-purple-600 dark:text-purple-400"},Laundry:{icon:Xs,label:"In-Unit Laundry",color:"text-purple-600 dark:text-purple-400"},"Security System":{icon:zl,label:"Security System",color:"text-red-600 dark:text-red-400"},Security:{icon:zl,label:"Security System",color:"text-red-600 dark:text-red-400"}};function lj({amenities:n=[]}){return!n||n.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400","data-testid":"section-amenities-empty",children:t.jsx("p",{children:"No amenities information available."})}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4","data-testid":"section-amenities-grid",children:n.map((a,r)=>{const o=oj[a]||{icon:id,label:a,color:"text-gray-600 dark:text-gray-400"},l=o.icon;return t.jsx(Be,{className:"border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 hover:border-primary/30 dark:hover:border-primary/30 transition-all duration-200 hover-elevate","data-testid":`card-amenity-${a.replace(/\s+/g,"-").toLowerCase()}`,children:t.jsxs(He,{className:"p-4 flex flex-col items-center text-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 transition-colors duration-200",children:t.jsx(l,{className:`h-6 w-6 ${o.color}`})}),t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white leading-tight",children:o.label})]})},`${a}-${r}`)})})}const gn={school:{icon:xx,color:"#3B82F6"},shopping:{icon:kx,color:"#10B981"},transit:{icon:Dx,color:"#8B5CF6"},park:{icon:ld,color:"#22C55E"},restaurant:{icon:Gx,color:"#F59E0B"},cafe:{icon:yg,color:"#A78BFA"},gym:{icon:jg,color:"#EF4444"},default:{icon:eo,color:"#6B7280"}};function cj(n){const a=n.toLowerCase();return a.includes("school")||a.includes("education")?gn.school:a.includes("shop")||a.includes("store")||a.includes("mall")?gn.shopping:a.includes("transit")||a.includes("station")||a.includes("bus")?gn.transit:a.includes("park")||a.includes("garden")?gn.park:a.includes("restaurant")||a.includes("food")?gn.restaurant:a.includes("cafe")||a.includes("coffee")?gn.cafe:a.includes("gym")||a.includes("fitness")?gn.gym:gn.default}function dj(n){return new Xn.DivIcon({className:"custom-marker",html:`<div style="background-color: ${n}; width: 24px; height: 24px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.3);"></div>`,iconSize:[24,24],iconAnchor:[12,12]})}function uj({onZoomIn:n,onZoomOut:a,onReset:r}){return t.jsxs("div",{className:"absolute top-3 right-3 z-[1000] flex flex-col gap-1",children:[t.jsx(ae,{size:"icon",variant:"secondary",className:"h-8 w-8 bg-white dark:bg-gray-800 shadow-md",onClick:n,"data-testid":"button-map-zoom-in",children:"+"}),t.jsx(ae,{size:"icon",variant:"secondary",className:"h-8 w-8 bg-white dark:bg-gray-800 shadow-md",onClick:a,"data-testid":"button-map-zoom-out",children:"-"}),t.jsx(ae,{size:"icon",variant:"secondary",className:"h-8 w-8 bg-white dark:bg-gray-800 shadow-md text-xs",onClick:r,"data-testid":"button-map-reset",children:t.jsx(Tt,{className:"h-4 w-4"})})]})}function hj({center:n}){const a=Y_(),r=()=>a.zoomIn(),o=()=>a.zoomOut(),l=()=>{a.setView(n,15)};return t.jsx(uj,{onZoomIn:r,onZoomOut:o,onReset:l})}function mj({center:n,title:a,address:r,nearbyPlaces:o={},showControls:l=!0}){const[d,u]=m.useState(!0),[p,g]=m.useState(null);if(!n||!n[0]||!n[1])return t.jsx("div",{className:"w-full h-[400px] rounded-lg bg-muted flex items-center justify-center","data-testid":"section-map-unavailable",children:t.jsx("p",{className:"text-muted-foreground text-center",children:"Location data unavailable."})});const x=(S,j)=>{const w=[0,45,90,135,180,225,270,315],k=w[j%w.length]*Math.PI/180,T=.002+j*5e-4;return[S[0]+T*Math.cos(k),S[1]+T*Math.sin(k)]},y=[];let h=0;Object.entries(o).forEach(([S,j])=>{j.forEach(w=>{y.push({name:w.name,type:S,distance:`${w.distance} mi`,coords:x(n,h)}),h++})});const b=p?y.filter(S=>S.type.toLowerCase().includes(p.toLowerCase())):y,_=["School","Shopping","Transit","Park","Restaurant"];return t.jsxs("div",{className:"relative w-full rounded-lg overflow-hidden border","data-testid":"section-interactive-map",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-3 bg-gray-50 dark:bg-gray-900 border-b",children:[t.jsxs(ae,{variant:d?"default":"outline",size:"sm",onClick:()=>u(!d),"data-testid":"button-toggle-nearby",children:[t.jsx(Tt,{className:"h-3 w-3 mr-1"}),"Nearby Places"]}),d&&t.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.jsx(lt,{variant:p===null?"default":"outline",className:"cursor-pointer text-xs",onClick:()=>g(null),children:"All"}),_.map(S=>t.jsx(lt,{variant:p===S.toLowerCase()?"default":"outline",className:"cursor-pointer text-xs",onClick:()=>g(p===S.toLowerCase()?null:S.toLowerCase()),children:S},S))]})]}),t.jsxs(Ah,{center:n,zoom:15,style:{height:"400px",width:"100%"},scrollWheelZoom:!0,className:"map-container z-0",zoomControl:!1,children:[t.jsx(Rh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l&&t.jsx(hj,{center:n}),t.jsx(K_,{center:n,radius:500,pathOptions:{color:"hsl(var(--primary))",fillColor:"hsl(var(--primary))",fillOpacity:.1,weight:2}}),t.jsx(Oi,{position:n,"data-testid":"marker-property",children:t.jsx(Di,{"data-testid":"popup-property",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"font-semibold text-sm",children:a}),t.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})})}),d&&b.map((S,j)=>{const{color:w}=cj(S.type);return t.jsx(Oi,{position:S.coords,icon:dj(w),"data-testid":`marker-nearby-${j}`,children:t.jsx(Di,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-sm",children:S.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:S.type}),t.jsx("p",{className:"text-xs font-medium text-primary",children:S.distance})]})})},j)})]}),d&&b.length>0&&t.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 border-t",children:t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing ",b.length," nearby ",b.length===1?"place":"places",p&&` in ${p}`]})})]})}const fj={Restaurants:ud,Groceries:Px,Schools:Rg,Transit:tg},pj={Restaurants:"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-100",Groceries:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-100",Schools:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-100",Transit:"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-100"};function gj({places:n}){const a=Object.keys(n);return a.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400","data-testid":"section-nearby-places-empty",children:t.jsx("p",{children:"No nearby places found."})}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4","data-testid":"section-nearby-places-grid",children:a.map(r=>{const o=fj[r]||ud,l=pj[r]||"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-100",d=n[r]||[];return t.jsx(Be,{className:"border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 hover:border-primary/30 dark:hover:border-primary/30 transition-all duration-200","data-testid":`card-category-${r.toLowerCase()}`,children:t.jsxs(He,{className:"p-4",children:[t.jsxs("div",{className:`flex items-center gap-2 rounded-lg p-2 mb-3 ${l}`,children:[t.jsx(o,{className:"h-5 w-5"}),t.jsx("h3",{className:"text-sm font-semibold",children:r})]}),t.jsx("div",{className:"space-y-2",children:d.slice(0,5).map((u,p)=>t.jsxs("div",{"data-testid":`place-${r.toLowerCase()}-${p}`,children:[t.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-white leading-tight truncate",children:u.name}),t.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[u.distance," mi"]})]},p))})]})},r)})})}function Lm(){return t.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:t.jsx(Be,{className:"w-full max-w-md mx-4",children:t.jsxs(He,{className:"pt-6",children:[t.jsxs("div",{className:"flex mb-4 gap-2",children:[t.jsx(xi,{className:"h-8 w-8 text-destructive"}),t.jsx("h1",{className:"text-2xl font-bold",children:"404 Page Not Found"})]}),t.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Did you forget to add the page to the router?"})]})})})}function xj({agent:n,propertyId:a,propertyTitle:r,triggerText:o,triggerClassName:l,triggerIcon:d,triggerVariant:u="default"}){const[p,g]=m.useState(!1),[x,y]=m.useState(""),[h,b]=m.useState(""),[_,S]=m.useState(""),[j,w]=m.useState(""),[k,T]=m.useState(!1),P=B=>{if(B.preventDefault(),!x||!h||!_||!j){Ur.error("Please fill in all fields");return}T(!0);const H=JSON.parse(localStorage.getItem("choiceProperties_inquiries")||"[]");H.push({id:`inquiry_${Date.now()}`,agentId:n.id,agentName:n.name,agentEmail:n.email,propertyId:a||null,propertyTitle:r||null,senderName:x,senderEmail:h,senderPhone:_,message:j,status:"pending",createdAt:new Date().toISOString()}),localStorage.setItem("choiceProperties_inquiries",JSON.stringify(H)),setTimeout(()=>{T(!1),Ur.success(`Message sent to ${n.name}!`),g(!1),y(""),b(""),S(""),w("")},500)},z=d&&!o,Q=o??"Contact Agent";return t.jsxs(fa,{open:p,onOpenChange:g,children:[t.jsx(fw,{asChild:!0,children:t.jsx(ae,{variant:u,size:z?"icon":"default",className:l||(z?"":"w-full font-semibold"),"aria-label":z?"Contact agent":void 0,children:z?d:t.jsxs(t.Fragment,{children:[d||t.jsx(aa,{className:"h-4 w-4 mr-2"}),Q]})})}),t.jsxs(cr,{className:"sm:max-w-[500px]",children:[t.jsxs(dr,{children:[t.jsxs(ur,{children:["Contact ",n.name]}),t.jsxs(wo,{children:["Send a message to discuss ",r?`${r} or `:"","your real estate needs"]})]}),t.jsxs("form",{onSubmit:P,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Your Name"}),t.jsx(Dt,{placeholder:"John Doe",value:x,onChange:B=>y(B.target.value),disabled:k})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Your Email"}),t.jsx(Dt,{type:"email",placeholder:"john@example.com",value:h,onChange:B=>b(B.target.value),disabled:k})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Your Phone"}),t.jsx(Dt,{type:"tel",placeholder:"(555) 123-4567",value:_,onChange:B=>S(B.target.value),disabled:k})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Message"}),t.jsx(ja,{placeholder:"Tell us what you're looking for...",value:j,onChange:B=>w(B.target.value),disabled:k,className:"min-h-[100px]"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(ae,{type:"button",variant:"outline",onClick:()=>g(!1),disabled:k,className:"flex-1",children:"Cancel"}),t.jsx(ae,{type:"submit",disabled:k,className:"flex-1 bg-primary hover:bg-primary/90",children:k?"Sending...":"Send Message"})]}),t.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[n.name," will receive your message and contact you shortly"]})]})]})]})}function vj(){return t.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 flex flex-col",children:[t.jsx("div",{className:"h-24"}),t.jsx("div",{className:"max-w-[1400px] mx-auto w-full p-2 md:p-4",children:t.jsx(Se,{className:"w-full aspect-video rounded-lg","data-testid":"skeleton-main-image"})}),t.jsx("div",{className:"container mx-auto px-4 max-w-[1200px] py-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx(Se,{className:"h-10 w-3/4","data-testid":"skeleton-title"}),t.jsx(Se,{className:"h-6 w-full","data-testid":"skeleton-address"}),t.jsx(Se,{className:"h-6 w-2/3","data-testid":"skeleton-price"})]}),t.jsxs("div",{className:"flex gap-3 flex-wrap",children:[t.jsx(Se,{className:"h-10 w-32","data-testid":"skeleton-button-1"}),t.jsx(Se,{className:"h-10 w-28","data-testid":"skeleton-button-2"}),t.jsx(Se,{className:"h-10 w-28","data-testid":"skeleton-button-3"})]}),t.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-800"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Se,{className:"h-8 w-1/3","data-testid":"skeleton-overview-title"}),t.jsx(Se,{className:"h-20 w-full","data-testid":"skeleton-overview-text"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Se,{className:"h-8 w-1/3","data-testid":"skeleton-amenities-title"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:8}).map((n,a)=>t.jsx(Se,{className:"aspect-square rounded-lg","data-testid":`skeleton-amenity-card-${a}`},a))})]}),t.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-800"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Se,{className:"h-8 w-1/3","data-testid":"skeleton-reviews-title"}),t.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((n,a)=>t.jsx(Be,{className:"border-gray-200 dark:border-gray-800",children:t.jsxs(He,{className:"p-4 space-y-3",children:[t.jsx(Se,{className:"h-4 w-20"}),t.jsx(Se,{className:"h-6 w-1/2"}),t.jsx(Se,{className:"h-16 w-full"})]})},a))})]}),t.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-800"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Se,{className:"h-8 w-1/2","data-testid":"skeleton-location-title"}),t.jsx(Se,{className:"w-full aspect-video rounded-lg","data-testid":"skeleton-map"})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs(Be,{className:"sticky top-24 shadow-lg border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[t.jsxs("div",{className:"bg-primary p-4 text-white",children:[t.jsx(Se,{className:"h-6 w-1/2 bg-primary/50"}),t.jsx(Se,{className:"h-4 w-2/3 mt-2 bg-primary/50"})]}),t.jsxs(He,{className:"p-6 space-y-4",children:[t.jsx(Se,{className:"h-12 w-full","data-testid":"skeleton-sidebar-button-1"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-800 flex-1"}),t.jsx(Se,{className:"h-4 w-6"}),t.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-800 flex-1"})]}),t.jsx(Se,{className:"h-12 w-full","data-testid":"skeleton-sidebar-button-2"})]})]})})]})})]})}const yj={"placeholder-exterior":jn,"placeholder-living":go,"placeholder-kitchen":xo,"placeholder-bedroom":vo};function bj(){const[n,a]=Lp("/property/:id"),r=a?.id,{user:o}=vs(),{isFavorited:l,toggleFavorite:d}=co(),[u,p]=m.useState(!1),[g,x]=m.useState(0),[y,h]=m.useState({overview:!0,facts:!0,amenities:!1,location:!1,management:!1}),[b,_]=m.useState(!1),{data:S,isLoading:j}=$n({queryKey:["/api/v2/properties",r],enabled:!!r&&!!n,queryFn:async()=>{const q=await(await fetch(`/api/v2/properties/${r}`)).json(),ue=q?.data||q;return{property:ue,owner:ue?.owner||null}}}),w=S?.property,k=S?.owner,{data:T=[]}=$n({queryKey:["/api/v2/reviews/property",r],enabled:!!r,select:G=>G?.data??[]}),{data:P}=$n({queryKey:["/api/v2/images/property",r],enabled:!!r,select:G=>G?.data??[]}),z=w?.latitude?parseFloat(String(w.latitude)):34.0522,Q=w?.longitude?parseFloat(String(w.longitude)):-118.2437,B=ij(z,Q),H=w?.bedrooms||0,R=w?Math.round(hs(w.bathrooms)):0,W=w?.square_feet||0;m.useEffect(()=>(w&&(bo({title:`${w.title} - ${H}bd, ${R}ba in ${w.city}`,description:`${w.title} - ${Vn(w.price)}/month. ${H} bedrooms, ${R} bathrooms, ${W} sqft.`,image:"https://choiceproperties.com/og-image.png",url:`https://choiceproperties.com/property/${w.id}`,type:"property"}),Pi(lw(w),"property")),()=>{ow("property")}),[w,H,R,W]);const K=w&&P&&P.length>0?P.map(G=>G.imageUrls.gallery):w&&(w.images||[]).length>0?w.images.map(G=>yj[G]||jn):[jn,go,xo,vo];if(m.useEffect(()=>{if(!u)return;let G=0,q=0;const ue=K.length,ye=Y=>{Y.key==="Escape"?p(!1):Y.key==="ArrowRight"?(Y.preventDefault(),x($=>($+1)%ue)):Y.key==="ArrowLeft"&&(Y.preventDefault(),x($=>($-1+ue)%ue))},E=Y=>{G=Y.changedTouches[0].screenX},X=Y=>{q=Y.changedTouches[0].screenX,J()},J=()=>{const $=G-q;Math.abs($)>50&&($>0?x(ne=>(ne+1)%ue):x(ne=>(ne-1+ue)%ue))};return document.addEventListener("keydown",ye),document.addEventListener("touchstart",E),document.addEventListener("touchend",X),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",ye),document.removeEventListener("touchstart",E),document.removeEventListener("touchend",X),document.body.style.overflow="unset"}},[u,K.length]),!n)return t.jsx(Lm,{});if(j||!w)return t.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[t.jsx(Jr,{}),t.jsx(vj,{}),t.jsx(Qr,{})]});const F=P&&P.length>0?P.map(G=>G.imageUrls.thumbnail):K,C=[z,Q],V=T&&T.length>0?T.reduce((G,q)=>G+(q.rating||0),0)/T.length:0,D=G=>{h(q=>({...q,[G]:!q[G]}))},re=()=>x(G=>(G+1)%K.length),Z=()=>x(G=>(G-1+K.length)%K.length),te=()=>(g-1+K.length)%K.length,I=()=>(g+1)%K.length;return t.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 flex flex-col",children:[t.jsx(Jr,{}),u&&t.jsxs(t.Fragment,{children:[t.jsx("link",{rel:"preload",as:"image",href:K[I()]}),t.jsx("link",{rel:"preload",as:"image",href:K[te()]})]}),u&&t.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col",role:"dialog","aria-modal":"true","aria-label":`Photo gallery for ${w.title}`,"data-testid":"gallery-modal",children:[t.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-white/10",children:[t.jsxs("span",{className:"text-white text-lg font-semibold",children:[g+1," / ",K.length]}),t.jsx(ae,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>p(!1),"data-testid":"button-close-gallery","aria-label":"Close gallery",children:t.jsx(cn,{className:"h-6 w-6"})})]}),t.jsxs("div",{className:"flex-1 flex items-center justify-center relative",children:[t.jsx(ae,{variant:"ghost",size:"icon",className:"absolute left-4 text-white hover:bg-white/20 h-12 w-12",onClick:Z,"data-testid":"button-prev-image","aria-label":"Previous image",children:t.jsx($r,{className:"h-8 w-8"})}),t.jsx("img",{src:K[g],alt:`${w.title} - Photo ${g+1}`,className:"max-h-[80vh] max-w-[90vw] object-contain animate-in fade-in duration-300"},g),t.jsx(ae,{variant:"ghost",size:"icon",className:"absolute right-4 text-white hover:bg-white/20 h-12 w-12",onClick:re,"data-testid":"button-next-image","aria-label":"Next image",children:t.jsx(fs,{className:"h-8 w-8"})})]}),t.jsx("div",{className:"flex gap-2 p-4 overflow-x-auto justify-center",children:F.map((G,q)=>t.jsx("button",{onClick:()=>x(q),className:`flex-shrink-0 rounded overflow-hidden transition-all cursor-pointer ${q===g?"ring-2 ring-white":"opacity-50 hover:opacity-100"}`,"data-testid":`thumbnail-${q}`,"aria-label":`View photo ${q+1}`,"aria-current":q===g?"true":"false",children:t.jsx("img",{src:G,alt:`Thumbnail ${q+1}`,className:"w-16 h-12 object-cover"})},q))})]}),t.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-900",children:t.jsxs("div",{className:"max-w-[1400px] mx-auto",children:[t.jsxs("div",{className:"hidden md:grid grid-cols-4 grid-rows-2 gap-1 h-[450px] cursor-pointer",onClick:()=>p(!0),children:[t.jsxs("div",{className:"col-span-2 row-span-2 relative group overflow-hidden bg-gray-200 dark:bg-gray-800",children:[t.jsx("img",{src:K[0],alt:w.title,loading:"lazy",decoding:"async",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105","data-testid":"hero-image-primary"}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"}),K.length>0&&t.jsxs("div",{className:"absolute top-3 right-3 bg-black/70 text-white px-3 py-1.5 rounded-lg flex items-center gap-1.5 font-semibold text-sm",children:[t.jsx(Wr,{className:"h-4 w-4"}),K.length]})]}),K.slice(1,5).map((G,q)=>t.jsxs("div",{className:"relative group overflow-hidden bg-gray-200 dark:bg-gray-800",children:[t.jsx("img",{src:G,alt:`${w.title} - ${q+2}`,loading:"lazy",decoding:"async",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"}),q===3&&K.length>5&&t.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:t.jsxs("span",{className:"text-white font-bold text-xl",children:["+",K.length-5," more"]})})]},q)),t.jsxs("button",{className:"absolute bottom-4 right-4 bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 font-semibold text-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:G=>{G.stopPropagation(),p(!0)},"data-testid":"button-view-all-photos",children:[t.jsx(Og,{className:"h-4 w-4"}),"View all ",K.length," photos"]})]}),t.jsxs("div",{className:"md:hidden relative h-72 bg-gray-200 dark:bg-gray-800 cursor-pointer",onClick:()=>p(!0),children:[t.jsx("img",{src:K[g],alt:w.title,loading:"lazy",decoding:"async",className:"w-full h-full object-cover","data-testid":"hero-image-mobile"}),t.jsxs("div",{className:"absolute top-3 right-3 bg-black/70 text-white px-3 py-1.5 rounded-lg flex items-center gap-1.5 font-semibold text-sm",children:[t.jsx(Wr,{className:"h-4 w-4"}),K.length]}),t.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between items-center",children:[t.jsxs("span",{className:"bg-black/70 text-white px-3 py-1 rounded text-sm font-medium",children:[g+1,"/",K.length]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ae,{size:"icon",variant:"ghost",className:"bg-black/70 text-white h-8 w-8",onClick:G=>{G.stopPropagation(),Z()},children:t.jsx($r,{className:"h-5 w-5"})}),t.jsx(ae,{size:"icon",variant:"ghost",className:"bg-black/70 text-white h-8 w-8",onClick:G=>{G.stopPropagation(),re()},children:t.jsx(fs,{className:"h-5 w-5"})})]})]})]})]})}),t.jsx("div",{className:"max-w-[1400px] mx-auto w-full px-4 py-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx(Be,{className:"border-gray-200 dark:border-gray-800 overflow-hidden",children:t.jsxs(He,{className:"p-6 space-y-5",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white leading-tight","data-testid":"property-headline",children:[w.title||`Spacious ${H}-Bedroom ${w.property_type||"Home"}`,w.furnished&&" | Furnished",W>2e3&&" | Large Layout"]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[t.jsx(Tt,{className:"h-4 w-4 text-primary flex-shrink-0"}),t.jsxs("span",{className:"text-base",children:[w.address,", ",w.city,", ",w.state," ",w.zip_code]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(G=>t.jsx(ln,{className:`h-3.5 w-3.5 ${G<=Math.round(V||4.8)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},G))}),t.jsx("span",{className:"font-medium",children:(V||4.8).toFixed(1)}),t.jsxs("span",{className:"text-gray-500",children:["(",T?.length||0," reviews)"]})]}),t.jsx(on,{orientation:"vertical",className:"h-4"}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(Ys,{className:"h-3.5 w-3.5"}),t.jsx("span",{children:"Responds within 2 hours"})]}),t.jsx(on,{orientation:"vertical",className:"h-4"}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(rn,{className:"h-3.5 w-3.5 text-green-600"}),t.jsx("span",{children:"98% response rate"})]})]}),t.jsx(on,{}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3 md:gap-6",children:[t.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg",children:[t.jsx(ar,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-bold text-lg text-gray-900 dark:text-white",children:H}),t.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"bd"})]}),t.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg",children:[t.jsx(ra,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-bold text-lg text-gray-900 dark:text-white",children:R}),t.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"ba"})]}),t.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg",children:[t.jsx(ia,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-bold text-lg text-gray-900 dark:text-white",children:W.toLocaleString()}),t.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"sqft"})]}),w.furnished&&t.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg",children:[t.jsx(vi,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Furnished"})]}),w.pets_allowed!==void 0&&t.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg",children:[t.jsx(so,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:w.pets_allowed?"Pets OK":"No Pets"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wn,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"font-medium text-green-700 dark:text-green-400",children:"Available Now"})]}),t.jsx(on,{orientation:"vertical",className:"h-4"}),t.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[w.lease_term||"12 month"," lease minimum"]})]}),t.jsx(on,{}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(lt,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:w.status==="active"?"Available":w.status}),t.jsxs(lt,{variant:"outline",className:"flex items-center gap-1 bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-950 dark:text-blue-300 dark:border-blue-800",children:[t.jsx(Gs,{className:"h-3 w-3"}),"Verified Listing"]}),t.jsxs(lt,{variant:"outline",className:"flex items-center gap-1 bg-purple-50 text-purple-700 border-purple-200 dark:bg-purple-950 dark:text-purple-300 dark:border-purple-800",children:[t.jsx(rn,{className:"h-3 w-3"}),"Verified Photos"]}),t.jsxs(lt,{variant:"outline",className:"flex items-center gap-1",children:[t.jsx(eo,{className:"h-3 w-3"}),w.property_type||"Apartment"]})]}),t.jsxs("div",{className:"hidden md:flex gap-3 pt-2",children:[t.jsxs(ae,{onClick:()=>d(w.id),variant:"outline",className:"flex items-center gap-2","data-testid":"button-save",children:[t.jsx(qn,{className:`h-5 w-5 ${l(w.id)?"fill-red-500 text-red-500":""}`}),l(w.id)?"Saved":"Save"]}),t.jsxs(ae,{onClick:()=>navigator.share?.({title:w.title,url:window.location.href}),variant:"outline",className:"flex items-center gap-2","data-testid":"button-share",children:[t.jsx(la,{className:"h-5 w-5"}),"Share"]})]})]})}),t.jsx(Be,{className:"border-gray-200 dark:border-gray-800",children:t.jsxs(He,{className:"p-5",children:[t.jsxs("button",{onClick:()=>D("overview"),className:"flex items-center justify-between w-full text-left","data-testid":"section-overview-toggle",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About This Property"}),y.overview?t.jsx(Hn,{className:"h-5 w-5"}):t.jsx(bn,{className:"h-5 w-5"})]}),y.overview&&t.jsxs("div",{className:"mt-4 space-y-4",children:[t.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:w.description||`Welcome to this beautiful ${H}-bedroom, ${R}-bathroom ${w.property_type||"home"} in the heart of ${w.city}. ${w.furnished?"This fully furnished property is move-in ready and includes all essential furniture.":""} ${W>2e3?`With ${W.toLocaleString()} square feet of living space, there is plenty of room for comfortable living.`:""} ${w.pets_allowed?"Pets are welcome in this home.":""}`}),B&&Array.isArray(B)&&B.length>0&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-800",children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-2",children:"Neighborhood Highlights"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:B.slice(0,4).map((G,q)=>t.jsxs(lt,{variant:"outline",className:"text-xs",children:[G.name," - ",G.distance]},q))})]})]})]})}),t.jsx(Be,{className:"border-gray-200 dark:border-gray-800",children:t.jsxs(He,{className:"p-5",children:[t.jsxs("button",{onClick:()=>D("facts"),className:"flex items-center justify-between w-full text-left","data-testid":"section-facts-toggle",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Facts & Features"}),y.facts?t.jsx(Hn,{className:"h-5 w-5"}):t.jsx(bn,{className:"h-5 w-5"})]}),y.facts&&t.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Interior"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-800",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Bedrooms"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:H})]}),t.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-800",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Bathrooms"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:R})]}),t.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-800",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Square Feet"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:W.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-800",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Furnished"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:w.furnished?"Yes":"No"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Rental Terms"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-800",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Property Type"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:w.property_type||"Apartment"})]}),t.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-800",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Lease Term"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:w.lease_term||"12 months"})]}),t.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-800",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pets Allowed"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:w.pets_allowed?"Yes":"No"})]}),t.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-800",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Available"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Now"})]})]})]})]})]})}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsxs("button",{onClick:()=>D("amenities"),className:"flex items-center justify-between w-full text-left","data-testid":"section-amenities-toggle",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Amenities"}),y.amenities?t.jsx(Hn,{className:"h-5 w-5"}):t.jsx(bn,{className:"h-5 w-5"})]}),y.amenities&&t.jsx("div",{className:"mt-4",children:t.jsx(lj,{amenities:w.amenities})})]}),T&&T.length>0&&t.jsxs("div",{className:"border-t pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Reviews"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(G=>t.jsx(ln,{className:`h-4 w-4 ${G<=Math.round(V)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},G))}),t.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["(",T.length,")"]})]})]}),t.jsx("div",{className:"space-y-4",children:T.slice(0,3).map(G=>t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg",children:[t.jsx("div",{className:"flex gap-0.5 mb-2",children:[1,2,3,4,5].map(q=>t.jsx(ln,{className:`h-3 w-3 ${q<=(G.rating||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},q))}),t.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:G.title||"Review"}),G.comment&&t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:G.comment})]},G.id))})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsxs("button",{onClick:()=>D("location"),className:"flex items-center justify-between w-full text-left","data-testid":"section-location-toggle",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Location"}),y.location?t.jsx(Hn,{className:"h-5 w-5"}):t.jsx(bn,{className:"h-5 w-5"})]}),y.location&&t.jsxs("div",{className:"mt-4 space-y-6",children:[t.jsx("div",{className:"rounded-lg overflow-hidden",children:t.jsx(mj,{center:C,title:w.title,address:w.address,nearbyPlaces:B,showControls:!0})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Nearby Places"}),t.jsx(gj,{places:B})]})]})]}),o&&(o.id===w.owner_id||o.id===w.listing_agent_id||o.role==="admin")&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"border-t pt-6",children:t.jsx(P1,{propertyId:w.id,address:w.address,city:w.city||"",state:w.state||"",zipCode:w.zip_code||void 0,isVerified:w.address_verified||!1,onVerified:G=>{}})}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsxs("button",{onClick:()=>D("management"),className:"flex items-center justify-between w-full text-left","data-testid":"section-management-toggle",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(od,{className:"h-5 w-5 text-primary"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Property Management"})]}),y.management?t.jsx(Hn,{className:"h-5 w-5"}):t.jsx(bn,{className:"h-5 w-5"})]}),y.management&&t.jsx("div",{className:"mt-4",children:t.jsx(S1,{property:w,onUpdate:()=>{}})})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"sticky top-24 space-y-4",children:[t.jsx(Be,{className:"border-gray-200 dark:border-gray-800 shadow-lg overflow-hidden",children:t.jsxs(He,{className:"p-0",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/90 p-5",children:[t.jsxs("div",{className:"flex items-baseline gap-2",children:[t.jsx("span",{className:"text-3xl font-bold text-white","data-testid":"price-display",children:Vn(w.price)}),t.jsx("span",{className:"text-white/80 text-lg",children:"/month"})]}),t.jsx("p",{className:"text-white/90 text-sm mt-1",children:"Available Now"})]}),t.jsxs("div",{className:"p-4 space-y-3",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[t.jsx(Ks,{className:"h-4 w-4 text-primary"}),"Pricing Details"]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between py-1.5 border-b border-gray-100 dark:border-gray-800",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Monthly Rent"}),t.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:Vn(w.price)})]}),t.jsxs("div",{className:"flex justify-between py-1.5 border-b border-gray-100 dark:border-gray-800",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Security Deposit"}),t.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Vn(w.price)," ",t.jsx("span",{className:"text-xs text-gray-500",children:"(refundable)"})]})]}),t.jsxs("div",{className:"flex justify-between py-1.5 border-b border-gray-100 dark:border-gray-800",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Move-in Total"}),t.jsx("span",{className:"font-bold text-primary",children:Vn(hs(w.price)*2)})]}),t.jsxs("div",{className:"flex justify-between py-1.5",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Est. Utilities"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:w.utilities_included&&w.utilities_included.length>0?t.jsx("span",{className:"text-green-600",children:"Included"}):"~$150/month"})]})]})]}),t.jsx(on,{}),t.jsxs("div",{className:"p-4 space-y-3",children:[t.jsxs(ae,{onClick:()=>_(!0),size:"lg",className:"w-full flex items-center justify-center gap-2 h-12 text-base font-bold","data-testid":"button-schedule-tour",children:[t.jsx(Wn,{className:"h-5 w-5"}),"Schedule a Tour"]}),k&&t.jsx(xj,{agent:{id:k.id,name:k.full_name||"Property Manager",email:k.email,phone:k.phone||""},propertyId:w.id,propertyTitle:w.title,triggerText:"Contact Agent"}),t.jsxs(ae,{variant:"outline",className:"w-full flex items-center justify-center gap-2 h-10","data-testid":"button-virtual-tour",children:[t.jsx(yi,{className:"h-4 w-4"}),"Virtual Tour"]}),t.jsx(Ae,{href:`/apply?propertyId=${w.id}`,className:"block",children:t.jsx(ae,{variant:"secondary",className:"w-full font-semibold h-10","data-testid":"button-apply-now",children:"Apply Now"})})]})]})}),t.jsx(Be,{className:"border-gray-200 dark:border-gray-800","data-testid":"card-trust-badges",children:t.jsxs(He,{className:"p-4",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[t.jsx(Gs,{className:"h-4 w-4 text-green-600"}),"Verified & Trusted"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300","data-testid":"badge-professional-manager",children:[t.jsx(rn,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),t.jsx("span",{children:"Professional Manager"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300","data-testid":"badge-verified-photos",children:[t.jsx(rn,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),t.jsx("span",{children:"Verified Photos"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300","data-testid":"badge-secure-application",children:[t.jsx(rn,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),t.jsx("span",{children:"Secure Application"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300","data-testid":"badge-maintenance",children:[t.jsx(rn,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),t.jsx("span",{children:"24/7 Maintenance"})]})]})]})}),t.jsx(Be,{className:"border-gray-200 dark:border-gray-800 bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30","data-testid":"card-social-proof",children:t.jsxs(He,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[t.jsx(to,{className:"h-4 w-4 text-orange-600"}),t.jsx("span",{className:"font-medium text-orange-800 dark:text-orange-300","data-testid":"text-viewer-count",children:"Popular listing"})]}),t.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-400",children:"Schedule your tour today!"})]})}),k&&t.jsx(Be,{className:"border-gray-200 dark:border-gray-800",children:t.jsxs(He,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsxs(Wh,{className:"h-14 w-14 border-2 border-primary/20",children:[t.jsx(Zh,{src:k.profile_image||void 0,alt:k.full_name||"Manager"}),t.jsx(qh,{className:"bg-primary/10 text-primary font-bold",children:k.full_name?.charAt(0)||"M"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:k.full_name||"Property Manager"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Professional Property Manager"}),t.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[t.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(G=>t.jsx(ln,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},G))}),t.jsx("span",{className:"text-xs text-gray-500",children:"3+ years experience"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("a",{href:`mailto:${k.email}`,className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[t.jsx(aa,{className:"h-4 w-4"})," ",k.email]}),k.phone&&t.jsxs("a",{href:`tel:${k.phone}`,className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[t.jsx(oa,{className:"h-4 w-4"})," ",k.phone]})]})]})}),w.furnished&&t.jsx(Be,{className:"border-gray-200 dark:border-gray-800 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30",children:t.jsx(He,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(vi,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"font-medium text-green-800 dark:text-green-300",children:"Includes all furniture - save $3,000+"})]})})}),t.jsx(q1,{monthlyRent:hs(w.price),securityDeposit:hs(w.price),petsAllowed:w.pets_allowed||!1,parkingIncluded:!1})]})})]})}),t.jsx(rj,{propertyId:w.id,propertyTitle:w.title,propertyAddress:`${w.address}, ${w.city}, ${w.state}`,open:b,onOpenChange:_}),t.jsx(aj,{price:hs(w.price),propertyId:w.id,propertyTitle:w.title,onContactClick:()=>{},onScheduleClick:()=>_(!0),onCallClick:k?.phone?()=>window.open(`tel:${k.phone}`):void 0,isFavorited:l(w.id),onFavoriteClick:()=>d(w.id),agentPhone:k?.phone||void 0}),t.jsx("div",{className:"mt-12",children:t.jsx(Nu,{})}),t.jsx("div",{className:"pb-20 md:pb-0",children:t.jsx(Qr,{})})]})}const xc=[{label:"Browse",id:"browse",offset:600},{label:"How It Works",id:"how-it-works",offset:1200},{label:"Why Us",id:"why-us",offset:1800},{label:"Properties",id:"properties",offset:2400},{label:"Reviews",id:"reviews",offset:3e3}];function wj(){const[n,a]=m.useState(!1),[r,o]=m.useState(!1);m.useEffect(()=>{const d=()=>{o(window.scrollY>600)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const l=d=>{window.scrollTo({top:d,behavior:"smooth"}),a(!1)};return r?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block sticky top-0 z-40 bg-background/95 backdrop-blur-sm border-b border-border/30",children:t.jsx("div",{className:"container mx-auto px-4 py-4",children:t.jsx("div",{className:"flex justify-center gap-2",children:xc.map(d=>t.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>l(d.offset),className:"text-foreground hover:text-secondary font-medium","data-testid":`button-nav-${d.id}`,children:d.label},d.id))})})}),t.jsx("div",{className:"md:hidden fixed bottom-6 right-6 z-40",children:t.jsx(ae,{size:"icon",className:"rounded-full shadow-lg bg-secondary hover:bg-secondary/90 h-14 w-14",onClick:()=>a(!n),"data-testid":"button-mobile-menu",children:n?t.jsx(cn,{className:"h-6 w-6"}):t.jsx(rd,{className:"h-6 w-6"})})}),n&&t.jsx("div",{className:"fixed bottom-24 right-6 z-40 bg-background border border-border/30 rounded-2xl shadow-2xl p-2 md:hidden",children:t.jsx("div",{className:"flex flex-col gap-1",children:xc.map(d=>t.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>l(d.offset),className:"justify-start text-foreground hover:text-secondary font-medium w-40","data-testid":`button-mobile-nav-${d.id}`,children:d.label},d.id))})})]}):null}function _j(){const[n,a]=m.useState(!1);return m.useEffect(()=>{const r=()=>{a(window.scrollY>600)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),n?t.jsx("div",{className:"md:hidden fixed bottom-6 left-6 z-30 animate-bounce",children:t.jsx(Ae,{href:"/properties",children:t.jsxs(ae,{size:"lg",className:"rounded-full shadow-lg bg-secondary hover:bg-secondary/90 text-primary-foreground font-bold gap-2 h-14 px-6","data-testid":"button-floating-search",children:[t.jsx(wn,{className:"h-5 w-5"}),t.jsx("span",{children:"Find Home"})]})})}):null}var Hr={exports:{}},jj=Hr.exports,vc;function Nj(){return vc||(vc=1,(function(n,a){(function(r,o){n.exports=o()})(jj,function(){return(function(r){function o(d){if(l[d])return l[d].exports;var u=l[d]={exports:{},id:d,loaded:!1};return r[d].call(u.exports,u,u.exports,o),u.loaded=!0,u.exports}var l={};return o.m=r,o.c=l,o.p="dist/",o(0)})([function(r,o,l){function d(D){return D&&D.__esModule?D:{default:D}}var u=Object.assign||function(D){for(var re=1;re<arguments.length;re++){var Z=arguments[re];for(var te in Z)Object.prototype.hasOwnProperty.call(Z,te)&&(D[te]=Z[te])}return D},p=l(1),g=(d(p),l(6)),x=d(g),y=l(7),h=d(y),b=l(8),_=d(b),S=l(9),j=d(S),w=l(10),k=d(w),T=l(11),P=d(T),z=l(14),Q=d(z),B=[],H=!1,R={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},W=function(){var D=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(D&&(H=!0),H)return B=(0,P.default)(B,R),(0,k.default)(B,R.once),B},K=function(){B=(0,Q.default)(),W()},F=function(){B.forEach(function(D,re){D.node.removeAttribute("data-aos"),D.node.removeAttribute("data-aos-easing"),D.node.removeAttribute("data-aos-duration"),D.node.removeAttribute("data-aos-delay")})},C=function(D){return D===!0||D==="mobile"&&j.default.mobile()||D==="phone"&&j.default.phone()||D==="tablet"&&j.default.tablet()||typeof D=="function"&&D()===!0},V=function(D){R=u(R,D),B=(0,Q.default)();var re=document.all&&!window.atob;return C(R.disable)||re?F():(R.disableMutationObserver||_.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),R.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",R.easing),document.querySelector("body").setAttribute("data-aos-duration",R.duration),document.querySelector("body").setAttribute("data-aos-delay",R.delay),R.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?W(!0):R.startEvent==="load"?window.addEventListener(R.startEvent,function(){W(!0)}):document.addEventListener(R.startEvent,function(){W(!0)}),window.addEventListener("resize",(0,h.default)(W,R.debounceDelay,!0)),window.addEventListener("orientationchange",(0,h.default)(W,R.debounceDelay,!0)),window.addEventListener("scroll",(0,x.default)(function(){(0,k.default)(B,R.once)},R.throttleDelay)),R.disableMutationObserver||_.default.ready("[data-aos]",K),B)};r.exports={init:V,refresh:W,refreshHard:K}},function(r,o){},,,,,function(r,o){(function(l){function d(C,V,D){function re(se){var qe=X,Je=J;return X=J=void 0,pe=se,$=C.apply(Je,qe)}function Z(se){return pe=se,ne=setTimeout(G,V),fe?re(se):$}function te(se){var qe=se-be,Je=se-pe,et=V-qe;return xe?K(et,Y-Je):et}function I(se){var qe=se-be,Je=se-pe;return be===void 0||qe>=V||qe<0||xe&&Je>=Y}function G(){var se=F();return I(se)?q(se):void(ne=setTimeout(G,te(se)))}function q(se){return ne=void 0,je&&X?re(se):(X=J=void 0,$)}function ue(){ne!==void 0&&clearTimeout(ne),pe=0,X=be=J=ne=void 0}function ye(){return ne===void 0?$:q(F())}function E(){var se=F(),qe=I(se);if(X=arguments,J=this,be=se,qe){if(ne===void 0)return Z(be);if(xe)return ne=setTimeout(G,V),re(be)}return ne===void 0&&(ne=setTimeout(G,V)),$}var X,J,Y,$,ne,be,pe=0,fe=!1,xe=!1,je=!0;if(typeof C!="function")throw new TypeError(b);return V=y(V)||0,p(D)&&(fe=!!D.leading,xe="maxWait"in D,Y=xe?W(y(D.maxWait)||0,V):Y,je="trailing"in D?!!D.trailing:je),E.cancel=ue,E.flush=ye,E}function u(C,V,D){var re=!0,Z=!0;if(typeof C!="function")throw new TypeError(b);return p(D)&&(re="leading"in D?!!D.leading:re,Z="trailing"in D?!!D.trailing:Z),d(C,V,{leading:re,maxWait:V,trailing:Z})}function p(C){var V=typeof C>"u"?"undefined":h(C);return!!C&&(V=="object"||V=="function")}function g(C){return!!C&&(typeof C>"u"?"undefined":h(C))=="object"}function x(C){return(typeof C>"u"?"undefined":h(C))=="symbol"||g(C)&&R.call(C)==S}function y(C){if(typeof C=="number")return C;if(x(C))return _;if(p(C)){var V=typeof C.valueOf=="function"?C.valueOf():C;C=p(V)?V+"":V}if(typeof C!="string")return C===0?C:+C;C=C.replace(j,"");var D=k.test(C);return D||T.test(C)?P(C.slice(2),D?2:8):w.test(C)?_:+C}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},b="Expected a function",_=NaN,S="[object Symbol]",j=/^\s+|\s+$/g,w=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,T=/^0o[0-7]+$/i,P=parseInt,z=(typeof l>"u"?"undefined":h(l))=="object"&&l&&l.Object===Object&&l,Q=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,B=z||Q||Function("return this")(),H=Object.prototype,R=H.toString,W=Math.max,K=Math.min,F=function(){return B.Date.now()};r.exports=u}).call(o,(function(){return this})())},function(r,o){(function(l){function d(F,C,V){function D(je){var se=E,qe=X;return E=X=void 0,be=je,Y=F.apply(qe,se)}function re(je){return be=je,$=setTimeout(I,C),pe?D(je):Y}function Z(je){var se=je-ne,qe=je-be,Je=C-se;return fe?W(Je,J-qe):Je}function te(je){var se=je-ne,qe=je-be;return ne===void 0||se>=C||se<0||fe&&qe>=J}function I(){var je=K();return te(je)?G(je):void($=setTimeout(I,Z(je)))}function G(je){return $=void 0,xe&&E?D(je):(E=X=void 0,Y)}function q(){$!==void 0&&clearTimeout($),be=0,E=ne=X=$=void 0}function ue(){return $===void 0?Y:G(K())}function ye(){var je=K(),se=te(je);if(E=arguments,X=this,ne=je,se){if($===void 0)return re(ne);if(fe)return $=setTimeout(I,C),D(ne)}return $===void 0&&($=setTimeout(I,C)),Y}var E,X,J,Y,$,ne,be=0,pe=!1,fe=!1,xe=!0;if(typeof F!="function")throw new TypeError(h);return C=x(C)||0,u(V)&&(pe=!!V.leading,fe="maxWait"in V,J=fe?R(x(V.maxWait)||0,C):J,xe="trailing"in V?!!V.trailing:xe),ye.cancel=q,ye.flush=ue,ye}function u(F){var C=typeof F>"u"?"undefined":y(F);return!!F&&(C=="object"||C=="function")}function p(F){return!!F&&(typeof F>"u"?"undefined":y(F))=="object"}function g(F){return(typeof F>"u"?"undefined":y(F))=="symbol"||p(F)&&H.call(F)==_}function x(F){if(typeof F=="number")return F;if(g(F))return b;if(u(F)){var C=typeof F.valueOf=="function"?F.valueOf():F;F=u(C)?C+"":C}if(typeof F!="string")return F===0?F:+F;F=F.replace(S,"");var V=w.test(F);return V||k.test(F)?T(F.slice(2),V?2:8):j.test(F)?b:+F}var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},h="Expected a function",b=NaN,_="[object Symbol]",S=/^\s+|\s+$/g,j=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,k=/^0o[0-7]+$/i,T=parseInt,P=(typeof l>"u"?"undefined":y(l))=="object"&&l&&l.Object===Object&&l,z=(typeof self>"u"?"undefined":y(self))=="object"&&self&&self.Object===Object&&self,Q=P||z||Function("return this")(),B=Object.prototype,H=B.toString,R=Math.max,W=Math.min,K=function(){return Q.Date.now()};r.exports=d}).call(o,(function(){return this})())},function(r,o){function l(y){var h=void 0,b=void 0;for(h=0;h<y.length;h+=1)if(b=y[h],b.dataset&&b.dataset.aos||b.children&&l(b.children))return!0;return!1}function d(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function u(){return!!d()}function p(y,h){var b=window.document,_=d(),S=new _(g);x=h,S.observe(b.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function g(y){y&&y.forEach(function(h){var b=Array.prototype.slice.call(h.addedNodes),_=Array.prototype.slice.call(h.removedNodes),S=b.concat(_);if(l(S))return x()})}Object.defineProperty(o,"__esModule",{value:!0});var x=function(){};o.default={isSupported:u,ready:p}},function(r,o){function l(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function d(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(o,"__esModule",{value:!0});var u=(function(){function b(_,S){for(var j=0;j<S.length;j++){var w=S[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,S,j){return S&&b(_.prototype,S),j&&b(_,j),_}})(),p=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,g=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,x=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,y=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=(function(){function b(){l(this,b)}return u(b,[{key:"phone",value:function(){var _=d();return!(!p.test(_)&&!g.test(_.substr(0,4)))}},{key:"mobile",value:function(){var _=d();return!(!x.test(_)&&!y.test(_.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),b})();o.default=new h},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(u,p,g){var x=u.node.getAttribute("data-aos-once");p>u.position?u.node.classList.add("aos-animate"):typeof x<"u"&&(x==="false"||!g&&x!=="true")&&u.node.classList.remove("aos-animate")},d=function(u,p){var g=window.pageYOffset,x=window.innerHeight;u.forEach(function(y,h){l(y,x+g,p)})};o.default=d},function(r,o,l){function d(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(o,"__esModule",{value:!0});var u=l(12),p=d(u),g=function(x,y){return x.forEach(function(h,b){h.node.classList.add("aos-init"),h.position=(0,p.default)(h.node,y.offset)}),x};o.default=g},function(r,o,l){function d(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(o,"__esModule",{value:!0});var u=l(13),p=d(u),g=function(x,y){var h=0,b=0,_=window.innerHeight,S={offset:x.getAttribute("data-aos-offset"),anchor:x.getAttribute("data-aos-anchor"),anchorPlacement:x.getAttribute("data-aos-anchor-placement")};switch(S.offset&&!isNaN(S.offset)&&(b=parseInt(S.offset)),S.anchor&&document.querySelectorAll(S.anchor)&&(x=document.querySelectorAll(S.anchor)[0]),h=(0,p.default)(x).top,S.anchorPlacement){case"top-bottom":break;case"center-bottom":h+=x.offsetHeight/2;break;case"bottom-bottom":h+=x.offsetHeight;break;case"top-center":h+=_/2;break;case"bottom-center":h+=_/2+x.offsetHeight;break;case"center-center":h+=_/2+x.offsetHeight/2;break;case"top-top":h+=_;break;case"bottom-top":h+=x.offsetHeight+_;break;case"center-top":h+=x.offsetHeight/2+_}return S.anchorPlacement||S.offset||isNaN(y)||(b=y),h+b};o.default=g},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(d){for(var u=0,p=0;d&&!isNaN(d.offsetLeft)&&!isNaN(d.offsetTop);)u+=d.offsetLeft-(d.tagName!="BODY"?d.scrollLeft:0),p+=d.offsetTop-(d.tagName!="BODY"?d.scrollTop:0),d=d.offsetParent;return{top:p,left:u}};o.default=l},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(d){return d=d||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(d,function(u){return{node:u}})};o.default=l}])})})(Hr)),Hr.exports}var kj=Nj();const Sj=Fc(kj),Pj=m.lazy(()=>Me(()=>import("./apply-BP_n_D-6.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),Cj=m.lazy(()=>Me(()=>import("./about-DhFvM7Uf.js"),__vite__mapDeps([16,1,2,14,15]))),Tj=m.lazy(()=>Me(()=>import("./contact-DnMr5sZJ.js"),__vite__mapDeps([17,1,2,4,5,6,14,15]))),Ej=m.lazy(()=>Me(()=>import("./privacy-B-dq-alk.js"),__vite__mapDeps([18,1,2,14,15]))),Mj=m.lazy(()=>Me(()=>import("./terms-CUN70F5-.js"),__vite__mapDeps([19,1,2,14,15]))),Lj=m.lazy(()=>Me(()=>import("./faq-z4kUuX8e.js"),__vite__mapDeps([20,1,2,14,15]))),Aj=m.lazy(()=>Me(()=>import("./success-stories-C2Bf5VX5.js"),__vite__mapDeps([21,1,2,14,15]))),Rj=m.lazy(()=>Me(()=>import("./login-CfFpxBv7.js"),__vite__mapDeps([22,1,2,3,4,5,23,6,24,8,14,15]))),Ij=m.lazy(()=>Me(()=>import("./signup-rxjWApAe.js"),__vite__mapDeps([25,1,2,3,4,5,23,6,24,9,26,27,8,14,15]))),Oj=m.lazy(()=>Me(()=>import("./forgot-password-DCGaBZ9Y.js"),__vite__mapDeps([28,1,2,4,5,6,12,14,15]))),Dj=m.lazy(()=>Me(()=>import("./reset-password-oPApywgz.js"),__vite__mapDeps([29,1,2,4,5,6,8,14,15]))),zj=m.lazy(()=>Me(()=>import("./auth-callback-DVkAwnXn.js"),__vite__mapDeps([30,1,2,14,15]))),Bj=m.lazy(()=>Me(()=>import("./verify-email-DQsjXkRu.js"),__vite__mapDeps([31,1,2,24,26,14,15]))),Fj=m.lazy(()=>Me(()=>import("./select-role-BhtTtGQv.js"),__vite__mapDeps([32,1,2,27,14,15]))),Hj=m.lazy(()=>Me(()=>import("./applications-CQO5nZcq.js"),__vite__mapDeps([33,1,2,14,34,15]))),Vj=m.lazy(()=>Me(()=>import("./application-detail-DeO-qs4L.js"),__vite__mapDeps([35,1,2,14,36,34,27,12,15]))),$j=m.lazy(()=>Me(()=>import("./renter-dashboard-i73Y4nrO.js"),__vite__mapDeps([37,1,2,34,7,3,8,38,13,14,15]))),Wj=m.lazy(()=>Me(()=>import("./tenant-profile-wHf9H4od.js"),__vite__mapDeps([39,1,2,6,4,5,14,15]))),Zj=m.lazy(()=>Me(()=>import("./tenant-lease-dashboard-DgwjaTfM.js"),__vite__mapDeps([40,1,2,14,41,42,15]))),qj=m.lazy(()=>Me(()=>import("./tenant-payments-dashboard-BI4qjf1X.js"),__vite__mapDeps([43,1,2,14,15]))),Uj=m.lazy(()=>Me(()=>import("./landlord-dashboard-BtgMg7M9.js"),__vite__mapDeps([44,1,2,45,46,14,36,38,15]))),Yj=m.lazy(()=>Me(()=>import("./landlord-properties-e0iVbh_4.js"),__vite__mapDeps([47,1,2,4,5,45,3,12,13,48,14,15]))),Kj=m.lazy(()=>Me(()=>import("./landlord-applications-udjgU7GY.js"),__vite__mapDeps([49,1,2,46,14,12,15]))),Gj=m.lazy(()=>Me(()=>import("./landlord-profile-Xd8Qe5vY.js"),__vite__mapDeps([50,1,2,6,4,5,12,14,15]))),Xj=m.lazy(()=>Me(()=>import("./landlord-lease-dashboard-DO8Fm4j3.js"),__vite__mapDeps([51,1,2,14,41,15]))),Jj=m.lazy(()=>Me(()=>import("./landlord-payments-verification-BXt6i_8Z.js"),__vite__mapDeps([52,1,2,14,15]))),Qj=m.lazy(()=>Me(()=>import("./landlord-payment-history-Bj9dytnf.js"),__vite__mapDeps([53,1,2,14,42,15]))),eN=m.lazy(()=>Me(()=>import("./agent-dashboard-new-AK0L0nJu.js"),__vite__mapDeps([54,1,2,14,15]))),tN=m.lazy(()=>Me(()=>import("./agent-properties-g6iorhUw.js"),__vite__mapDeps([55,1,2,12,14,15]))),nN=m.lazy(()=>Me(()=>import("./agent-applications-F2FbZiwO.js"),__vite__mapDeps([56,1,2,12,14,15]))),sN=m.lazy(()=>Me(()=>import("./agent-profile-BjQTRTgR.js"),__vite__mapDeps([57,1,2,12,58,48,14,15]))),rN=m.lazy(()=>Me(()=>import("./admin-0ra1Wcrj.js"),__vite__mapDeps([59,1,2,34,15,48,11,14]))),aN=m.lazy(()=>Me(()=>import("./admin-storage-monitor-D3jfDPXE.js"),__vite__mapDeps([60,1,2,14,15]))),iN=m.lazy(()=>Me(()=>import("./messages-DZe8TATi.js"),__vite__mapDeps([61,1,2,14,12,10,15]))),oN=m.lazy(()=>Me(()=>import("./owner-profile-cg_mkz5k.js"),__vite__mapDeps([62,1,2,14,15]))),lN=m.lazy(()=>Me(()=>import("./property-requirements-7rWioqT9.js"),__vite__mapDeps([63,1,2,3,42,58,14,15])));function Le(){return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:t.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[t.jsx("div",{className:"h-8 w-8 border-2 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Loading..."})]})})}function cN(){return t.jsxs(Ip,{children:[t.jsx(ke,{path:"/",component:mw}),t.jsx(ke,{path:"/properties",component:i1}),t.jsx(ke,{path:"/property/:id",component:bj}),t.jsx(ke,{path:"/owner/:slug",component:oN}),t.jsx(ke,{path:"/login",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(Rj,{})})}),t.jsx(ke,{path:"/signup",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(Ij,{})})}),t.jsx(ke,{path:"/forgot-password",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(Oj,{})})}),t.jsx(ke,{path:"/reset-password",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(Dj,{})})}),t.jsx(ke,{path:"/auth/callback",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(zj,{})})}),t.jsx(ke,{path:"/verify-email",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(Bj,{})})}),t.jsx(ke,{path:"/select-role",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(Fj,{})})}),t.jsx(ke,{path:"/applications",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{children:t.jsx(Hj,{})})})}),t.jsx(ke,{path:"/applications/:id",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{children:t.jsx(Vj,{})})})}),t.jsx(ke,{path:"/messages",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requireEmailVerification:!1,children:t.jsx(iN,{})})})}),t.jsx(ke,{path:"/renter-dashboard",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["renter"],children:t.jsx($j,{})})})}),t.jsx(ke,{path:"/tenant-profile",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["renter"],children:t.jsx(Wj,{})})})}),t.jsx(ke,{path:"/tenant-lease-dashboard",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["renter"],children:t.jsx(Zj,{})})})}),t.jsx(ke,{path:"/tenant-payments",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["renter"],children:t.jsx(qj,{})})})}),t.jsx(ke,{path:"/landlord-dashboard",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["landlord","property_manager","admin"],children:t.jsx(Uj,{})})})}),t.jsx(ke,{path:"/landlord-properties",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["landlord","property_manager","admin"],children:t.jsx(Yj,{})})})}),t.jsx(ke,{path:"/landlord-applications",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["landlord","property_manager","admin"],children:t.jsx(Kj,{})})})}),t.jsx(ke,{path:"/landlord-profile",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["landlord","property_manager","admin"],children:t.jsx(Gj,{})})})}),t.jsx(ke,{path:"/landlord-lease-dashboard",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["landlord","property_manager","admin"],children:t.jsx(Xj,{})})})}),t.jsx(ke,{path:"/landlord-payments-verification",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["landlord","property_manager","admin"],children:t.jsx(Jj,{})})})}),t.jsx(ke,{path:"/landlord-payment-history/:leaseId",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["landlord","property_manager","admin"],children:t.jsx(Qj,{})})})}),t.jsx(ke,{path:"/agent-dashboard",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["agent","admin"],children:t.jsx(eN,{})})})}),t.jsx(ke,{path:"/agent-properties",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["agent","admin"],children:t.jsx(tN,{})})})}),t.jsx(ke,{path:"/agent-applications",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["agent","admin"],children:t.jsx(nN,{})})})}),t.jsx(ke,{path:"/agent-profile",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["agent","admin"],children:t.jsx(sN,{})})})}),t.jsx(ke,{path:"/admin",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["admin"],children:t.jsx(rN,{})})})}),t.jsx(ke,{path:"/admin/storage-monitor",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(st,{requiredRoles:["admin"],children:t.jsx(aN,{})})})}),t.jsx(ke,{path:"/apply",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(Pj,{})})}),t.jsx(ke,{path:"/about",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(Cj,{})})}),t.jsx(ke,{path:"/contact",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(Tj,{})})}),t.jsx(ke,{path:"/privacy",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(Ej,{})})}),t.jsx(ke,{path:"/terms",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(Mj,{})})}),t.jsx(ke,{path:"/faq",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(Lj,{})})}),t.jsx(ke,{path:"/success-stories",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(Aj,{})})}),t.jsx(ke,{path:"/property-requirements",children:t.jsx(m.Suspense,{fallback:t.jsx(Le,{}),children:t.jsx(lN,{})})}),t.jsx(ke,{component:Lm})]})}function dN(){return m.useEffect(()=>{Sj.init({duration:1e3,once:!0,easing:"ease-out-cubic"})},[]),t.jsx(Dp,{children:t.jsx(ry,{children:t.jsx(dp,{client:Fn,children:t.jsx(Zv,{children:t.jsxs(cy,{children:[t.jsx(y0,{}),t.jsx(q0,{position:"top-right",richColors:!0,closeButton:!0}),t.jsx(wj,{}),t.jsx(_j,{}),t.jsx(cN,{})]})})})})})}const uN={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},hN=[{key:"VITE_SUPABASE_URL",required:!0,description:"Supabase project URL"},{key:"VITE_SUPABASE_ANON_KEY",required:!0,description:"Supabase anonymous/public key"},{key:"VITE_IMAGEKIT_URL_ENDPOINT",required:!1,description:"ImageKit URL endpoint for images"},{key:"VITE_VAPID_PUBLIC_KEY",required:!1,description:"VAPID public key for push notifications"}];function mN(){const n=[],a={};for(const r of hN){const o=uN[r.key];a[r.key]=!!o,r.required&&!o&&n.push(r.key)}return{valid:n.length===0,missing:n,configured:a}}const yc=mN();yc.valid||console.error(`[ENV ERROR] Missing required environment variables: ${yc.missing.join(", ")}
Add these to Replit Secrets and restart the application.
See SETUP.md for instructions.`);console.warn(`[SUPABASE] Not configured. Authentication will not work.
Add VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY to Replit Secrets.`);Ub();hp.createRoot(document.getElementById("root")).render(t.jsx(dN,{}));export{Pi as $,rn as A,lt as B,Be as C,fa as D,to as E,an as F,yn as G,ny as H,Dt as I,dr as J,Qr as K,Ol as L,aa as M,Jr as N,no as O,oa as P,ja as Q,sy as R,It as S,Bx as T,Zr as U,gi as V,on as W,bt as X,Ae as Y,Ks as Z,Jc as _,ao as a,wN as a$,qn as a0,ir as a1,td as a2,cw as a3,vw as a4,BN as a5,bn as a6,uw as a7,ln as a8,Xs as a9,qh as aA,ut as aB,da as aC,ux as aD,ta as aE,n1 as aF,HN as aG,K0 as aH,Mp as aI,ju as aJ,pa as aK,ty as aL,vN as aM,SN as aN,TN as aO,kN as aP,LN as aQ,RN as aR,IN as aS,ON as aT,DN as aU,zN as aV,rd as aW,od as aX,px as aY,yN as aZ,bN as a_,eo as aa,Vr as ab,cn as ac,ee as ad,Rt as ae,mx as af,FN as ag,cd as ah,$x as ai,ad as aj,ni as ak,Wn as al,Lp as am,Se as an,_N as ao,jN as ap,co as aq,Dl as ar,wn as as,Tt as at,ar as au,ra as av,sd as aw,_x as ax,Wh as ay,Zh as az,fw as b,EN as b0,MN as b1,PN as b2,NN as b3,CN as b4,AN as b5,fu as b6,Lm as b7,Si as b8,la as b9,Ur as ba,ae as c,cr as d,ur as e,wo as f,kt as g,Ot as h,St as i,ge as j,gw as k,He as l,Rl as m,Zn as n,Ys as o,dd as p,xi as q,vn as r,Fn as s,de as t,vs as u,zl as v,Gs as w,Hg as x,bo as y,Ji as z};
